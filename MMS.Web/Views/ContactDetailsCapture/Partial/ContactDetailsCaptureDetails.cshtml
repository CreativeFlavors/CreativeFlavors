@model MMS.Data.StoredProcedureModel.ContactDetailsSupplierModel
@using MMS.Repository.Managers
@using MMS.Core.Entities
@{
    int id = Model.ContactDetailsCode;
    Session["ContactDetailsCode"] = id;

}

<script>
    $(document).ready(function () {
        $(document).ajaxStart(function () {
            $(".loader-overlay").css("display", "block");
        });

        $(document).ajaxComplete(function () {
            $(".loader-overlay").css("display", "none");
        });
        $(window).load(function () {
            $('.loader-overlay').fadeOut('fast');
        });
        $('#blah').hide();
        $('#blah2').hide();
    });

    //Preview & Update an image before it is uploaded
    function readURL(input) {
        $('#originalimg').hide();
        $('#originalimg2').hide();
        $('#blah').show();
        $('#blah2').show();
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#blah').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
        if (input.files && input.files[1]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#blah2').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[1]);
        }
    }

    $("#UploadImg").change(function () {
        readURL(this);
    });
</script>

<div class="right-form-section clearfix">
    <form class="form-inline" role="form">

        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#step1">Contact Details</a></li>
        </ul>

        <div class="tab-content">
            <div id="step1" class="tab-pane fade in active">
                <div class="container-fluid">

                    <div class="row" style="margin-top: 20px;">
                        <div class="col-md-8 col-sm-8 col-lg-8 col-xs-12 no-padding">



                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">Company Name</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @*@Html.DropDownListFor(m => m.companyID, MMS.Web.ExtensionMethod.HtmlHelper.ContactCompanyName(), new { @class = "select-style text-field" })*@
                                        @Html.TextBoxFor(m => m.CompanyName, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">Contact Person</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.HiddenFor(m => m.ContactDetailsCode)
                                        @Html.TextBoxFor(m => m.ContactPerson, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>

                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">LandlineNumber1</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.LandlineNumber1, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>




                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">LandlineNumber2</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.LandlineNumber2, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">ExtensionNumber</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.ExtensionNumber, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">FaxNumber</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.FaxNumber, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">Mobile</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.Mobile, new { @class = "form-control text-field", onkeypress = "return isNumberKey(event)" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">Email Id</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.EmailId, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">WebsiteAddress</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.WebsiteAddress, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>

                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">Industry</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.Industry, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">Business</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.Business, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">OtherDetails</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.OtherDetails, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">Remarks</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.Remarks, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12">
                                        <label for="text" class="form-label">Address</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.Address, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section ">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 stage_lable_sec">
                                        <label for="text" class="form-label">VisitingCard </label>
                                    </div>

                                    @if (Model != null && Model.VisitingCardFront != "" && Model.VisitingCardFront != null && Model.VisitingCardBack != "" && Model.VisitingCardBack != null)
                                    {
                                        //string suppliername = Model.suppliername;
                                        string suppliername = Model.CompanyName;
                                        string filepath = Model.VisitingCardFront;
                                        string filename = filepath.Split('\\').Last();
                                        string scr = "../VisitingCards/" + "/" + suppliername + "/" + filename;
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="originalimg">

                                                <img src="@Url.Content(scr)" alt="Image" style="float: right;height: 100px;width:150px;padding-bottom:10px"  />

                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 stage_lable_sec">
                                                <label for="text" class="form-label">VisitingCard </label>
                                            </div>

                                            string filepath2 = Model.VisitingCardBack;
                                            string filename2 = filepath2.Split('\\').Last();
                                            string scr2 = "../VisitingCards/" + "/" + suppliername + "/" + filename2;
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="originalimg2">

                                                <img src="@Url.Content(scr2)" alt="Image" style="float: right;height: 100px;width:150px;" />

                                            </div>
                                            <img id="blah" class="photo"  style="float: right;height: 100px;width:150px;" />
                                            <img id="blah2" class="photo"  style="float: right;height: 100px;width:150px;" />
                                           
                                            <input type='file' id="UploadImg" name="image" multiple/>
                                        }


                                        else
                                        {
                                            @*<div>
                                                <input type="file" id="UploadImg" multiple>
                                            </div>*@

                                            <img id="blah" class="photo" style="float: right;height: 100px;width:150px;" />
                                            <img id="blah2" class="photo" style="float: right;height: 100px;width:150px;" />

                                            <input type='file' id="UploadImg" name="image" multiple/>
                                        }
                                    
                                  
                                </div>
                            </div>
                          
                           





                            <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            </div>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>





        </div>
        <div class="form-footer">
            <div class="row">
                <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 text-center">



                    <input type="button" onclick="Cancel()" class="btn btn-default btn-style" title="Back" value="Back">
                    @if (Model != null && Model.ContactDetailsCode != 0)
                    {

                        <input type="button" onclick="Update()" class="btn btn-default btn-style" id="ContactDetailsCode" title="Update" value="Update">
                    }
                    else
                    {
                        <input type="button" onclick="Save()" class="btn btn-default btn-style" title="Save" value="Save">
                    }
                    <button type="submit" class="btn btn-default btn-style">Clear</button>


                </div>
            </div>
        </div>
    </form>
    @*<p class="bottom-para"><b>PS</b> : Import to be incorporated from customer given Excel sheet.</p>*@
</div>






<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="/resources/demos/style.css">

<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

