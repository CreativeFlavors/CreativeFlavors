@model MMS.Web.Models.StockModel.PurchaseOrderModel
@using MMS.Repository.Managers.StockManager
@using MMS.Core.Entities.Stock
@using MMS.Core.Entities
@{
    ViewBag.Title = "PurchaseOrderDetails";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int PurchaseOrderID = 0;
    List<PurchaseOrder> purchaseOrder = new List<PurchaseOrder>();
    if (Model != null)
    {
        PurchaseOrderManager purchaseOrderManager = new PurchaseOrderManager();
        purchaseOrder = purchaseOrderManager.Get();
        Model.PurchaserOrderList = purchaseOrder;
        PurchaseOrderID = Model.PoOrderId;
        Model.MachinaryMaterialID = Model.Machinename;
    }
    MMS.Repository.Managers.SupplierMasterManager supplierMasterManager = new MMS.Repository.Managers.SupplierMasterManager();
    SupplierMaster supplierMaster = new SupplierMaster();
    MMS.Repository.Managers.MachineryMasterManager machineryMasterManager = new MMS.Repository.Managers.MachineryMasterManager();
    MachineryMaster machineryMaster = new MachineryMaster();
    tbl_PermissionSetting PermissionSettingModel = new MMS.Core.Entities.tbl_PermissionSetting();
    PermissionSettingModel = MMS.Web.ExtensionMethod.HtmlHelper.GetPermissionIdList();
    List<tbl_Permission> PermissionModel = new List<tbl_Permission>();
    PermissionModel = MMS.Web.ExtensionMethod.HtmlHelper.GetPermissionList("Purchase Order", PermissionSettingModel.PermissionID);
    bool Save = false; bool Update = false; bool Instruct = false; bool ExcelforPL = false; bool Schedule = false;
    bool AddMaterial = false; bool NotifyMsgMSS = false; bool PageEdit = false; bool DeliverTo = false; bool Delete = false; bool Edit = false;
    foreach (var item in PermissionModel)
    {
        if (item.PermissionDesc == "Save")
        {
            Save = true;
        }
        if (item.PermissionDesc == "Edit")
        {
            Edit = true;
        }
        if (item.PermissionDesc == "Delete")
        {
            Delete = true;
        }
        if (item.PermissionDesc == "Update")
        {
            Update = true;
        }
        if (item.PermissionDesc == "Instruct")
        {
            Instruct = true;
        }
        if (item.PermissionDesc == "Excel for  P/L")
        {
            ExcelforPL = true;
        }
        if (item.PermissionDesc == "Schedule")
        {
            Schedule = true;
        }
        if (item.PermissionDesc == "Add Material")
        {
            AddMaterial = true;
        }
        if (item.PermissionDesc == "Notify Msg / MSS")
        {
            NotifyMsgMSS = true;
        }
        if (item.PermissionDesc == "PageEdit")
        {
            PageEdit = true;
        }
        if (item.PermissionDesc == "Deliver To")
        {
            DeliverTo = true;
        }
    }
}
<style>
    .not-allowed input {
        cursor: not-allowed !important;
    }

    .not-allowed {
        cursor: not-allowed !important;
    }

    .right-form-section {
        width: 98% !important;
    }

    #ui-id-3, #ui-id-4 {
        width: 158px !important;
        height: 150px;
        overflow: auto;
    }

    .numeric-width .custom-combobox {
        width: 66% !important;
    }

    /*Search dropdown star*/
    .scrollable {
        overflow: auto;
        width: 300px; /* adjust this width depending to amount of text to display */
        height: 200px; /* adjust height depending on number of options to display */
    }

        .scrollable select {
            border: none;
        }

    .customDrop, customDropHeader {
        padding-left: 0px !important;
        z-index: 999999999;
        position: absolute;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
    }

    .listItemPL {
        cursor: pointer;
        padding: 5px;
        border: 1px solid #94c0d2;
        list-style: none;
        border-bottom-style: none;
        background-color: #daecf4;
    }

        .listItemPL:hover {
            background-color: #9ED9F9;
        }

    .customDrop {
        position: relative;
        height: 66px;
        overflow-y: auto;
        margin-top: 0;
        width: 286px;
        overflow-x: hidden;
    }
    /*search dropdown end*/
</style>
<p class="section-title">Purchase Order</p>
<div class="right-form-section clearfix" id="purchaseOrderId">
    <div style="float:right;margin-top:5px;margin-bottom:10px;text-align:right;" class="col-xs-12">
        <button type="submit" class="btn btn-default btn-style" onclick="Cancel()">Close</button>
    </div>

    <form class="form-inline" role="form">
        <ul class="nav nav-tabs">
            <li class="active"><a id="listep1" data-toggle="tab" href="#step1">step 1</a></li>
            <li><a id="listep2" data-toggle="tab" href="#step3">Step 2</a></li>
            <li><a id="listep3" data-toggle="tab" href="#step2">Step 3</a></li>
        </ul>
        <div class="tab-content">
            <div id="step1" class="tab-pane fade in active">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pull-right no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 ">
                                        <label for="text" class="form-label"><span class="orange-lable">Amendment No</span></label>
                                        @Html.HiddenFor(x => x.PoOrderId)
                                        @Html.HiddenFor(x => x.StockValue)
                                        @Html.TextBoxFor(m => m.AmendmentNo, new { @class = "orange-text-field" })
                                        <label for="text" class="form-label"><span class="orange-lable">with date</span></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Po No.</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.PoNo, new { @placeholder = "Enter PoNo", @class = "form-control text-field", @readonly = true })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Date</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @if (Model != null && Model.PoOrderId != 0)
                                        {
                                            var purdate = Model.PoDate;
                                            @Html.TextBoxFor(m => m.PoDate, new { @Value = purdate, @readonly = true, @class = "form-control text-field datepick" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.PoDate, new { @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy"), @readonly = true, @class = "form-control text-field datepick" })
                                        }

                                    </div>
                                </div>
                            </div>

                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Supplier</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.DropDownListFor(m => m.Supplier, MMS.Web.ExtensionMethod.HtmlHelper.SupplierName(), new { @class = "select-style text-field numeric" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Currency</label>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12 numeric-width">

                                        @Html.DropDownListFor(m => m.Currency, MMS.Web.ExtensionMethod.HtmlHelper.CurrencyName(), new { @class = "select-style text-field numeric" })

                                    </div>
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">
                                        <div class="col-lg-12 col-md-12 no-pad">
                                            <div class="col-lg-6 col-md-6 no-pad">
                                                <label for="text" class="form-label">Ex.Rate</label>
                                            </div>
                                            <div class="col-lg-6 col-md-6 no-pad">

                                                @Html.TextBoxFor(m => m.Rate, new { @class = "form-control text-field numeric" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Insurance Details</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.InsuranceDetails, new { @class = "form-control text-field", onfocus = "1" })
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                    <label for="text" class="form-label">Tax Type</label>
                                </div>
                                <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                    <div class="col-xs-12 no-padding">
                                        @Html.DropDownListFor(m => m.TaxType, MMS.Web.ExtensionMethod.HtmlHelper.GetTaxON(), new { @class = "select-style text-field" })

                                    </div>

                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                    <label for="text" class="form-label">Order By</label>
                                </div>
                                <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                    @Html.DropDownListFor(m => m.PoType, MMS.Web.ExtensionMethod.HtmlHelper.OrderTypeName(), new { @class = "select-style text-field" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">Unit</div>
                                    <div class="col-md-5 col-sm-5 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.UnitId, MMS.Web.ExtensionMethod.HtmlHelper.UnitDivision(), new { @class = "select-style text-field" })
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                            <label for="text" class="form-label">PO Type</label>
                                        </div>
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                            <div class="col-xs-12 no-padding">
                                                @Html.DropDownListFor(m => m.OrderType, MMS.Web.ExtensionMethod.HtmlHelper.GetGRNType(), new { @class = "select-style text-field issueTypecls" })
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Freight Amt</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 pad_left">

                                            @Html.DropDownListFor(m => m.FreightType, MMS.Web.ExtensionMethod.HtmlHelper.CurrencyName(), new { @class = "select-style text-field" })

                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 no-padding">
                                            @Html.TextBoxFor(m => m.FreightAmt, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", placeholder = "enter value" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Insurance Amt</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 pad_left">

                                            @Html.DropDownListFor(m => m.InsureanceCurrency, MMS.Web.ExtensionMethod.HtmlHelper.CurrencyName(), new { @class = "select-style text-field" })

                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 no-padding">
                                            @Html.TextBoxFor(m => m.InsuranceAmount, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", placeholder = "enter value" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Customs Duty</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 pad_left">
                                            @Html.DropDownListFor(m => m.CustomsDuty, MMS.Web.ExtensionMethod.HtmlHelper.CurrencyName(), new { @class = "select-style text-field" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 no-padding">
                                            @Html.TextBoxFor(m => m.CustomsDutyType, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", placeholder = "enter value" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Pack & Forward</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 pad_left">

                                            @Html.DropDownListFor(m => m.PackForwardtype, MMS.Web.ExtensionMethod.HtmlHelper.CurrencyName(), new { @class = "select-style text-field" })

                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 no-padding">
                                            @Html.TextBoxFor(m => m.PackForward, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", placeholder = "enter value" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-xs-12">
                                        <label for="text" class="form-label">Servive Tax %</label>
                                    </div>
                                    <div class="col-xs-12">
                                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">

                                            @Html.TextBoxFor(m => m.ServiceTaxPer, new { @class = "form-control text-field allow_decimal", @onkeypress = "return isNumberKey(event)", placeholder = "enter value" })
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">

                                            @Html.DropDownListFor(m => m.ServiceTaxType, MMS.Web.ExtensionMethod.HtmlHelper.CurrencyName(), new { @class = "select-style text-field" })

                                        </div>
                                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">

                                            @Html.TextBoxFor(m => m.ServiceTaxNumbner, new { @class = "form-control text-field numeric", @onkeypress = "return isNumberKey(event)", placeholder = "enter value" })
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Last Amendment No.</label>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12">
                                        @Html.HiddenFor(m => m.IndentMaterialID)
                                        @Html.TextBoxFor(m => m.LastAmendmentNo, new { @class = "form-control text-field", @placeholder = "Enter text" })
                                    </div>
                                    <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">
                                        <div class="col-lg-12 col-md-12 no-pad">
                                            <div class="custom-datepicker">
                                                <div class='input-group date' id='datetimepicker1'>
                                                    @if (Model != null && Model.PoOrderId != 0)
                                                    {
                                                        var POLastAmendmentDate = Model.LastAmendmentDate;
                                                        @Html.TextBoxFor(m => m.LastAmendmentDate, new { @class = "form-control datepick", @readonly = true, @Value = POLastAmendmentDate })
                                                    }
                                                    else
                                                    {
                                                        @Html.TextBoxFor(m => m.LastAmendmentDate, new { @class = "form-control datepick", @readonly = true, @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy") })
                                                    }

                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Ref. Info.</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.RefInfo, new { @class = "form-control text-field", @placeholder = "Enter text" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Form </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.DropDownListFor(m => m.Form, new SelectList(new List<object> {
                                                                                            new {value = 0, text = "Please Select" },
                                                                                            new {value = 1, text = "Not Applicable" },
                                                                                            }, "value", "text", 0), new { @class = "select-style text-field" })

                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Form Name </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.FormName, new { @class = "form-control text-field", @placeholder = "Enter text" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Freight Cost Total</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextBoxFor(m => m.FreightCostTotal, new { @class = "form-control text-field", @placeholder = "Enter text" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Material Type</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.DropDownListFor(m => m.MaterialType, new SelectList(
                                       new List<object> {
                                            new { value=0, text="Please select" },
                                           new { value=1, text="Local" },
                                           new { value=2, text="Customer Import"},
                                            new { value=3, text="Direct Import"}
                                       },
                                       "value",
                                       "text", 0), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Order Closed On</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12 ">
                                        <div class="col-lg-12 col-md-12 no-pad">
                                            <div class="custom-datepicker">
                                                <div class='input-group date' id='datetimepicker1'>
                                                    @if (Model != null && Model.PoOrderId != 0)
                                                    {
                                                        var PoOrderClosedOn = Model.OrderClosedOn;
                                                        @Html.TextBoxFor(m => m.OrderClosedOn, new { @class = "form-control datepick", @disabled = true,  @Value = PoOrderClosedOn })
                                                    }
                                                    else
                                                    {
                                                        @Html.TextBoxFor(m => m.OrderClosedOn, new { @class = "form-control datepick", @disabled = true, @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy") })
                                                    }

                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="form-group">

                                            @Html.CheckBoxFor(m => m.TickToCloseOrder, new { @class = "VisibleCheck" })
                                            <label for="component-check">Tick to close order</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                @if (DeliverTo == true)
                                {
                                    <button type="button" id="BtnAutoDisplay" class="btn  packing-button">Deliver To</button>
                                }
                                else
                                {
                                    <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Deliver To">
                                }

                                <div class="del_botton_border" style="margin: 20px 0px;">
                                </div>
                            </div>
                        </div>
                        <!--second row Start--->
                        <div class="row">
                            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 no-pad">
                                <div class="col-md-4 col-lg-4 col-sm-4 col-xs-12">

                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Indent No</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="IndentNo_">
                                                @if (Model.IndentNo != null && Model.IndentNo != "")
                                                {
                                                    <div class="customDrop">
                                                        <div>
                                                            <input type="text" autocomplete="off" placeholder="Enter the order  No.." name="name" id="txtPL" class="text-field" style="width: 100%;" />
                                                        </div>
                                                        <div class="listItemPL">
                                                            <label>
                                                                <input type="checkbox" id="chkAll" value="0" /> Select All
                                                            </label>
                                                        </div>
                                                        @if (ViewBag.CountryList != null)
                                                        {
                                                            string[] indentnolist = Model.IndentNo.Split(',');
                                                            foreach (var item in ViewBag.CountryList)
                                                            {
                                                                <div class="listItemPL">
                                                                    <label>
                                                                        @foreach (var indent in indentnolist)
                                                                        {
                                                                            if (indent == item.Value)
                                                                            {
                                                                                <input type="checkbox" name="AllcheckedProductsPL" checked class="chkProduct" id="chkAll" value="@item.Value" />@item.Text
                                                                            }
                                                                            else
                                                                            {
                                                                                <input type="checkbox" name="AllcheckedProductsPL" class="chkProduct" id="chkAll" value="@item.Value" />@item.Text}

                                                                        }

                                                                    </label>
                                                                </div>
                                                            }
                                                        }

                                                    </div>
                                                    <input type="button" value="Show" title="show" style="cursor:pointer;" onclick="Indentshow()" class="internal-order-btn" />

                                                }
                                                else if (((Model.IndentNo == null || Model.IndentNo == "") && (Model.IndentNoDirectPO == null || Model.IndentNoDirectPO == 0)))
                                                {


                                                    <div class="customDrop">
                                                        <div>
                                                            <input type="text" autocomplete="off" placeholder="Enter the order  No.." name="name" id="txtPL" class="text-field" style="width: 100%;" />
                                                        </div>
                                                        <div class="listItemPL">
                                                            <label>
                                                                <input type="checkbox" id="chkAll" value="0" /> Select All
                                                            </label>
                                                        </div>
                                                        @if (ViewBag.CountryList != null)
                                                        {
                                                            foreach (var item in ViewBag.CountryList)
                                                            {
                                                                <div class="listItemPL">
                                                                    <label>
                                                                        <input type="checkbox" name="AllcheckedProductsPL" class="chkProduct" id="chkAll" value="@item.Value" />@item.Text
                                                                    </label>
                                                                </div>
                                                            }


                                                        }

                                                    </div>
                                                    <input type="button" value="Show" title="show" style="cursor:pointer;" onclick="Indentshow()" class="internal-order-btn" />

                                                    @*@Html.DropDownListFor(m => m.IndentNo, MMS.Web.ExtensionMethod.HtmlHelper.GetIndentNo(), new { @class = "select-style text-field Indentno_Cls" })*@
                                                }
                                                @*<input type="button" value="Show" onclick="Indentshow()" title="Show" style="cursor:pointer" />*@
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="IndentNoDirectPO_">
                                                @if (Model.IndentNoDirectPO != null && Model.IndentNoDirectPO != 0)
                                                {
                                                    @Html.TextBoxFor(m => m.IndentNoDirectPO, new { @class = "form-control text-field numeric", placeholder = "Enter value" })
                                                }
                                                else if (((Model.IndentNo == null || Model.IndentNo == "") && (Model.IndentNoDirectPO == null || Model.IndentNoDirectPO == 0)))
                                                {
                                                    @Html.TextBoxFor(m => m.IndentNoDirectPO, new { @class = "form-control text-field numeric", placeholder = "Enter value" })
                                                }
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="IndentNoValue_">
                                                @Html.TextBoxFor(m => m.IndentValue, new { @class = "form-control text-field numeric", placeholder = "Enter text", @style = "display:none;" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Store</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="StoreID">

                                                @Html.DropDownList("Store", MMS.Web.ExtensionMethod.HtmlHelper.Store(), new { @class = "select-style text-field" })
                                            </div>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Category</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="materialCategory">

                                                @Html.DropDownListFor(m => m.Category, MMS.Web.ExtensionMethod.HtmlHelper.MaterialCategoryName(), new { @class = "select-style text-field" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Group</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="materialGroupID_">

                                                @Html.DropDownListFor(m => m.Groupname, MMS.Web.ExtensionMethod.HtmlHelper.MaterialGroupName(), new { @class = "select-style text-field" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-xs-12">
                                                <label for="text" class="form-label">Material</label>
                                            </div>
                                            <div class="col-xs-12" id="masterialName_">

                                                @Html.DropDownListFor(m => m.Material, MMS.Web.ExtensionMethod.HtmlHelper.MaterialMasterName(), new { @class = "select-style text-field" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <p class="section-title des-buyer-title des-width ">Description :</p>

                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Machine Name</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                                @if (Model != null && Model.MachinaryMaterialID != null && Model.MachinaryMaterialID != 0)
                                                {
                                                    @Html.DropDownListFor(m => Model.MachinaryMaterialID, MMS.Web.ExtensionMethod.HtmlHelper.MachineName(), new { @class = "select-style text-field" })
                                                }
                                                else
                                                {
                                                    @Html.DropDownListFor(m => Model.MachinaryMaterialID, MMS.Web.ExtensionMethod.HtmlHelper.MachineName(), new { @class = "select-style text-field", disabled = "disabled" })
                                                }

                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                                                <label for="text" class="form-label">UOM</label>
                                            </div>
                                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                                                <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 no-pad ">
                                                    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12 pad_left">

                                                        @Html.TextBoxFor(m => m.UOMValue, new { @class = "form-control text-field numeric", placeholder = "Enter text", @readonly = true })
                                                    </div>
                                                    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12 pad_left">

                                                        @Html.DropDownListFor(m => m.UOM, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                    </div>
                                                    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12 no-pad">

                                                        @Html.TextBoxFor(m => m.UOMValue1, new { @class = "form-control text-field numeric", placeholder = "Enter text", @readonly = true })
                                                    </div>
                                                    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12 pad_right">

                                                        @Html.DropDownListFor(m => m.UOMType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Color</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.DropDownListFor(m => m.Color, MMS.Web.ExtensionMethod.HtmlHelper.ColourName(), new { @class = "select-style text-field" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Indent QTY</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.Qty, new { @class = "form-control text-field numericDecimal", placeholder = "Enter text" })
                                            </div>

                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">PO QTY</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                                @*@Html.TextBoxFor(m => m.PoQty, new { @class = "form-control text-field numeric", placeholder = "Enter text" })*@

                                                @Html.TextBoxFor(m => m.PoQty, new { @class = "form-control text-field numericDecimal", placeholder = "Enter text", @onchange = "poQtyChange();" })
                                            </div>

                                        </div>
                                    </div><div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Pending QTY</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.PendingQty, new { @class = "form-control text-field numeric", placeholder = "Enter text" })
                                            </div>

                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Rate</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.Rate_, new { @class = "form-control text-field allow_decimal", placeholder = "Enter text" })
                                            </div>

                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Sub Stance</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.DropDownListFor(m => m.Substance, MMS.Web.ExtensionMethod.HtmlHelper.SubstanceRange(), new { @class = "select-style text-field" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Weight</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.Weight, new { @class = "form-control text-field numeric", placeholder = "Enter text" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">IO.No</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                                @Html.DropDownListFor(m => m.IONO, MMS.Web.ExtensionMethod.HtmlHelper.InternalOrderIONO(), "Please Select", new { @class = "select-style text-field" })

                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Other Specification</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.OtherSpecification, new { @class = "form-control text-field", @placeholder = "Other Specification" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Reqd Date</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12 ">
                                                <div class="col-lg-12 col-md-12 no-pad">
                                                    <div class="custom-datepicker">
                                                        <div class='input-group date' id='datetimepicker1'>
                                                            @if (Model != null && Model.PoOrderId != 0)
                                                            {
                                                                var purReqdate = Model.ReqdDate;
                                                                @Html.TextBoxFor(m => m.ReqdDate, new { @class = "form-control datepick", @readonly = true, @Value = purReqdate })
                                                            }
                                                            else
                                                            {
                                                                @Html.TextBoxFor(m => m.ReqdDate, new { @class = "form-control datepick", @readonly = true, @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy") })
                                                            }
                                                            <span class="input-group-addon">
                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 no-pad">
                                                <div class="col-md-12 col-lg-12 col-xs-12 col-sm-12 no-pad">
                                                    <div class="col-xs-12">
                                                        <label for="text" class="form-label">ETD</label>
                                                    </div>
                                                    <div class="col-xs-12">
                                                        <div class="custom-datepicker">
                                                            <div class='input-group date' id='datetimepicker1'>
                                                                @if (Model != null && Model.PoOrderId != 0)
                                                                {
                                                                    var purEtd = Model.ETD;
                                                                    @Html.TextBoxFor(m => m.ETD, new { @class = "form-control datepick", @readonly = true, @Value = purEtd })
                                                                }
                                                                else
                                                                {
                                                                    @Html.TextBoxFor(m => m.ETD, new { @class = "form-control datepick", @readonly = true, @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy") })
                                                                }

                                                                <span class="input-group-addon">
                                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 no-pad">
                                                <div class="col-md-12 col-lg-12 col-xs-12 col-sm-12 no-pad">
                                                    <div class="col-xs-12">
                                                        <label for="text" class="form-label">ETA</label>
                                                    </div>
                                                    <div class="col-xs-12">
                                                        <div class="custom-datepicker">
                                                            <div class='input-group date' id='datetimepicker1'>
                                                                @if (Model != null && Model.PoOrderId != 0)
                                                                {
                                                                    var purEta = Model.ETA;
                                                                    @Html.TextBoxFor(m => m.ETA, new { @class = "form-control datepick", @readonly = true, @Value = purEta })
                                                                }
                                                                else
                                                                {
                                                                    @Html.TextBoxFor(m => m.ETA, new { @class = "form-control datepick", @readonly = true, @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy") })
                                                                }

                                                                <span class="input-group-addon">
                                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="field-section">
                                        <div class="form-group">
                                         
                                                <div class="col-md-12 col-lg-12 col-xs-12 col-sm-12 no-pad">
                                                    <div class="col-xs-12">
                                                        <label for="text" class="form-label">Cancel Po</label>&nbsp;&nbsp;&nbsp;
                                                        @Html.CheckBoxFor(m => m.ISPO_cancelled , new { @class = "VisibleCheck" , @onclick = "chekclick(this)" } )
                                                    </div>
                                                    <div class="col-xs-12">
                                                        <div class="custom-datepicker">
                                                            <div class='input-group date' id='datetimepicker1'>
                                                                @Html.TextAreaFor(m => m.ISPO_cancelled_Reson, new { @class = "form-control text-field" })

                                                                <span class="input-group-addon">
                                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                           
                                        </div>
                                    </div>


                                </div>
                                <div class="col-md-4 col-lg-4 col-sm-4 col-xs-12">
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Value</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.ExRate, new { @class = "form-control text-field ", placeholder = "Enter text", @readonly = true })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Dis%</label>
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12">

                                                @Html.TextBoxFor(m => m.Dis, new { @class = "form-control text-field allow_decimal", placeholder = "Enter text" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">
                                                <div class="col-lg-12 col-md-12 no-pad">
                                                    <div class="col-lg-4 col-md-4 no-pad">
                                                        <label for="text" class="form-label">Amt</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 no-pad">
                                                        @Html.TextBoxFor(m => m.DisAmount, new { @class = "form-control text-field numeric", @placeholder = "Enter text" })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Excise Duty %</label>
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12">

                                                @Html.TextBoxFor(m => m.ExciseDuty, new { @class = "form-control text-field allow_decimal", @placeholder = "Enter text" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">
                                                <div class="col-lg-12 col-md-12 no-pad">
                                                    <div class="col-lg-4 col-md-4 no-pad">
                                                        <label for="text" class="form-label">Amt</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 no-pad">
                                                        @Html.TextBoxFor(m => m.ExciseDutyAmount, new { @class = "form-control text-field numeric", @placeholder = "Enter text" })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Exess %</label>
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12">

                                                @Html.TextBoxFor(m => m.Exess, new { @class = "form-control text-field allow_decimal", placeholder = "Enter text" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">
                                                <div class="col-lg-12 col-md-12 no-pad">
                                                    <div class="col-lg-4 col-md-4 no-pad">
                                                        <label for="text" class="form-label">Amt</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 no-pad">
                                                        @Html.TextBoxFor(m => m.ExessAmount, new { @class = "form-control text-field numeric", @placeholder = "Enter text" })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">SH Exess %</label>
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12">

                                                @Html.TextBoxFor(m => m.SHExess, new { @class = "form-control text-field allow_decimal", placeholder = "Enter text" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">
                                                <div class="col-lg-12 col-md-12 no-pad">
                                                    <div class="col-lg-4 col-md-4 no-pad">
                                                        <label for="text" class="form-label">Amt</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 no-pad">
                                                        @Html.TextBoxFor(m => m.SHExessAmount, new { @class = "form-control text-field numeric", @placeholder = "Enter text" })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">GST%</label>
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12">

                                                @Html.TextBoxFor(m => m.VAT, new { @class = "form-control text-field allow_decimal", @placeholder = "Enter text" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">
                                                <div class="col-lg-12 col-md-12 no-pad">
                                                    <div class="col-lg-4 col-md-4 no-pad">
                                                        <label for="text" class="form-label">Amt</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 no-pad">
                                                        @Html.TextBoxFor(m => m.VATAmt, new { @class = "form-control text-field numeric", @placeholder = "Enter text" })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Surcharge %</label>
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12">

                                                @Html.TextBoxFor(m => m.SurCharge, new { @class = "form-control text-field ", placeholder = "Enter text" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pad_left">
                                                <div class="col-lg-12 col-md-12 no-pad">
                                                    <div class="col-lg-4 col-md-4 no-pad">
                                                        <label for="text" class="form-label">Amt</label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 no-pad">
                                                        @Html.TextBoxFor(m => m.SurChargeAmt, new { @class = "form-control text-field numeric", @placeholder = "Enter text", @readonly = true })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Amount +Tax</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.AmountTax, new { @class = "form-control text-field allow_decimal", placeholder = "Enter text" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Remark</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextAreaFor(m => m.Remarks, new { @class = "form-control text-field" })
                                            </div>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                @if (AddMaterial == true)
                                                {
                                                    <button type="button" class="btn  packing-button sch_add" onclick="DeliveryScheduleAdd()">Add</button>
                                                }
                                                else
                                                {
                                                    <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Add">
                                                }

                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                                @if (Schedule == true)
                                                {
                                                    <button type="button" class="btn  packing-button sch_add">Delivery Schedule</button>
                                                }
                                                else
                                                {
                                                    <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Schedule">
                                                }

                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                                                <div class="table-responsive table-td-padding parent-table-height padding-lr-6px table-row-bg">
                                                    @Html.HiddenFor(x => x.SizeRangeDeliery)
                                                    <table class="table" id="list_SizeRange">
                                                        <thead>
                                                            <tr>
                                                                <td>S.No</td>
                                                                <td>Meterial</td>
                                                                <td>Qty</td>
                                                                <td>Del.Date</td>
                                                                <td></td>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (Model.PoOrderId != 0)
                                                            {

                                                                int Sno = 1;
                                                                if (Model != null && Model.PurchaseOrderDelierySchedulelist != null && Model.PurchaseOrderDelierySchedulelist.Count > 0)
                                                                {
                                                                    foreach (var item in Model.PurchaseOrderDelierySchedulelist)
                                                                    {
                                                                        <tr>
                                                                            <td>@Sno</td>
                                                                            <td>@Html.TextBoxFor(m => item.Material, new { @class = "MaterialVal" })</td>
                                                                            <td>@Html.TextBoxFor(m => item.Quantity, new { @class = "QtyVal numeric" })</td>
                                                                            <td>@Html.TextBoxFor(m => item.Date, new { @class = "Date_Picker", @readonly = true })</td>
                                                                            <td></td>
                                                                        </tr>
                                                                        Sno++;
                                                                    }
                                                                }
                                                            }

                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div>
                                                    <button id="save" type="button" class="btn  packing-button sch_add" onclick="Save()">Raise PO</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 col-lg-4 col-sm-4 col-xs-12">
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">MRP Margin %</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.MRPMargin, new { @class = "form-control text-field", placeholder = "Enter text" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">MRP Price</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.MRPPrice, new { @class = "form-control text-field numeric", placeholder = "Enter text" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Accessible Value</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.AccessibleValue, new { @class = "form-control text-field", placeholder = "Enter text" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Store Stock</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.TextBoxFor(m => m.StockValue, new { @class = "form-control text-field", placeholder = "Enter text" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                                <label for="text" class="form-label">Fright Type</label>
                                            </div>
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                                @Html.DropDownListFor(m => m.FrightType, new SelectList(new List<object> {
                                                                                            new {value = 0, text = "Please Select" },
                                                                                            new {value = 1, text = "Not Applicable" },
                                                                                            new {value = 2, text = "To Pay By Enco" },
                                                                                            new {value = 2, text = "To Pay By Supplier" },
                                                                                            }, "value", "text", 0), new { @class = "select-style text-field" })


                                            </div>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="form-group">
                                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                                                <div class="table-responsive table-td-padding parent-table-height padding-lr-6px table-row-bg" style="height: 600px;">
                                                    @Html.HiddenFor(x => x.SizeRangeDetails)
                                                    <table class="table" id="sizeRangeTable">
                                                        <thead>
                                                            <tr>
                                                                <td>S.No</td>
                                                                <td>Qty</td>
                                                                <td>Rate</td>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                        <tfoot class="footer-bg-gray">
                                                            <tr>
                                                                <td>Total</td>
                                                                <td id="TotalCount"> </td>
                                                                <td></td>
                                                            </tr>
                                                        </tfoot>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div id="step2" class="tab-pane fade">
                <div class="container-fluid">

                    <div class="row">
                        <div class="field-section">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12" style="margin-top: 15px;">
                                <p class="section-title">Consolidates Material Details(view) &nbsp;&nbsp;&nbsp;&nbsp;Pending Qty : </p>

                                <div class="table-responsive table-td-padding parent-table-height">
                                    <table class="table" id="list-amended-material_">
                                        <thead>
                                            <tr>
                                                <td>SI. No</td>
                                                <td>Material</td>
                                                <td>Color</td>
                                                <td>Substance</td>
                                                <td>Sample Norms</td>
                                                <td>Wastage %</td>
                                                <td>Total Norms</td>
                                                <td>No.of sets</td>
                                                <td>Ref. Size</td>
                                                <td>Mat. Supplied By</td>
                                                <td>total</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field-section">
                        <div class="form-group">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                                @if (Instruct == true)
                                {
                                    <button type="submit" class="btn btn-default btn-style">Instruct</button>
                                }
                                else
                                {
                                    <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Instruct">
                                }

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="step3" name="step3" class="tab-pane fade">
                <div class="container-fluid">
                    <div class="row">
                        <div class="field-section">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12" style="margin-top: 15px;">
                                <div class="deliver_details">
                                    <h3>Deliver To</h3>
                                    <form class="form-inline">
                                        <div class="row scanner_pin">
                                            <div class="one_detail col-md-6 ">
                                                <div class="scan_sap col-md-5"><label for="text">Name</label></div>
                                                <div class="col-md-7">
                                                    @Html.TextBoxFor(m => m.SupplierName, new { @class = "form-control text-field", placeholder = "Enter text" })
                                                </div>
                                            </div>

                                            <div class="one_detail col-md-6 ">
                                                <div class="col-md-5"><label for="text">Company Name</label></div>
                                                <div class="col-md-7">
                                                    @Html.TextBoxFor(m => m.CompanyName, new { @class = "form-control text-field", placeholder = "Enter text" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row scanner_pin">
                                            <div class="one_detail rara col-md-6 ">
                                                <div class="scan_sap col-md-5"><label for="text">City</label></div>
                                                <div class="col-md-7"> @Html.TextBoxFor(m => m.City, new { @class = "form-control text-field", rows = 3, placeholder = "Enter text" })</div>
                                            </div>



                                            <div class="one_detail col-md-6">
                                                <div class="col-md-5"><label for="text">Phone</label></div>
                                                <div class="col-md-7">
                                                    @Html.TextBoxFor(m => m.Phone, new { @class = "form-control text-field", placeholder = "Enter text" })

                                                </div>
                                            </div>
                                        </div>
                                        <div class="row scanner_pin">
                                            <div class="one_detail col-md-6">
                                                <div class="scan_sap col-md-5"><label for="text">Address</label></div>
                                                <div class="col-md-7">
                                                    @Html.TextAreaFor(m => m.Address, new { @class = "form-control text-field", rows = 3, placeholder = "Enter text" })
                                                </div>
                                            </div>
                                            <div class="one_detail col-md-6 ">
                                                <div class="col-md-5"><label for="text">Payment Terms</label></div>
                                                <div class="col-md-7">
                                                    @Html.TextAreaFor(m => m.PaymentTerms, new { @class = "form-control text-field", placeholder = "Enter text" })
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="term_condition">

                                        <form class="form-inline">
                                            <div class="row scanner_pin">

                                                <div class="one_detail col-md-6 ">
                                                    <div class="scan_sap col-md-5"><label for="text">Deliver Terms</label></div>
                                                    <div class="col-md-7">
                                                        @Html.TextAreaFor(m => m.DeliverTerms, new { @class = "form-control text-field", placeholder = "Enter text" })
                                                    </div>
                                                </div>


                                                <div class="one_detail rara col-md-6 ">
                                                    <div class="col-md-5"><label for="text">Other Terms</label></div>
                                                    <div class="col-md-7">
                                                        @Html.TextAreaFor(m => m.OtherTerms, new { @class = "form-control text-field", placeholder = "Enter text" })
                                                    </div>
                                                </div>
                                            </div>
                                    </div>
                                    <div class="row scanner_pin">
                                        <div class="one_detail rara col-md-12 ">
                                            <div class="lft_scan"><label for="text"> Terms && Conditions</label></div>
                                            <div class="select_pin rgt_scan">
                                                @Html.TextAreaFor(m => m.TermsConditions, new { @class = "form-control text-field", placeholder = "Enter text" })
                                            </div>
                                        </div>
                                    </div>

    </form>
</div>
</div></div></div></div></div></div></div>
@if (Model.PoNo == string.Empty || Model.PoNo == null)
{
    <div class="row clearfix" id="TableMaterials" name="TableMaterials">
        <div class="field-section">
            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12" style="display:none;">
                <div class="table-responsive table-td-padding" style="height:400px;overflow:auto;">
                    <table class="table" id="list-amended-material">
                        <thead>
                            <tr>
                                <td style="display:none;">BOMID </td>
                                <td style="">Remove</td>
                                <td style="">Edit</td>
                                <td style="">Status</td>
                                <td style="display:none;">BOMMaterialID  </td>
                                <td>MRPNO</td>
                                <td>CategoryName</td>
                                <td>GroupName</td>
                                <td>SubstanceRange</td>
                                <td>MaterialDescription</td>
                                <td>Color</td>
                                <td>SampleNorms</td>

                                <td>RequiredQty</td>
                                <td>IndentQty</td>
                                <td>Rate</td>
                                <td>Value</td>
                                <td>IndentNo</td>

                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <input type="hidden" name="HdnRowCount" id="HdnRowCount" />


                </div>
            </div>
        </div>
    </div>


}
else
{
    <div class="row clearfix">
        <div class="field-section">
            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                <div class="table-responsive table-td-padding">
                    <table class="table" id="list-amended-material">
                        <thead>
                            <tr>
                                <td style="display:none;">BOMID </td>
                                <td style="">Remove</td>
                                <td style="">Edit</td>
                                <td style="">Status</td>
                                <td style="display:none;">BOMMaterialID  </td>
                                <td>MRPNO</td>
                                <td>CategoryName</td>
                                <td>GroupName</td>
                                <td>SubstanceRange</td>
                                <td>MaterialDescription</td>
                                <td>Color</td>
                                <td>SampleNorms</td>
                                <td>RequiredQty</td>
                                <td>IndentQty</td>
                                <td>Rate</td>
                                <td>Value</td>
                                <td>IndentNo</td>
                            </tr>
                        </thead>
                        @if (Model.PoNo != "")
                        {
                            <tbody>
                                @if (Model != null && Model.poList != null && Model.poList.Count > 0)
                                {
                                    foreach (var item in Model.poList)
                                    {

                                        <tr id="@item.PoOrderId">
                                            <td id='BOMID' style='display:none' class='BOMID' value=''>@item.BOMID</td>
                                            @if (item.IsPo == true)
                                            {
                                                if (Delete == true)
                                                {
                                                    <td><input type='button' value='Remove' onclick='Delete("@item.PoOrderId")' class='Delete' /></td>
                                                }
                                                else
                                                {
                                                    <td><input type='button' value='Remove' onclick='alert("No Permission To Access")' class='Delete' /></td>
                                                }

                                            }
                                            else
                                            {
                                                <td><input type='button' value='Remove' class='' /></td>
                                            }



                                            @if (item.IsPo == true)
                                            {
                                                if (Edit == true)
                                                {
                                                    <td><input type='button' name='Edit' id='EditRow' value='Edit' onclick='PO_RowClick("@item.PoOrderId")' class='Edit' /></td>
                                                    <td><input type='button' name='RAISEDPO' id='EditRow' value='RAISED PO' class='' /></td>
                                                }
                                                else
                                                {
                                                    <td><input type='button' name='Edit' id='EditRow' value='Edit' onclick='alert("No Permission To Access")' class='Edit' /></td>
                                                    <td><input type='button' name='RAISEDPO' id='EditRow' value='RAISED PO' class='' /></td>
                                                }

                                            }
                                            else
                                            {
                                                if (Edit == true)
                                                {
                                                    <td><input type='button' name='Edit' id='EditRow' value='Edit' onclick='RowClick("@item.MaterialMasterID","0","@item.IndentQTY","@item.RequiredQty")' class='Edit' /></td>
                                                    <td><input type='button' name='RAISEPO' id='RAISEPO' value='NEED TO RAISE PO' class='' /></td>
                                                }
                                                else
                                                {

                                                    <td><input type='button' name='Edit' id='EditRow' value='Edit' onclick='alert("No Permission To Access")' class='Edit' /></td>
                                                    <td><input type='button' name='RAISEPO' id='RAISEPO' value='NEED TO RAISE PO' class='' /></td>
                                                }

                                            }
                                            <td id='MaterialGroupMasterId' style='display:none' class='MaterialGroupMasterId' value=''>@item.MaterialGroupMasterId</td>
                                            <td id='ColorMasterId' style='display:none' class='ColorMasterId' value=''>@item.ColorMasterID</td>
                                            <td id='SubstanceMasterId' style='display:none' class='SubstanceMasterId' value=''>@item.SubstanceMasterId</td>
                                            <td id='SupplierId' style='display:none' class='SupplierId' value=''>@item.SupplierMasterName</td>
                                            <td id='BuyerMasterId' style='display:none' class='BuyerMasterId' value=''>@item.BuyerMasterId</td>
                                            <td id='OrderEntryId' style='display:none' class='OrderEntryId' value=''>@item.OrderEntryId</td>
                                            <td id='BOMMaterialID' style='display:none' class='BOMMaterialID' value=''>@item.BOMMaterialID</td>
                                            <td id='MRPNO' style='' class='MRPNO' value=''>@item.MRPNO</td>
                                            <td id='CategoryName' class='CategoryName' value=''>@item.CategoryName</td>
                                            <td id='GroupName' class='GroupName' value=''>@item.GroupName</td>
                                            <td id='SubstanceRange' class='SubstanceRange' value=''>@item.SubstanceRange</td>
                                            <td id='MaterialDescription' class='MaterialDescription' value=''>@item.MaterialDescription</td>
                                            <td id='Color' class='Color' value=''>@item.Color</td>
                                            <td id='SampleNorms' class='SampleNorms' value=''>@item.SampleNorms</td>
                                            <td id='RequiredQty' style='' class='RequiredQty' value=''>@item.RequiredQty</td>
                                            <td id='IndentQTY' style='' class='IndentQTY' value=''>@item.IndentQTY</td>
                                            <td id='Price' style='' class='Price' value=''>@item.Price</td>
                                            <td id='Value' style='' class='Value' value=''>@item.Value</td>
                                            <td id='IndentID' style='' class='IndentID' value=''>@item.IndentID</td>
                                            <td id='MaterialCategoryMasterId' style='display:none' class='MaterialCategoryMasterId' value=''>@item.MaterialCategoryMasterId</td>
                                            <td id='UomMasterId' style='display:none' class='UomMasterId' value=''>@item.WastageQtyUOM</td>
                                            <td id='SupplierId' style='display:none' class='SupplierId' value=''>@item.SupplierId</td>
                                        </tr>

                                    }
                                }
                            </tbody>
                        }
                    </table>
                    <input type="hidden" name="HdnRowCount" id="HdnRowCount" />


                </div>
            </div>
        </div>
    </div>
}

<div class="form-footer">
    <div class="row">
        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 text-center">

            @if (ExcelforPL == true)
            {
                <button type="submit" class="btn btn-default btn-style">Excel for  P/L</button>
            }
            else
            {
                <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Excel for  P/L">
            }
            @if (PageEdit == true)
            {
                <button type="submit" class="btn btn-default btn-style">Edit</button>
            }
            else
            {
                <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Edit">
            }





            @if (Model.PoOrderId == 0)
            {
                if (Save == true)
                {
                    <input type="button" class="btn btn-default btn-style" onclick="Save(this)" value="Save" />
                }
                else
                {
                    <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Save">
                }
            }
            else
            {
                if (Update == true)
                {
                }
                else
                {
                }
            }

            <button type="submit" class="btn btn-default btn-style">Clear</button>
            <button type="submit" class="btn btn-default btn-style" onclick="Close()">Close</button>
            @if (NotifyMsgMSS == true)
            {
                <button type="submit" class="btn btn-default btn-style">Notify Msg / MSS</button>
            }
            else
            {
                <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Notify Msg / MSS">
            }

        </div>
    </div>
</div>
</form>
</div>

<div class="lefterr_icon">
    <div class="direction">  &lt;  </div>
</div>
@Scripts.Render("~/bundles/MultiplIssue")
@Styles.Render("~/Content/MMS/css")
@using System.Web.Optimization;
<script src="~/Scripts/PurchaseOrder/PurchaseOrder.js"></script>
<script>
    $(document).ajaxStart(function () {
        $(".loader-overlay").css("display", "block");
    });

    $(document).ajaxComplete(function () {
        $(".loader-overlay").css("display", "none");
    });
    $(window).load(function () {
        $('.loader-overlay').fadeOut('fast');
    });
    $(function () {
        $(function () {
            $('#txtPL').keyup(function () {
                filter(this);
            });
        });
        function filter(element) {
            var value = $(element).val().toLowerCase();
            $(".customDrop .listItemPL").each(function () {
                if ($(this).text().toLowerCase().indexOf(value) > -1) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
            $(".customDrop").show();
        }
        if ('@Model' != null && '@Model.IndentNoDirectPO' != null && '@Model.IndentNoDirectPO' != "") {
            debugger
            $("#IndentNoDirectPO_").show();
            $("#IndentNo_").hide();
        }
        else {
            $("#IndentNoDirectPO_").hide();
            $("#IndentNo_").show();
        }
        if ('@Update' == 'False' || '@Edit' == 'False') {
            $('#list-amended-material tbody tr').each(function () {
                $(this).find(".Edit").addClass('not-allowed').removeAttr('onclick');
            });
        }
        if ('@Delete' == 'False') {
            $('#list-amended-material  tbody tr').each(function () {
                $(this).find(".Delete").addClass('not-allowed').removeAttr('onclick');
            });
        }
    });

    function chekclick() {
  
        if ($("#ISPO_cancelled").is(':checked')) {
            $("#save").text("Cancel Po");
        }
        else {

            $("#save").text("Rise Po");
        }

    }
</script>

