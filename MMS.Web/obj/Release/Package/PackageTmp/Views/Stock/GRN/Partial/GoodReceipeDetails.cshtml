@model MMS.Web.Models.StockModel.GRN_Details_Model
@using MMS.Repository.Managers.StockManager
@using MMS.Core.Entities
@{
    ViewBag.Title = "GRNDetails";
    Layout = "~/Views/Shared/_Layout.cshtml";
    tbl_PermissionSetting PermissionSettingModel = new MMS.Core.Entities.tbl_PermissionSetting();
    PermissionSettingModel = MMS.Web.ExtensionMethod.HtmlHelper.GetPermissionIdList();
    List<tbl_Permission> PermissionModel = new List<tbl_Permission>();
    if (PermissionSettingModel != null)
    {
        PermissionModel = MMS.Web.ExtensionMethod.HtmlHelper.GetPermissionList("GoodReceipeNote", PermissionSettingModel.PermissionID);
    }

    int storeid = 0;
    int grd = 0;
    Model.ShortagePCS = Model.ShortagePCS != null ? Model.ShortagePCS : 0;
    if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName != "Leather Store" || Model.storeMaster.StoreName != "Leather Store-Local" || Model.storeMaster.StoreName != "Leather Stores-Import"))
    {
        storeid = 1;
    }
    if (Model != null && Model.materialMaster != null && Model.materialMaster.GradeMasterId == 0)
    {

        grd = 1;
    }
    int count = 1; bool Excel = false;
    bool RaiseDepitNoteQty = false; bool NotifyMsgMSS = false; bool Print = false; bool Preview = false; bool SetUp = false;
    bool Save = false; bool Add = false; bool Update = false; bool Display = false; bool Edit = false; bool Delete = false;
    foreach (var item in PermissionModel)
    {
        if (item.PermissionDesc == "Save")
        {
            Save = true;
        }
        if (item.PermissionDesc == "Add")
        {
            Add = true;
        }
        if (item.PermissionDesc == "Raise Debit Note On Rejected Quantity")
        {
            RaiseDepitNoteQty = true;
        }
        if (item.PermissionDesc == "Update")
        {
            Update = true;
        }
        if (item.PermissionDesc == "Display")
        {
            Display = true;
        }
        if (item.PermissionDesc == "Edit")
        {
            Edit = true;
        }
        if (item.PermissionDesc == "GridDelete")
        {
            Delete = true;
        }
        if (item.PermissionDesc == "Notify Msg / MSS")
        {
            NotifyMsgMSS = true;
        }
        if (item.PermissionDesc == "Delete")
        {
            Delete = true;
        }
        if (item.PermissionDesc == "Print")
        {
            Print = true;
        }
        if (item.PermissionDesc == "Preview")
        {
            Preview = true;
        }
        if (item.PermissionDesc == "SetUp")
        {
            SetUp = true;
        }
        if (item.PermissionDesc == "Excel")
        {
            Excel = true;
        }

    }
}
<script src="~/Scripts/EasyAutocomplete-1.3.5/AutoComplete%20v1.10.2.js"></script>
<script src="~/Scripts/EasyAutocomplete-1.3.5/AutoComplete%20v1.11.4.js"></script>
<script src="~/Scripts/AutoCompleteCommon.js"></script>
<script src="~/Scripts/EasyAutocomplete-1.3.5/ComboBox.js"></script>
<script>
    $(function () {
        // $("#GEDate").datepicker();
    });
</script>
<style>
    .not-allowed input {
        cursor: not-allowed !important;
    }

    .not-allowed {
        cursor: not-allowed !important;
    }

    .right-form-section {
        width: 98% !important;
    }

    #sizeRangeTable tbody tr td:first-child {
        width: 123px !important;
    }

    .right-form-section .parent-table-height {
        height: 231px !important;
        overflow-x: hidden;
    }

    .table-nowrap td {
        white-space: nowrap;
        height: 50px;
    }

    .details_tab {
        display: block;
        width: 150px;
    }

    .left-adjust-padding {
        padding: 0;
        left: -14px;
        position: relative;
    }

    #ui-id-2 {
        width: 500px !important;
        height: 100px !important;
        overflow: auto !important;
    }

    #ui-id-1, #ui-id-3 {
        width: 163px !important;
        height: 100px !important;
        overflow: auto !important;
    }
</style>



<div class="right-form-section clearfix">
    <form class="form-inline" role="form">
        <div class="tab-content">
            <div id="step1" class="tab-pane fade in active">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 pull-right no-padding">
                            <p>Freight Cost</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Barcode</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.HiddenFor(x => x.GrnID)
                                        @Html.HiddenFor(x => x.IndentMaterialId_)
                                        @Html.HiddenFor(x => x.BuyerSeasonID_)
                                        @Html.HiddenFor(x => x.BuyerMasterId_)
                                        @Html.HiddenFor(x => x.isSizeRamge)
                                        @Html.TextBoxFor(x => x.BarCodeNo, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">GRN No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.GrnNo, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", @readonly = true })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">GRN Date</label>
                                    </div>
                                    @Html.HiddenFor(x => x.SizeRangeDetails)
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @*@Html.TextBoxFor(m => m.GrnDate, new { @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy"), @class = "form-control text-field datepick" })*@
                                        @if (Model != null && Model.GrnID != 0)
                                        {
                                            var purdate = Model.GrnDate;
                                            @Html.TextBoxFor(m => m.GrnDate, new { @Value = purdate, @class = "form-control text-field date_Grn" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.GrnDate, new { @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy"), @class = "form-control text-field date_Grn" })
                                        }
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">GRN Ref No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.GrnRefNo, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Supplier Name</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.SupplierNameId, MMS.Web.ExtensionMethod.HtmlHelper.SupplierName(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">DC No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.DC_No, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">DC Date</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @if (Model != null && Model.GrnID != 0)
                                        {
                                            var purdate = Model.DCDate;
                                            @Html.TextBoxFor(m => m.DCDate, new { @Value = purdate, @class = "form-control text-field date_Grn" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.DCDate, new { @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy"), @class = "form-control text-field date_Grn" })
                                        }

                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Invoice No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.INVoiceNo, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Invoice Date</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @if (Model != null && Model.GrnID != 0)
                                        {
                                            var purdate = Model.INVoiceDate;
                                            @Html.TextBoxFor(m => m.INVoiceDate, new { @Value = purdate, @class = "form-control text-field date_Grn" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.INVoiceDate, new { @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy"), @class = "form-control text-field date_Grn" })
                                        }

                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Without Indent</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.CheckBoxFor(x => x.WithoutIndent, new { @class = "form-control text-field " })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Gate Entry No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.GateEntryNo, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">GE Date/Time</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @if (Model != null && Model.GrnID != 0)
                                        {
                                            var purdate = Model.GEDate;
                                            @Html.TextBoxFor(m => m.GEDate, new { @Value = purdate, @class = "form-control text-field date_Grn" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.GEDate, new { @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy"), @class = "form-control text-field date_Grn" })
                                        }
                                        @Html.TextBoxFor(x => x.GETime, new { @class = "form-control text-field timepicker" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Gate Ref No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.GateRefNo, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">GRN Type</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.GrnType, MMS.Web.ExtensionMethod.HtmlHelper.GetGRNType(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">ST/GST Credit</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.ST_VATcredit, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Import Clearance</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.ImportClearance, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">BE No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.BENo, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Exchange Rate</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.ExchangeRate, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Shipment Mode</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.ShipmentMode, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Freight Amount</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.FreightAmount, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Insurance Amt</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.InsuranceAmount, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Custom's Duty</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.CustomsDuty, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Pack & forward</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.Pack_Forward, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Service Tax %</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-xs-3" style="padding:0;">
                                            @Html.TextBoxFor(x => x.ServiceTaxPer, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                        </div>
                                        <div class="col-xs-9" style="padding-right:0;">
                                            @Html.TextBoxFor(x => x.ServiceTax, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                        </div>

                                    </div>

                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Other Charges</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.OtherCharges, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Transporter</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.Transporter, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">General Remarks</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.GeneralRemarks1, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Season</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(x => x.BuyerSeasonID, MMS.Web.ExtensionMethod.HtmlHelper.SeasonName(), new { @class = "select-style text-field " })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Customer Name</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(x => x.BuyerMasterId, MMS.Web.ExtensionMethod.HtmlHelper.BuyerName(), new { @class = "select-style text-field " })
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">


                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Po No</label>
                                    </div>
                                    @if (Model != null && Model.GrnID != 0)
                                    {
                                        if (Model.grnTypeMaster.IssueType == "Direct GRN")
                                        {
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="AutomaticPonumber">
                                                @Html.TextBoxFor(x => x.AutomaticPONumber, new { @class = "form-control text-field", @style = "display:none;" })
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="PoNumber">
                                                @Html.DropDownListFor(m => m.PoNO, MMS.Web.ExtensionMethod.HtmlHelper.GetPONO(), new { @class = "select-style text-field" })
                                            </div>
                                        }


                                    }
                                    else
                                    {
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="PoNumber">
                                            @Html.DropDownListFor(m => m.PoNO, MMS.Web.ExtensionMethod.HtmlHelper.GetPONO(), new { @class = "select-style text-field" })
                                        </div>
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="AutomaticPonumber">
                                            @Html.TextBoxFor(x => x.AutomaticPONumber, new { @class = "form-control text-field", @style = "display:none;" })
                                        </div>
                                    }

                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">LOT No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.LOTNo, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Indent No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12" id="">
                                        @Html.DropDownListFor(m => m.IndentNo, MMS.Web.ExtensionMethod.HtmlHelper.GetIndentNo(), new { @class = "select-style text-field" })
                                    </div>

                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">IO No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.IONo, MMS.Web.ExtensionMethod.HtmlHelper.InternalOrderIONO(), "Please Select", new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Stores</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.Stores, MMS.Web.ExtensionMethod.HtmlHelper.Store(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Category</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.CategoryId, MMS.Web.ExtensionMethod.HtmlHelper.MaterialCategoryName(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">If is Grp mtnc.</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.IfGroupIsMaintenance, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">color</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.ColourId, MMS.Web.ExtensionMethod.HtmlHelper.ColourName(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">UOM</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.UOMId, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">DOM</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @if (Model != null && Model.GrnID != 0)
                                        {
                                            var purdate = Model.DOM;
                                            @Html.TextBoxFor(m => m.DOM, new { @Value = purdate, @class = "form-control text-field date_Grn" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.DOM, new { @Value = System.DateTime.Now.Date.ToString("dd/MM/yyyy"), @class = "form-control text-field date_Grn" })
                                        }

                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Store Location</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.StoreLocation, MMS.Web.ExtensionMethod.HtmlHelper.StoreLocation(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Remarks</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.GeneralRemarks, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Substance</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.Substance, MMS.Web.ExtensionMethod.HtmlHelper.SubstanceRange(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Grade</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.Grade, MMS.Web.ExtensionMethod.HtmlHelper.GetLeatherShoeGrade(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Group</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.GroupID, MMS.Web.ExtensionMethod.HtmlHelper.MaterialGroupName(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-12 col-sm-12 col-lg-8 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12">
                                        <label for="text" class="form-label">Material </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-9 col-xs-12 left-adjust-padding" id="Material_divID">

                                        @Html.HiddenFor(m => m.MaterialName)
                                        @Html.DropDownListFor(m => m.MaterialId, MMS.Web.ExtensionMethod.HtmlHelper.MaterialMasterName(), new { @class = "select-style text-field" })

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Weight</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.Weight, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">GRN Material Type</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.MaterialType, new SelectList(
                                       new List<object> {
                                            new { value=0, text="Please select" },
                                           new { value=1, text="Local" },
                                           new { value=2, text="Customer Import"},
                                            new { value=3, text="Direct Import"}
                                       },
                                       "value",
                                       "text", 0), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12 col-sm-12 col-lg-8 col-xs-12 no-padding">


                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12">
                                        <label for="text" class="form-label">QTY as Per DC </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-9 col-xs-12 left-adjust-padding">
                                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 pull-left no-padding">
                                            <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12 pull-left no-padding">
                                                @Html.TextBoxFor(x => x.QtyAsPerDc, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @Html.DropDownListFor(m => m.QtyAsPerSQFT, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })

                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12 no-padding pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.TextBoxFor(x => x.QtyAsPerPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.TextBoxFor(x => x.QtyAsPerPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", @readonly = "readonly" })
                                                }
                                                else
                                                {
                                                    @Html.TextBoxFor(x => x.QtyAsPerPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }

                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.DropDownListFor(m => m.QTYType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field", @onkeypress = "return isNumberKey(event)" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.DropDownListFor(m => m.QTYType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field", @onkeypress = "return isNumberKey(event)", disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    @Html.DropDownListFor(m => m.QTYType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field", @onkeypress = "return isNumberKey(event)" })
                                                }

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12">
                                        <label for="text" class="form-label">Received QTY </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-9 col-xs-12 left-adjust-padding">
                                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 pull-left no-padding">
                                            <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12 pull-left no-padding">
                                                @Html.TextBoxFor(x => x.ReceivedQty, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @Html.DropDownListFor(m => m.ReceivedSQFT, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12 no-padding pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.TextBoxFor(x => x.ReceivedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.TextBoxFor(x => x.ReceivedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", @readonly = "readonly" })
                                                }
                                                else
                                                {
                                                    @Html.TextBoxFor(x => x.ReceivedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }

                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.DropDownListFor(m => m.ReceivedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.DropDownListFor(m => m.ReceivedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field", disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    @Html.DropDownListFor(m => m.ReceivedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                }

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12">
                                        <label for="text" class="form-label">Shortage QTY </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-9 col-xs-12 left-adjust-padding">
                                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 pull-left no-padding">
                                            <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12 pull-left no-padding">
                                                @Html.TextBoxFor(x => x.ShortageQty, new { @class = "form-control text-field" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @Html.DropDownListFor(m => m.ShortageSQFT, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12 no-padding pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.TextBoxFor(x => x.ShortagePCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }
                                                else if (Model != null && Model.storeMaster != null && Model.storeMaster.StoreMasterId != 0)
                                                {
                                                    @Html.TextBoxFor(x => x.ShortagePCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", @readonly = "readonly" })
                                                }
                                                else if (Model != null && Model.storeMaster != null && Model.storeMaster.StoreMasterId == 0)
                                                {
                                                    @Html.TextBoxFor(x => x.ShortagePCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", @readonly = "readonly" })
                                                }
                                                else
                                                {
                                                    @Html.TextBoxFor(x => x.ShortagePCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }

                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.DropDownListFor(m => m.ShortageType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.DropDownListFor(m => m.ShortageType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field", disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    @Html.DropDownListFor(m => m.ShortageType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                }

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12">
                                        <label for="text" class="form-label">Rejected QTY </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-9 col-xs-12 left-adjust-padding">
                                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 pull-left no-padding">
                                            <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12 pull-left no-padding">
                                                @Html.TextBoxFor(x => x.RejectedQty, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @Html.DropDownListFor(m => m.RejectedSQFT, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12 no-padding pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.TextBoxFor(x => x.RejectedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.TextBoxFor(x => x.RejectedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", @readonly = "readonly" })
                                                }
                                                else
                                                {
                                                    @Html.TextBoxFor(x => x.RejectedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }

                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.DropDownListFor(m => m.RejectedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.DropDownListFor(m => m.RejectedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field", disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    @Html.DropDownListFor(m => m.RejectedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                }

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12">
                                        <label for="text" class="form-label">Accepted QTY </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-9 col-xs-12 left-adjust-padding">
                                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 pull-left no-padding">
                                            <div class="col-md-5 col-sm-5 col-lg-3 col-xs-12 pull-left no-padding">
                                                @Html.TextBoxFor(x => x.AcceptedQty, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @Html.DropDownListFor(m => m.AcceptedSQFT, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-lg-3 col-xs-12 no-padding pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.TextBoxFor(x => x.AcceptedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.TextBoxFor(x => x.AcceptedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)", @readonly = "readonly" })
                                                }
                                                else
                                                {
                                                    @Html.TextBoxFor(x => x.AcceptedPCS, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                                }

                                            </div>
                                            <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 pad_right pad_right_sec">
                                                @if (Model != null && Model.storeMaster != null && (Model.storeMaster.StoreName == "Leather Store" || Model.storeMaster.StoreName == "Leather Store-Local" || Model.storeMaster.StoreName == "Leather Stores-Import"))
                                                {
                                                    @Html.DropDownListFor(m => m.AcceptedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                }
                                                else if (Model != null && Model.storeMaster != null)
                                                {
                                                    @Html.DropDownListFor(m => m.AcceptedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field", disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    @Html.DropDownListFor(m => m.AcceptedType, MMS.Web.ExtensionMethod.HtmlHelper.Uom(), new { @class = "select-style text-field" })
                                                }

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>


                        <div class="col-md-12 col-sm-12 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">PO QTY </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 pull-left no-padding">
                                            <div class="col-xs-12 pull-left no-padding">
                                                @Html.TextBoxFor(x => x.PoQty, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-3 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">QTY Excess</label>
                                    </div>
                                    <div class="col-md-7 col-sm-9 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.QtyExcess, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Pending QTY </label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.PendingQty, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Excess Approval %</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.ExcessApproval, new { @class = "form-control text-field", @disabled = true })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">General Remarks</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(x => x.GeneralRemarks, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="field-section">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding">
                                <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12">
                                    <button class="btn btn-default btn-sec btn-style" style="cursor:pointer" title="ADD" id="AutoDisplay" type="button">ADD</button>
                                    <ul class="list_sec">
                                        <li>
                                            <input id="test1" type="checkbox">
                                            <label for="test1">Display Selected Material of PO </label>
                                        </li>
                                        <li>
                                            <input id="test2" type="checkbox">
                                            <label for="test2">Display all PO based on Selected Material </label>
                                        </li>
                                        <li>
                                            <input id="test3" type="checkbox">
                                            <label for="test3">Display all  Material  of PO </label>
                                        </li>
                                </div>
                                <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12 floatting_sec">
                                    @{
                                        if (RaiseDepitNoteQty == true)
                                        {
                                            <button class="btn btn-sec btn-sec btn-style" type="submit">Raise Debit Note On Rejected Quantity</button>
                                        }
                                        else
                                        {
                                            <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-sec btn-sec btn-style" value="Raise Debit Note On Rejected Quantity">
                                        }
                                    }

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field-section">
                        <div class="form-group">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12" style="width: auto;">
                                <div class="table-responsive table-td-padding parent-table-height padding-lr-6px table-row-bg" style="height: 300px;width: auto;">
                                    @Html.HiddenFor(x => x.SizeRangeDetails)
                                    <table class="table" id="sizeRangeTable" style="width: 263px;">
                                        <tbody>
                                            @if (Model.grnSizeRangeQuantityList == null || Model.grnSizeRangeQuantityList.Count == 0)
                                            {
                                                <tr>
                                                    <td style="background-color: #ddd; padding-bottom: 3px;  padding-left: 0;  padding-top: 1px;  float: left;">Size</td>
                                                </tr>
                                                <tr>
                                                    <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;   float: left;" class="">QTY as Per DC</td>
                                                </tr>
                                                <tr>
                                                    <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px; float: left;" class="">Received QTY</td>
                                                </tr>
                                                <tr>
                                                    <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;   float: left;" class="">Shortage QTY</td>
                                                </tr>
                                                <tr>
                                                    <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;   float: left;" class="">Rejected QTY</td>
                                                </tr>
                                                <tr>
                                                    <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;   float: left;" class="">Accepted QTY</td>
                                                </tr>
                                            }
                                            @if (Model.grnSizeRangeQuantityList != null && Model.grnSizeRangeQuantityList.Count > 0)
                                            {
                                                decimal total_ = 0;
                                                <tr>

                                                    @if (Model.grnSizeRangeQuantityList != null)
                                                    {

                                                        total_ = Model.grnSizeRangeQuantityList.Sum(x => Convert.ToDecimal(x.quantity));
                                                        <td style="background-color: #ddd; padding-bottom: 3px;  padding-left: 0;  padding-top: 1px;  width: 39px !important; float: left;">Size</td>
                                                        foreach (var item in Model.grnSizeRangeQuantityList)
                                                        {
                                                            <td class="sizeVal">@item.Size</td>
                                                            count++;
                                                        }
                                                    }
                                                </tr>

                                                <tr>

                                                    @if (Model.grnSizeRangeQuantityList != null)
                                                    {
                                                        <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;  width: 39px !important; float: left;">Rate</td>
                                                        foreach (var item in Model.grnSizeRangeQuantityList)
                                                        {
                                                            <td><input type="text" class="QtyAsPerDc_" id="qtyId@(count)" value="@item.Rate" style='width:50px;' onchange="CalculateTotal(this)" /></td>
                                                            count++;
                                                        }
                                                    }
                                                </tr>
                                                <tr>

                                                    @if (Model.grnSizeRangeQuantityList != null)
                                                    {
                                                        <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;  width: 39px !important; float: left;">Rate</td>
                                                        foreach (var item in Model.grnSizeRangeQuantityList)
                                                        {
                                                            <td><input type="text" class="ReceivedQty_" id="qtyId@(count)" value="@item.Rate" style='width:50px;' onchange="CalculateTotal(this)" /></td>
                                                            count++;
                                                        }
                                                    }
                                                </tr>
                                                <tr>

                                                    @if (Model.grnSizeRangeQuantityList != null)
                                                    {
                                                        <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;  width: 39px !important; float: left;">Rate</td>
                                                        foreach (var item in Model.grnSizeRangeQuantityList)
                                                        {
                                                            <td><input type="text" class="ShortageQty_" id="qtyId@(count)" value="@item.Rate" style='width:50px;' onchange="CalculateTotal(this)" /></td>
                                                            count++;
                                                        }
                                                    }
                                                </tr>
                                                <tr>

                                                    @if (Model.grnSizeRangeQuantityList != null)
                                                    {
                                                        <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;  width: 39px !important; float: left;">Rate</td>
                                                        foreach (var item in Model.grnSizeRangeQuantityList)
                                                        {
                                                            <td><input type="text" class="RejectedQty_" id="qtyId@(count)" value="@item.Rate" style='width:50px;' onchange="CalculateTotal(this)" /></td>
                                                            count++;
                                                        }
                                                    }
                                                </tr>
                                                <tr>

                                                    @if (Model.grnSizeRangeQuantityList != null)
                                                    {
                                                        <td style="background-color: #ddd; padding-bottom: 3px;padding-left: 0;  padding-top: 1px;  width: 39px !important; float: left;">Rate</td>
                                                        foreach (var item in Model.grnSizeRangeQuantityList)
                                                        {
                                                            <td><input type="text" class="AcceptedQty_" id="qtyId@(count)" value="@item.Rate" style='width:50px;' onchange="CalculateTotal(this)" /></td>
                                                            count++;
                                                        }
                                                    }
                                                </tr>
                                            }
                                            @{
                                                decimal total = 0;
                                                if (Model.grnSizeRangeQuantityList != null && Model.grnSizeRangeQuantityList.Count > 0)
                                                {
                                                    total = Model.grnSizeRangeQuantityList.Sum(x => Convert.ToDecimal(x.quantity));
                                                    foreach (var item in Model.grnSizeRangeQuantityList)
                                                    {
                                                        <tr>
                                                            <td>@item.Size</td>
                                                            <td><input type="text" class="qty_Total" value="@item.quantity" style="width: 50px;" onchange='Calculate()' /></td>
                                                            <td><input type="text" value="@item.Rate" style="width: 50px;" /></td>
                                                        </tr>
                                                    }
                                                }
                                            }

                                        </tbody>
                                        <tfoot class="footer-bg-gray">
                                            <tr>
                                                <td>Total</td>
                                                <td id="TotalCount">@total </td>
                                                <td></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr style="border-color:#06a8e8!important">
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-lg-3 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-6 col-xs-12">
                                        <label for="text" class="form-label">Rate</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-6 col-xs-12">
                                        @Html.TextBoxFor(x => x.Rate, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-6 col-xs-12">
                                        <label for="text" class="form-label">Value</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-6 col-xs-12">
                                        @Html.TextBoxFor(x => x.Value, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-6 col-xs-12">
                                        <label for="text" class="form-label">MRP Margin %</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-6 col-xs-12">
                                        @Html.TextBoxFor(x => x.MRPMargin, new { @class = "form-control text-field allow_decimal" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-6 col-xs-12">
                                        <label for="text" class="form-label">MRP Price</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-6 col-xs-12">
                                        @Html.TextBoxFor(x => x.MRPPrice, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-6 col-xs-12">
                                        <label for="text" class="form-label">Accesible Value</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-6 col-xs-12">
                                        @Html.TextBoxFor(x => x.AccessibleValue, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Discount %</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 pull-left no-padding">
                                            @Html.TextBoxFor(x => x.Discount_Per, new { @class = "form-control text-field allow_decimal" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12  pull-right no-padding">
                                            @Html.TextBoxFor(x => x.Discount_Val, new { @class = "form-control text-field" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Excise Duty %</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 pull-left no-padding">
                                            @Html.TextBoxFor(x => x.ExciseDuty_Per, new { @class = "form-control text-field allow_decimal" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12  pull-right no-padding">
                                            @Html.TextBoxFor(x => x.ExciseDuty_Val, new { @class = "form-control text-field" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">ST/GST/ CST%</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 pull-left no-padding">
                                            @Html.TextBoxFor(x => x.ST_VAT_CST_Per, new { @class = "form-control text-field allow_decimal" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12  pull-right no-padding">
                                            @Html.TextBoxFor(x => x.ST_VAT_CST_Val, new { @class = "form-control text-field" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">E CESS</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 pull-left no-padding">
                                            @Html.TextBoxFor(x => x.Ecess_Per, new { @class = "form-control text-field allow_decimal" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12  pull-right no-padding">
                                            @Html.TextBoxFor(x => x.Ecess_Val, new { @class = "form-control text-field" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">SH ECESS</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 pull-left no-padding">
                                            @Html.TextBoxFor(x => x.SH_Ecess_Per, new { @class = "form-control text-field allow_decimal" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12  pull-right no-padding">
                                            @Html.TextBoxFor(x => x.SH_Ecess_Val, new { @class = "form-control text-field" })
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-5 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Tag Prices Discount %</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 pull-left no-padding">
                                            @Html.TextBoxFor(x => x.TagsPiecesDiscount_Per, new { @class = "form-control text-field allow_decimal" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12  pull-right no-padding">
                                            @Html.TextBoxFor(x => x.TagsPiecesDiscount_Val, new { @class = "form-control text-field" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-5 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Amount + Tax-Discount=</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 pull-left no-padding">
                                            @Html.TextBoxFor(x => x.AmountplusTax, new { @class = "form-control text-field", @onkeypress = "return isNumberKey(event)" })
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-5 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">SurCharge</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12 pull-left no-padding">
                                            @Html.TextBoxFor(x => x.Surcharge_Per, new { @class = "form-control text-field allow_decimal" })
                                        </div>
                                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12  pull-right no-padding">
                                            @Html.TextBoxFor(x => x.Surcharge_Val, new { @class = "form-control text-field" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <hr style="border-color:#06a8e8!important">
                    <div class="row">
                        <div class="field-section">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                                <div class="table-responsive table-td-padding parent-table-height" style="height:auto;overflow: scroll;">
                                    <table class="table" id="list-amended-material">
                                        <thead>
                                            <tr class="table-nowrap">
                                                <td style="">Remove</td>
                                                <td style="">Edit</td>
                                                <td>GRN NO</td>
                                                <td>GRN Date</td>
                                                <td>GRN Ref No</td>
                                                <td>Supplier Name</td>
                                                <td>DC NO</td>
                                                <td>DC Date</td>
                                                <td>Invoice no</td>
                                                <td>Invoice Date</td>
                                                <td>Gate Entry No</td>
                                                <td>Ge date</td>
                                                <td>Gate Ref No</td>
                                                <td>GRN Type</td>
                                                <td style="">Po No</td>
                                                <td style="">Lot No</td>
                                                <td>Material</td>
                                                <td>Group</td>
                                                <td>Category</td>
                                                <td>Color</td>
                                                <td>UOM</td>
                                                <td>Store Location</td>
                                                <td>Substance</td>
                                                <td>QTY As per Dc</td>
                                                <td>Qty Sqt Value</td>
                                                <td>QTY PCS</td>
                                                <td style="">QTY Type</td>
                                                <td>Received QTY</td>
                                                <td>Pending QTY</td>
                                                <td>Rate</td>
                                                <td>Value</td>
                                                <td>Amount+Tax</td>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (Model != null && Model.listOFGrnModel != null && Model.listOFGrnModel.Count > 0)
                                            {
                                                foreach (var item in Model.listOFGrnModel)
                                                {
                                                    <tr id="@item.GrnID">
                                                        @if (Delete == true)
                                                        {
                                                            <td><input type='button' value='Remove' onclick='Delete("@item.GrnID")' class='Delete' /></td>
                                                        }
                                                        else
                                                        {
                                                            <td><input type='button' value='Remove' onclick='alert("No Permission to Access")' class='Delete' /></td>
                                                        }
                                                        @if (Edit == true)
                                                        {
                                                            <td><input type='button' name='Edit' id='EditRow' value='Edit' onclick='MainRowClick("@item.GrnID")' class='Edit' /></td>
                                                        }
                                                        else
                                                        {
                                                            <td><input type='button' name='Edit' id='EditRow' value='Edit' onclick='alert("No Permission to Access")' class='Edit' /></td>
                                                        }
                                                        <td id='GrnNo' class='GrnNo'>@item.GrnNo</td>
                                                        <td id='GrnDate' class='GrnDate'>@item.GrnDate</td>
                                                        <td id='GrnRefNo' class='GrnRefNo'>@item.GrnRefNo</td>
                                                        <td id='' class=''>@item.SupplierName</td>
                                                        <td id='DC_No' class='DC_No'>@item.DC_No</td>
                                                        <td id='DCDate' class='DCDate'>@item.DCDate</td>
                                                        <td id='INVoiceNo' class='INVoiceNo'>@item.INVoiceNo</td>
                                                        <td id='INVoiceDate' class='INVoiceDate'>@item.INVoiceDate</td>
                                                        <td id='GateEntryNo' class='GateEntryNo'>@item.GateEntryNo</td>
                                                        <td id='GEDate' class='GEDate'>@item.GEDate</td>
                                                        <td id='GateRefNo' class='GateRefNo'>@item.GateRefNo</td>
                                                        <td id='' class=''>@item.GrnTypeName</td>
                                                        <td style='' id='' class=''>@item.PoNO </td>
                                                        <td id='' class=''>@item.LOTNo</td>
                                                        <td id='MaterialDescription' class='MaterialDescription'>@item.MaterialDescription</td>
                                                        <td id='GroupID' class='GroupID_'>@item.GroupName</td>
                                                        <td id='CategoryId' class='CategoryId_'>@item.CategoryName</td>
                                                        <td id='ColourId' class='ColourId_'>@item.ColourName</td>
                                                        <td id='' class=''>@item.UomName</td>
                                                        <td style='' id='StoreLocation' class='StoreLocation'>@item.StoreLocation</td>
                                                        <td id='Substance' class='Substance_'>@item.SubstanceName</td>
                                                        <td style='' id='QtyAsPerDc' class='QtyAsPerDc'>@item.QtyAsPerDc</td>
                                                        <td style='' id='QtyAsPerSQFT' class='QtyAsPerSQFT'>@item.UomName  </td>
                                                        <td style='' id='QtyAsPerPCS' class='QtyAsPerPCS'>@item.QtyAsPerPCS</td>
                                                        <td style='display:none' id='QTYType' class='QTYType'>@item.QTYType</td>
                                                        <td id='QTYType' class='QTYType_ details_tab'>@item.UomName</td>
                                                        <td id='ReceivedQty' class='ReceivedQty'>@item.ReceivedQty</td>
                                                        <td id='PendingQty' class='PendingQty'>@item.PendingQty</td>
                                                        <td id='Rate' class='Rate'>@item.Rate</td>
                                                        <td id='Value' class='Value'>@item.Value </td>
                                                        <td style='' id='AmountplusTax' class='AmountplusTax'>@item.AmountplusTax </td>
                                                    </tr>
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="text-align:right;">
                        <div id="TotalAmount" style="display:inline-block;">
                            <span id="Tot">Total Amount</span>
                        </div>
                        <div id="TotalAmount" style="display:inline-block;">
                            @if (Model != null && Model.GrnID != 0)
                            {
                                <span id="TotalAmountVlaue">@Model.TotalAmountTax</span>
                            }
                            else
                            {
                                <span id="TotalAmountVlaue"></span>
                            }

                        </div>
                    </div>
                </div>
            </div>
            <div id="step2" class="tab-pane fade">
                <div class="container-fluid">
                    <div class="row">
                        <div class="field-section">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                                <p class="section-title">List of Amended Material </p>
                                <div class="table-responsive table-td-padding parent-table-height" style="height:auto;">
                                    <table class="table" id="list-amended-material_">
                                        <thead>
                                            <tr>
                                                <td>SI. No</td>
                                                <td>Material</td>
                                                <td>Color</td>
                                                <td>Substance</td>
                                                <td>Sample Norms</td>
                                                <td>Wastage %</td>
                                                <td>Total Norms</td>
                                                <td>No.of sets</td>
                                                <td>Ref. Size</td>
                                                <td>Mat. Supplied By</td>
                                                <td>total</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>


                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 col-lg-4 col-sm-4 col-xs-12">
                                <div class="field-section">
                                    <div class="form-group">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                            <label for="text" class="form-label">Prepared By</label>
                                        </div>
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                            <input class="form-control text-field" placeholder="enter text" type="text">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-4 col-sm-4 col-xs-12">
                                <div class="field-section">
                                    <div class="form-group">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                            <label for="text" class="form-label">Verified By</label>
                                        </div>
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                            <input class="form-control text-field" placeholder="enter text" type="text">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-lg-4 col-sm-4 col-xs-12">
                                <div class="field-section">
                                    <div class="form-group">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                            <label for="text" class="form-label">Checked By</label>
                                        </div>
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                            <input class="form-control text-field" placeholder="enter text" type="text">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="field-section">
                            <div class="form-group">
                                <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12">
                                    <button type="submit" class="btn btn-default btn-style">Instruct</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-footer">
            <div class="row">
                <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 text-center">
                    <button type="button" class="btn btn-default btn-style" id="Close">Close</button>
                    @{
                        if (NotifyMsgMSS == true)
                        {
                            <button type="submit" class="btn btn-default btn-style">Notify Msg / MSS</button>
                        }
                        else
                        {
                            <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Notify Msg / MSS">
                        }
                        if (Excel == true)
                        {
                            <button type="submit" class="btn btn-default btn-style">Excel</button>
                        }
                        else
                        {
                            <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Excel">
                        }
                        if (SetUp == true)
                        {
                            <button type="submit" class="btn btn-default btn-style">SetUp</button>
                        }
                        else
                        {
                            <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="SetUp">
                        }
                        if (Preview == true)
                        {
                            <button type="submit" class="btn btn-default btn-style">Preview</button>
                        }
                        else
                        {
                            <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Preview">
                        }
                        if (Print == true)
                        {
                            <button type="submit" class="btn btn-default btn-style">Print</button>
                        }
                        else
                        {
                            <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Print">
                        }
                        if (Delete == true)
                        {
                            <button type="submit" class="btn btn-default btn-style">Delete</button>
                        }
                        else
                        {
                            <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Delete">
                        }

                        <button type="submit" class="btn btn-default btn-style">Clear</button>

                        if (Model.GrnID == 0)
                        {
                            if (Save == true)
                            {
                                <input type="button" id="BtnSave" class="btn btn-default btn-style" value="Save" onclick="Save()" />
                            }
                            else
                            {
                                <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Save">
                            }
                        }
                        else
                        {
                            if (Update == true)
                            {
                                @Html.HiddenFor(x => x.GrnID)
                                <input type="button" id="BtnUpdate" class="btn btn-default btn-style" value="Update" onclick="Save()" />
                            }
                            else
                            {
                                <input type="button" onclick="alert('No Permission To access !')" style="cursor: pointer;" class="btn btn-default btn-style" value="Update">
                            }

                        }
                    }


                </div>
            </div>
        </div>
    </form>
</div>
<style>
    [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: fixed !important;
    }
</style>

<script>
    $("#Close").click(function () {
        location.href = "/GRN_Detail/GoodReceipeNote";
        return false;
    });
    $(document).ready(function () {
        $(".date_Grn").datepicker({ dateFormat: "dd/mm/yy", maxDate: new Date() });
        if ('@Update' == 'False' || '@Edit' == 'False') {
            $('#list-amended-material tbody tr').each(function () {
                $(this).find(".Edit").addClass('not-allowed').removeAttr('onclick');
            });
        }
        else {
            $('#list-amended-material  tbody tr').each(function () {;
            });
        }
        if ('@Delete' == 'False') {
            $('#list-amended-material  tbody tr').each(function () {
                $(this).find(".Delete").addClass('not-allowed').removeAttr('onclick');
            });
        }
        else {
            $('#list-amended-material  tbody tr').each(function () {
            });
        }
    });
    var IsSizeRange = false;

    $(function () {
        $("#MaterialId").combobox();

    });

    $(function () {
        if ('@storeid' != 0) {
            $('#Substance').val(0);
        }
        if ('@grd' != 0) {
            $('#Grade').val(0);
        }
    });
    $(function () {
        if ('@Model' != null && '@Model.AutomaticPONumber' != null && '@Model.AutomaticPONumber' != "") {
            $("#PoNumber").hide();
            $("#AutomaticPONumber").show();
        }
        else {
            $("#PoNumber").show();
            $("#AutomaticPONumber").hide();
        }
    });

    function isNumberKey(evt) {

        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode != 46 && charCode > 31
          && (charCode < 48 || charCode > 57))
            return false;

        return true;
    }
    $(function () {
        $("#PoNO").combobox({
            select: function (event, ui) {
                var PoNO = $('#PoNO').val();
                $.ajax({
                    url: '/GRN_Detail/FillPoBasedMaterialName',
                    type: "GET",
                    dataType: "JSON",
                    data: { PoNO: PoNO },
                    success: function (cities) {
                        if (cities != null && cities.Message != null && cities.Message == "There is no data") {
                            alert("PO and Material is not match.Please contac admin");
                            return false;
                        }
                        else {
                            $("#WithoutIndent").val(cities.IsIndent);
                            $("#MaterialId").html("");
                            $("#MaterialId").append("<option value='0'>--Select--</option>");
                            if (cities.Material != null) {
                                $.each(cities.Material, function (i, city) {
                                    $("#MaterialId").append('<option value=' + city.IndentMaterialID + '>' + city.MaterialDescription + '</option>');
                                });
                            }
                        }

                    }
                });
            }
        });
    });
    $(function () {
        $("#FreightAmount").blur(function () {
            var serviceTax = 0;
            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            var value = $("#Value").val();
            var discountPer = $("#Discount_Val").val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = $('#ST_VAT_CST_Val').val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var tagsPiecesDiscount = 0;
            var Surcharge_Val = 0;
            tagsPiecesDiscount = $("#TagsPiecesDiscount_Val").val();
            Surcharge_Val = $("#Surcharge_Val").val();
            if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                tagsPiecesDiscount = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            if (discountPer == "") {
                discountPer = 0;
            }
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "" || STVATAmount == undefined) {
                STVATAmount = 0;
            }
            if (ExessAmount == "" || ExessAmount == undefined) {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (value == "" || value == undefined) {
                value = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }

            var amount = ((parseFloat(value) + parseFloat(ExciseDutyAmount) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(Surcharge_Val)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discountPer)));


            if (serviceTax == "") {
                serviceTax = 0;
            }
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }
            if (value == "" || value == undefined) {
                value = 0;
            }
            var totalAmount = parseFloat(serviceTax) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $("#AmountplusTax").val((parseFloat(totalAmount) + parseFloat(amount)).toFixed(3));
        });
    });
    $(function () {
        $("#InsuranceAmount").blur(function () {
            var serviceTax = 0;
            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            var value = $("#Value").val();
            var discountPer = $("#Discount_Val").val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = $('#ST_VAT_CST_Val').val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var tagsPiecesDiscount = 0;
            var Surcharge_Val = 0;
            tagsPiecesDiscount = $("#TagsPiecesDiscount_Val").val();
            Surcharge_Val = $("#Surcharge_Val").val();
            if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                tagsPiecesDiscount = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            if (discountPer == "") {
                discountPer = 0;
            }
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "" || STVATAmount == undefined) {
                STVATAmount = 0;
            }
            if (ExessAmount == "" || ExessAmount == undefined) {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (value == "" || value == undefined) {
                value = 0;
            }
            var amount = ((parseFloat(value) + parseFloat(ExciseDutyAmount) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(Surcharge_Val)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discountPer)));

            if (serviceTax == "") {
                serviceTax = 0;
            }
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }
            var totalAmount = parseFloat(serviceTax) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $("#AmountplusTax").val((parseFloat(totalAmount) + parseFloat(amount)).toFixed(3));
        });
    });
    $(function () {
        $("#CustomsDuty").blur(function () {
            var serviceTax = 0;
            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            var value = $("#Value").val();
            var discountPer = $("#Discount_Val").val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = $('#ST_VAT_CST_Val').val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var tagsPiecesDiscount = 0;
            var Surcharge_Val = 0;
            tagsPiecesDiscount = $("#TagsPiecesDiscount_Val").val();
            Surcharge_Val = $("#Surcharge_Val").val();
            if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                tagsPiecesDiscount = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            if (discountPer == "") {
                discountPer = 0;
            }
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "" || STVATAmount == undefined) {
                STVATAmount = 0;
            }
            if (ExessAmount == "" || ExessAmount == undefined) {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (value == "" || value == undefined) {
                value = 0;
            }
            var amount = ((parseFloat(value) + parseFloat(ExciseDutyAmount) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(Surcharge_Val)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discountPer)));

            if (serviceTax == "") {
                serviceTax = 0;
            }
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }
            var totalAmount = parseFloat(serviceTax) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $("#AmountplusTax").val((parseFloat(totalAmount) + parseFloat(amount)).toFixed(3));
        });
    });
    $(function () {
        $("#Pack_Forward").blur(function () {
            var serviceTax = 0;
            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            //Get Value From below Tax and Amount
            var value = $("#Value").val();
            var discountPer = $("#Discount_Val").val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = $('#ST_VAT_CST_Val').val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var tagsPiecesDiscount = 0;
            var Surcharge_Val = 0;
            tagsPiecesDiscount = $("#TagsPiecesDiscount_Val").val();
            Surcharge_Val = $("#Surcharge_Val").val();
            if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                tagsPiecesDiscount = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            if (discountPer == "") {
                discountPer = 0;
            }
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "" || STVATAmount == undefined) {
                STVATAmount = 0;
            }
            if (ExessAmount == "" || ExessAmount == undefined) {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (value == "" || value == undefined) {
                value = 0;
            }
            var amount = ((parseFloat(value) + parseFloat(ExciseDutyAmount) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(Surcharge_Val)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discountPer)));

            if (serviceTax == "") {
                serviceTax = 0;
            }
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }
            var totalAmount = parseFloat(serviceTax) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $("#AmountplusTax").val((parseFloat(totalAmount) + parseFloat(amount)).toFixed(3));
        });
    });
    $(function () {
        $("#OtherCharges").blur(function () {
            var serviceTax = 0;
            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            //Get Value From below Tax and Amount
            var value = $("#Value").val();
            var discountPer = $("#Discount_Val").val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = $('#ST_VAT_CST_Val').val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var tagsPiecesDiscount = 0;
            var Surcharge_Val = 0;
            tagsPiecesDiscount = $("#TagsPiecesDiscount_Val").val();
            Surcharge_Val = $("#Surcharge_Val").val();
            if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                tagsPiecesDiscount = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            if (discountPer == "") {
                discountPer = 0;
            }
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "" || STVATAmount == undefined) {
                STVATAmount = 0;
            }
            if (ExessAmount == "" || ExessAmount == undefined) {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (value == "" || value == undefined) {
                value = 0;
            }
            var amount = ((parseFloat(value) + parseFloat(ExciseDutyAmount) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(Surcharge_Val)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discountPer)));


            if (serviceTax == "") {
                serviceTax = 0;
            }
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }

            var totalAmount = parseFloat(serviceTax) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $("#AmountplusTax").val((parseFloat(totalAmount) + parseFloat(amount)).toFixed(3));
        });
    });
    $(function () {
        $("#Transporter").blur(function () {
            var serviceTax = 0;
            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            //Get Value From below Tax and Amount
            var value = $("#Value").val();
            var discountPer = $("#Discount_Val").val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = $('#ST_VAT_CST_Val').val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var tagsPiecesDiscount = 0;
            var Surcharge_Val = 0;
            tagsPiecesDiscount = $("#TagsPiecesDiscount_Val").val();
            Surcharge_Val = $("#Surcharge_Val").val();
            if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                tagsPiecesDiscount = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            if (discountPer == "") {
                discountPer = 0;
            }
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "" || STVATAmount == undefined) {
                STVATAmount = 0;
            }
            if (ExessAmount == "" || ExessAmount == undefined) {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (value == "" || value == undefined) {
                value = 0;
            }

            var amount = ((parseFloat(value) + parseFloat(ExciseDutyAmount) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(Surcharge_Val)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discountPer)));


            if (serviceTax == "") {
                serviceTax = 0;
            }
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }

            var totalAmount = parseFloat(serviceTax) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $("#AmountplusTax").val((parseFloat(totalAmount) + parseFloat(amount)).toFixed(3));
        });
    });
    $(function () {
        $("#ServiceTaxPer").blur(function () {
            var serviceTax = 0;
            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            var Serviceper = $("#ServiceTaxPer").val();

            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (Serviceper == "") {
                Serviceper = 0;
            }
            var serviceTaxvalue = (Pack_Forward / 100) * Serviceper;
            $("#ServiceTax").val(serviceTaxvalue);
            //Get Value From below Tax and Amount
            var value = $("#Value").val();
            var discountPer = $("#Discount_Val").val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = $('#ST_VAT_CST_Val').val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var tagsPiecesDiscount = 0;
            var Surcharge_Val = 0;
            tagsPiecesDiscount = $("#TagsPiecesDiscount_Val").val();
            Surcharge_Val = $("#Surcharge_Val").val();
            if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                tagsPiecesDiscount = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            if (discountPer == "") {
                discountPer = 0;
            }
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "" || STVATAmount == undefined) {
                STVATAmount = 0;
            }
            if (ExessAmount == "" || ExessAmount == undefined) {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (value == "" || value == undefined) {
                value = 0;
            }

            var amount = ((parseFloat(value) + parseFloat(ExciseDutyAmount) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(Surcharge_Val)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discountPer)));

            if (serviceTaxvalue == "") {
                serviceTaxvalue = 0;
            }
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }
            var totalAmount = parseFloat(serviceTaxvalue) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $("#AmountplusTax").val((parseFloat(totalAmount) + parseFloat(amount)).toFixed(3));
        });
    });

    function GetQueryStringParams(sParam) {
        var sPageURL = window.location.search.substring(1);
        var sURLVariables = sPageURL.split('&');
        for (var i = 0; i < sURLVariables.length; i++) {
            var sParameterName = sURLVariables[i].split('=');
            if (sParameterName[0] == sParam) {
                return sParameterName[1];
            }
        }

    }
    $(function () {
        
        
        
        $("#MaterialId").combobox({
        
            select: function (event, ui) {
                $("#GrnNo").prop("disabled", false);
                var isWithoutIndent = false;
                isWithoutIndent = $("#WithoutIndent").val();

                if ($('#GrnType option:selected').text() != "General" && $('#GrnType option:selected').text() != "Direct GRN") {
              
                    var IndentMaterialID = $('#MaterialId').val();
                    var grnno = "";
                    grnno = $("#GrnNo").val();
                    $.ajax({
                        url: '/GRN_Detail/FillIndentMaterialIDBasedPopulateDetails',
                        type: "GET",
                        dataType: "JSON",
                        data: { IndentMaterialID: IndentMaterialID, grnno: grnno },
                        success: function (data) {
                            $("#GrnID").val("0");
                            
                            if (data.Message == "Already Exist") {
                                alert("Already Existed please select another Material.");
                                var id = GetQueryStringParams('GrnID_');
                                window.location.href = "GoodReceipeDetails?GrnID_=" + id;

                                return false;
                            }
                            else if (data.Message != null) {
                                alert(data.Message);
                                $("#PoNO").val();
                                $("#PoNO").combobox('destroy');
                                $("#PoNO").combobox();
                                return false;
                            }
                            else {


                                if (data.approvedPriceListExcessPo != null) {
                                    $.each(data.approvedPriceListExcessPo, function (i, approved) {
                                        $("#ExcessApproval").val(approved.POExcessPercentage);
                                    });
                                    $("#ExcessApproval").prop("disabled", true);
                                }
                                if (data.poQty != 0) {
                                    $("#PoQty").val(data.poQty);
                                    $("#QtyAsPerDc").val(data.poQty);
                                }
                                else {
                                    $("#PoQty").val(data.PurchaseOrder.Qty);
                                    $("#QtyAsPerDc").val(data.IndentMaterial.IndentQTY);
                                }
                                $("#PoQty").prop("disabled", true);
                                $("#IndentMaterialId_").val(IndentMaterialID);
                                $("#BuyerSeasonID_").val(data.IndentMaterial.BuyerSeason);
                                $("#BuyerMasterId_").val(data.IndentMaterial.BuyerMasterId);
                                $("#Grade").val(data.Material.GradeMasterId);
                                $("#Stores").val(data.Material.StoreMasterId);
                                if (data.Material != null && data.Material.isLocal == true && data.Material.isImport == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Local";
                                        }
                                        else if (i == 2) {
                                            type = "Direct Import";
                                            i = 3;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material != null && data.Material.isImportCustomer == true && data.Material.isImport == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Customer Import";
                                            i = 2;
                                        }
                                        else if (i == 2) {
                                            type = "Direct Import";
                                            i = 3;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material != null && data.Material.isImportCustomer == true && data.Material.isLocal == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Local";
                                            i = 1;
                                        }
                                        else if (i == 2) {
                                            type = "Customer Import";
                                            i = 2;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material.isImportCustomer == true) {
                                    $("#MaterialType").val(2);
                                }
                                else if (data.Material.isLocal == true) {
                                    $("#MaterialType").val(1);
                                }
                                else if (data.Material.isImport == true) {
                                    $("#MaterialType").val(3);
                                }
                                $("#CategoryId").val(data.IndentMaterial.MaterialCategoryMasterId);
                                $("#ColourId").val(data.IndentMaterial.ColorMasterID);
                                $("#IndentMaterialId").val(data.IndentMaterial.IndentMaterialId);
                                $("#BuyerSeasonID").val(data.IndentMaterial.BuyerSeason);
                                $("#BuyerMasterId").val(data.IndentMaterial.BuyerMasterId);
                                $("#UOMId").val(data.IndentMaterial.UomMasterId);
                                $("#GroupID").val(data.IndentMaterial.MaterialGroupMasterId);
                                $("#Substance").val(data.Material.SubstanceMasterId);
                                $("#Substance").val(data.Material.SubstanceMasterId);
                                $("#SupplierNameId").val(data.purchaseOrder.Supplier);
                                $("#QtyAsPerDc").val(data.IndentMaterial.IndentQTY);
                                if (data.orderDetails != null && data.orderDetails.LotNo != null) {
                                    $("#LOTNo").val(data.orderDetails.LotNo);
                                    $("#IONo").val(data.orderDetails.OrderEntryId);
                                    $("#IONo").combobox('destroy');
                                    $("#IONo").combobox();
                                }
                                $("#IndentNo").val(data.IndentMaterial.IndentID);
                                $("#Rate").val(data.PurchaseOrder.Rate);
                                $("#Rate").prop("disabled", true);
                                $("#Value").val(data.PurchaseOrder.ExRate);
                                $("#MRPMargin").val(data.PurchaseOrder.MRPMargin);
                                $("#MRPPrice").val(data.PurchaseOrder.MRPPrice);
                                $("#AccessibleValue").val(data.PurchaseOrder.AccessibleValue);
                                $("#Weight").val(data.PurchaseOrder.Weight);
                                $("#Discount_Per").val(data.PurchaseOrder.Dis);
                                $("#Discount_Val").val(data.PurchaseOrder.DisAmount);
                                $("#ExciseDuty_Per").val(data.PurchaseOrder.ExciseDuty);
                                $("#ExciseDuty_Val").val(data.PurchaseOrder.ExciseDutyAmount);
                                $("#ST_VAT_CST_Per").val(data.PurchaseOrder.VAT);
                                $("#ST_VAT_CST_Val").val(data.PurchaseOrder.VATAmt);
                                $("#Ecess_Per").val(data.PurchaseOrder.Exess);
                                $("#Ecess_Val").val(data.PurchaseOrder.ExessAmount);
                                $("#SH_Ecess_Per").val(data.PurchaseOrder.SHExess);
                                $("#SH_Ecess_Val").val(data.PurchaseOrder.SHExessAmount);
                                $("#Surcharge_Per").val(data.PurchaseOrder.SurCharge);
                                $("#Surcharge_Val").val(data.PurchaseOrder.SurChargeAmt);
                                $("#AmountplusTax").val(data.PurchaseOrder.AmountTax);
                                $("#FreightAmount").val(data.PurchaseOrder.FreightAmt);
                                $("#InsuranceAmount").val(data.PurchaseOrder.InsuranceAmount);
                                $("#CustomsDuty").val(data.PurchaseOrder.CustomsDutyType);
                                $("#Pack_Forward").val(data.PurchaseOrder.PackForwardtype);
                                if (data.PurchaseOrder.ServiceTax == null) {
                                    $("#ServiceTax").val(0);
                                }
                                $("#QtyAsPerSQFT").val(data.IndentMaterial.WastageQtyUOM);
                                $("#QTYType").val(data.IndentMaterial.WastageQtyUOM);
                                $("#ReceivedSQFT").val(data.IndentMaterial.WastageQtyUOM);
                                $("#ReceivedType").val(data.IndentMaterial.WastageQtyUOM);
                                $("#RejectedSQFT").val(data.IndentMaterial.WastageQtyUOM);
                                $("#RejectedType").val(data.IndentMaterial.WastageQtyUOM);
                                $("#AcceptedSQFT").val(data.IndentMaterial.WastageQtyUOM);
                                $("#AcceptedType").val(data.IndentMaterial.WastageQtyUOM);
                                if (data.store != null) {
                                    if (data.store.StoreName == "Leather Store" || data.store.StoreMaster == "Leather Store-Local") {
                                        $("#QTYType").prop("disabled", false);
                                        $("#ReceivedType").prop("disabled", false);
                                        $("#ShortageType").prop("disabled", false);
                                        $("#RejectedType").prop("disabled", false);
                                        $("#AcceptedType").prop("disabled", false);
                                        $("#QtyAsPerPCS").prop("disabled", false);
                                        $("#ReceivedPCS").prop("disabled", false);
                                        $("#ShortagePCS").prop("disabled", false);
                                        $("#RejectedPCS").prop("disabled", false);
                                        $("#AcceptedPCS").prop("disabled", false);

                                    }
                                    else {
                                        $("#QTYType").val("");
                                        $("#ReceivedType").val("");
                                        $("#ShortageType").val("");
                                        $("#RejectedType").val("");
                                        $("#AcceptedType").val("");
                                        $("#QTYType").prop("disabled", true);
                                        $("#ReceivedType").prop("disabled", true);
                                        $("#ShortageType").prop("disabled", true);
                                        $("#RejectedType").prop("disabled", true);
                                        $("#AcceptedType").prop("disabled", true);
                                        $("#QtyAsPerPCS").prop("disabled", true);
                                        $("#ReceivedPCS").prop("disabled", true);
                                        $("#ShortagePCS").prop("disabled", true);
                                        $("#RejectedPCS").prop("disabled", true);
                                        $("#AcceptedPCS").prop("disabled", true);
                                    }
                                }
                                else {

                                    $("#QTYType").val("");
                                    $("#ReceivedType").val("");
                                    $("#ShortageType").val("");
                                    $("#RejectedType").val("");
                                    $("#AcceptedType").val("");
                                    $("#QTYType").prop("disabled", true);
                                    $("#ReceivedType").prop("disabled", true);
                                    $("#ShortageType").prop("disabled", true);
                                    $("#RejectedType").prop("disabled", true);
                                    $("#AcceptedType").prop("disabled", true);
                                    $("#QtyAsPerPCS").prop("disabled", true);
                                    $("#ReceivedPCS").prop("disabled", true);
                                    $("#ShortagePCS").prop("disabled", true);
                                    $("#RejectedPCS").prop("disabled", true);
                                    $("#AcceptedPCS").prop("disabled", true);
                                }
                                $('#sizeRangeTable tbody tr').each(function () {
                                    $(this).find("td:not(:first)").remove();
                                });
                                var count = 1;
                                var totalQty = 0;
                                for (var i = 0; i <= data.SizeRange.length - 1; i++) {
                                    var sIsSizeRangeize = data.SizeRange[i].SizeRange.trim();
                                    IsSizeRange = true;
                                    $('#sizeRangeTable tbody tr:first-child').append('<td class="SizeRangeRefValue" style="background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;"> ' + size + ' </td> ');
                                    $('#sizeRangeTable tbody tr:last').append("<td class='Rate' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Rates' id='Rate'  onchange='CalculateTotal(this)' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /</td>");
                                    count++;
                                    totalQty += parseInt(totalQty);
                                }
                                $("#TotalCount").val(totalQty);
                            }

                        }
                    });
                }
                else if ($('#GrnType option:selected').text() == "General" && isWithoutIndent == "false") {
                    var IndentMaterialID = $('#MaterialId').val();
                    var grnno = "";
                    grnno = $("#GrnNo").val();
                    $.ajax({
                        url: '/GRN_Detail/FillIndentMaterialIDBasedPopulateDetails',
                        type: "GET",
                        dataType: "JSON",
                        data: { IndentMaterialID: IndentMaterialID, grnno: grnno },
                        success: function (data) {
                            
                            $("#GrnID").val("0");
                            if (data.Message == "Already Exist") {
                                alert("Already Existed please select another Material.");
                                var id = GetQueryStringParams('GrnID_');
                                window.location.href = "GoodReceipeDetails?GrnID_=" + id;
                                return false;
                            }
                            else if (data.Message != null) {
                                alert(data.Message);
                                $("#PoNO").val();
                                $("#PoNO").combobox('destroy');
                                $("#PoNO").combobox();
                                return false;
                            }
                            else {
                                if (data.PurchaseOrder != null) {
                                    if (data.PurchaseOrder.ServiceTax == null) {
                                        $("#ServiceTax").val(0);
                                    }
                                    if (data.PurchaseOrder.IndentNoDirectPO != null) {
                                        $("#IndentNo").val(data.PurchaseOrder.IndentNoDirectPO);
                                    }
                                    else {
                                        $("#IndentNo").val(data.PurchaseOrder.IndentNo);
                                    }

                                    if (data.approvedPriceListExcessPo != null) {
                                        $.each(data.approvedPriceListExcessPo, function (i, approved) {
                                            $("#ExcessApproval").val(approved.POExcessPercentage);
                                        });
                                        $("#ExcessApproval").prop("disabled", true);
                                    }
                                    $("#QtyAsPerSQFT").val(data.Material.Uom);
                                    $("#RejectedSQFT").val(data.Material.Uom);
                                    $("#ReceivedSQFT").val(data.Material.Uom);
                                    $("#ShortageSQFT").val(data.Material.Uom);
                                    $("#AcceptedSQFT").val(data.Material.Uom);
                                    if (data.poQty != 0) {
                                        $("#PoQty").val(data.poQty);
                                        $("#QtyAsPerDc").val(data.poQty);
                                    }
                                    else {
                                        $("#PoQty").val(data.PurchaseOrder.Qty);
                                        $("#QtyAsPerDc").val(data.IndentMaterial.IndentQTY);
                                    }

                                    $("#PoQty").prop("disabled", true);
                                    $("#Rate").val(data.PurchaseOrder.Rate);
                                    $("#Rate").prop("disabled", true);
                                    $("#Value").val(data.PurchaseOrder.ExRate);
                                    $("#MRPMargin").val(data.PurchaseOrder.MRPMargin);
                                    $("#MRPPrice").val(data.PurchaseOrder.MRPPrice);
                                    $("#AccessibleValue").val(data.PurchaseOrder.AccessibleValue);
                                    $("#Weight").val(data.PurchaseOrder.Weight);
                                    $("#Discount_Per").val(data.PurchaseOrder.Dis);
                                    $("#Discount_Val").val(data.PurchaseOrder.DisAmount);
                                    $("#ExciseDuty_Per").val(data.PurchaseOrder.ExciseDuty);
                                    $("#ExciseDuty_Val").val(data.PurchaseOrder.ExciseDutyAmount);
                                    $("#ST_VAT_CST_Per").val(data.PurchaseOrder.VAT);
                                    $("#ST_VAT_CST_Val").val(data.PurchaseOrder.VATAmt);
                                    $("#Ecess_Per").val(data.PurchaseOrder.Exess);
                                    $("#Ecess_Val").val(data.PurchaseOrder.ExessAmount);
                                    $("#SH_Ecess_Per").val(data.PurchaseOrder.SHExess);
                                    $("#SH_Ecess_Val").val(data.PurchaseOrder.SHExessAmount);
                                    $("#Surcharge_Per").val(data.PurchaseOrder.SurCharge);
                                    $("#Surcharge_Val").val(data.PurchaseOrder.SurChargeAmt);
                                    $("#AmountplusTax").val(data.PurchaseOrder.AmountTax);
                                    $("#FreightAmount").val(data.PurchaseOrder.FreightAmt);
                                    $("#InsuranceAmount").val(data.PurchaseOrder.InsuranceAmount);
                                    $("#CustomsDuty").val(data.PurchaseOrder.CustomsDutyType);
                                    $("#Pack_Forward").val(data.PurchaseOrder.PackForward);
                                }
                                $("#SupplierNameId").val(data.PurchaseOrder.Supplier);
                                $("#IndentMaterialId_").val(IndentMaterialID);
                                $("#BuyerSeasonID_").val(data.IndentMaterial.BuyerSeason);
                                $("#BuyerMasterId_").val(data.IndentMaterial.BuyerMasterId);
                                $("#Grade").val(data.Material.GradeMasterId);
                                $("#Stores").val(data.Material.StoreMasterId);
                                $("#CategoryId").val(data.IndentMaterial.MaterialCategoryMasterId);
                                $("#ColourId").val(data.IndentMaterial.ColorMasterID);
                                $("#IndentMaterialId").val(data.IndentMaterial.IndentMaterialId);
                                $("#BuyerSeasonID").val(data.IndentMaterial.BuyerSeason);
                                $("#BuyerMasterId").val(data.IndentMaterial.BuyerMasterId);
                                $("#UOMId").val(data.IndentMaterial.UomMasterId);
                                $("#GroupID").val(data.IndentMaterial.MaterialGroupMasterId);
                                $("#Substance").val(data.Material.SubstanceMasterId);
                                if (data.Material != null && data.Material.isLocal == true && data.Material.isImport == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Local";
                                        }
                                        else if (i == 2) {
                                            type = "Direct Import";
                                            i = 3;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material != null && data.Material.isImportCustomer == true && data.Material.isImport == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Customer Import";
                                            i = 2;
                                        }
                                        else if (i == 2) {
                                            type = "Direct Import";
                                            i = 3;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material != null && data.Material.isImportCustomer == true && data.Material.isLocal == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Local";
                                            i = 1;
                                        }
                                        else if (i == 2) {
                                            type = "Customer Import";
                                            i = 2;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material.isImportCustomer == true) {
                                    $("#MaterialType").val(2);
                                }
                                else if (data.Material.isLocal == true) {
                                    $("#MaterialType").val(1);
                                }
                                else if (data.Material.isImport == true) {
                                    $("#MaterialType").val(3);
                                }
                                if (data.orderDetails != null && data.orderDetails.LotNo != null) {
                                    $("#LOTNo").val(data.orderDetails.LotNo);
                                }
                                $("#IndentNo").val(data.IndentMaterial.IndentID);
                         
                                if (data.store != null) {
                                    
                                    if (data.store.StoreName == "Leather Store" || data.store.StoreName == "Leather Store-Local") {
                                        $("#QTYType").prop("disabled", false);
                                        if (data.Material.SubstanceMasterId != null) {
                                            $('#Substance').val(data.Material.SubstanceMasterId);
                                            $('#Substance').prop("disabled", false);
                                        }
                                        else {
                                            $('#Substance').val(0);
                                            $("#Substance").prop("disabled", true);
                                        }
                                        if ((cities != null && (data.Material.GradeMasterId != null || cities.Material.GradeMasterId != 0))) {
                                            $('#Grade').val(cities.Material.GradeMasterId);
                                            $('#Grade').prop("disabled", false);
                                        }
                                        else {
                                            $('#Grade').val(0);
                                            $("#Grade").prop("disabled", true);
                                        }
                                        $("#QTYType").val(data.Material.UomUnit);
                                        $("#ReceivedType").val(data.Material.UomUnit);
                                        $("#ShortageType").val(data.Material.UomUnit);
                                        $("#RejectedType").val(data.Material.UomUnit);
                                        $("#AcceptedType").val(data.Material.UomUnit);

                                        $("#ReceivedType").prop("disabled", false);
                                        $("#ShortageType").prop("disabled", false);
                                        $("#RejectedType").prop("disabled", false);
                                        $("#AcceptedType").prop("disabled", false);
                                        $("#QtyAsPerPCS").prop("disabled", false);
                                        $("#ReceivedPCS").prop("disabled", false);
                                        $("#ShortagePCS").prop("disabled", false);
                                        $("#RejectedPCS").prop("disabled", false);
                                        $("#AcceptedPCS").prop("disabled", false);

                                    }
                                    else {
                                        $('#Substance').val(0);
                                        $("#Substance").prop("disabled", true);
                                        $('#Grade').val(0);
                                        $("#Grade").prop("disabled", true);
                                        $("#QTYType").val("");
                                        $("#ReceivedType").val("");
                                        $("#ShortageType").val("");
                                        $("#RejectedType").val("");
                                        $("#AcceptedType").val("");
                                        $("#QTYType").prop("disabled", true);
                                        $("#ReceivedType").prop("disabled", true);
                                        $("#ShortageType").prop("disabled", true);
                                        $("#RejectedType").prop("disabled", true);
                                        $("#AcceptedType").prop("disabled", true);
                                        $("#QtyAsPerPCS").prop("disabled", true);
                                        $("#ReceivedPCS").prop("disabled", true);
                                        $("#ShortagePCS").prop("disabled", true);
                                        $("#RejectedPCS").prop("disabled", true);
                                        $("#AcceptedPCS").prop("disabled", true);
                                    }
                                }
                                else {
                                    $('#Substance').val(0);
                                    $("#Substance").prop("disabled", true);
                                    $('#Grade').val(0);
                                    $("#Grade").prop("disabled", true);
                                    $("#QTYType").val("");
                                    $("#ReceivedType").val("");
                                    $("#ShortageType").val("");
                                    $("#RejectedType").val("");
                                    $("#AcceptedType").val("");
                                    $("#QTYType").prop("disabled", true);
                                    $("#ReceivedType").prop("disabled", true);
                                    $("#ShortageType").prop("disabled", true);
                                    $("#RejectedType").prop("disabled", true);
                                    $("#AcceptedType").prop("disabled", true);
                                    $("#QtyAsPerPCS").prop("disabled", true);
                                    $("#ReceivedPCS").prop("disabled", true);
                                    $("#ShortagePCS").prop("disabled", true);
                                    $("#RejectedPCS").prop("disabled", true);
                                    $("#AcceptedPCS").prop("disabled", true);
                                }
                                $('#sizeRangeTable tbody tr').each(function () {
                                    $(this).find("td:not(:first)").remove();
                                });
                                var count = 1;
                                var totalQty = 0;
                                var isvalue = false;
                                if (data.SizeRange.length == 0) {
                                    $("#isSizeRamge").val(isvalue);
                                }
                                else {
                                    isvalue = 1;
                                    $("#isSizeRamge").val(isvalue);
                                    for (var i = 0; i <= data.SizeRange.length - 1 ; i++) {
                                        var size = data.SizeRange[i].Size.trim();
                                        $('#sizeRangeTable tbody tr:first-child').append('<td class="SizeRangeRefValue SizeRangeRefValue' + i + '" style="background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;"> ' + size + ' </td> ');
                                        $('#sizeRangeTable tbody tr:nth-child(2)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Qty_Value' onchange='CalculateTotal(this)' id='Qty_Value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(3)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Received_value' onchange='receivedcallChange(this)' id='Received_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(4)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Shortage_value'  id='Shortage_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(5)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Rejectd_value' onchange='rejectedcallChange(this)' id='Rejectd_value" + i + "' value='' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:last').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Accepted_value'  id='Accepted_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        count++;
                                        totalQty += parseInt(totalQty);
                                    }
                                }
                                $("#TotalCount").val(totalQty);
                            }

                        }
                    });
                }
                else if ($('#GrnType option:selected').text() == "General" && isWithoutIndent == "true") {
                    var MaterialId = $('#MaterialId').val();
                    var grnno = "";
                    grnno = $("#GrnNo").val();
                    
                    var PoOrderID = $("#PoNO").val();
                    $.ajax({
                        url: '/GRN_Detail/FillWithOutIndentMaterialIDBasedPopulateDetails',
                        type: "GET",
                        dataType: "JSON",
                        data: { MaterialID: MaterialId, PoOrderID: PoOrderID, grnno: grnno },
                        success: function (data) {
                            if (data == "Already Exist") {
                                alert("Already Existed please select another Material.");
                                var id = GetQueryStringParams('GrnID_');
                                window.location.href = "GoodReceipeDetails?GrnID_=" + id;
                                return false;
                            }
                            else if (data.Message != null) {
                                alert(data.Message);
                                $("#PoNO").val();
                                $("#PoNO").combobox('destroy');
                                $("#PoNO").combobox();
                                return false;
                            }
                            else {
                                $("#GrnID").val("0");
                                if (data.orderDetails != null && data.orderDetails.LotNo != null) {
                                    $("#LOTNo").val(data.orderDetails.LotNo);
                                }
                                if (data.approvedPriceListExcessPo != null) {
                                    $.each(data.approvedPriceListExcessPo, function (i, approved) {
                                        $("#ExcessApproval").val(approved.POExcessPercentage);
                                    });
                                    $("#ExcessApproval").prop("disabled", true);
                                }

                                $("#Grade").val(data.Material.GradeMasterId);
                                $("#Stores").val(data.Material.StoreMasterId);
                                $("#ColourId").val(data.Material.ColorMasterId);
                                $("#BuyerSeasonID").val(data.IndentMaterial.BuyerSeason);
                                $("#BuyerMasterId").val(data.IndentMaterial.BuyerMasterId);
                                $("#UOMId").val(data.IndentMaterial.UomMasterId);
                                $("#Substance").val(data.Material.SubstanceMasterId);
                                if (data.Material != null && data.Material.isLocal == true && data.Material.isImport == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Local";
                                        }
                                        else if (i == 2) {
                                            type = "Direct Import";
                                            i = 3;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material != null && data.Material.isImportCustomer == true && data.Material.isImport == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Customer Import";
                                            i = 2;
                                        }
                                        else if (i == 2) {
                                            type = "Direct Import";
                                            i = 3;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material != null && data.Material.isImportCustomer == true && data.Material.isLocal == true) {
                                    var int = 1;
                                    $("#MaterialType").html("");
                                    $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                    for (i = 1; i <= 2; i++) {
                                        var type = "";
                                        if (i == 1) {
                                            type = "Local";
                                            i = 1;
                                        }
                                        else if (i == 2) {
                                            type = "Customer Import";
                                            i = 2;
                                        }
                                        $("#MaterialType").append(
                                            $('<option></option>').val(i).html(type));
                                    }
                                }
                                else if (data.Material.isImportCustomer == true) {
                                    $("#MaterialType").val(2);
                                }
                                else if (data.Material.isLocal == true) {
                                    $("#MaterialType").val(1);
                                }
                                else if (data.Material.isImport == true) {
                                    $("#MaterialType").val(3);
                                }
                                if (data.PurchaseOrder != null) {
                                    if (data.PurchaseOrder.IndentNoDirectPO != null) {
                                        $("#IndentNo").val(data.PurchaseOrder.IndentNoDirectPO);
                                    }
                                    else {
                                        $("#IndentNo").val(data.PurchaseOrder.IndentNo);
                                    }
                                    if (data.poQty != 0) {
                                        $("#PoQty").val(data.poQty);
                                        $("#QtyAsPerDc").val(data.poQty);
                                    }
                                    else {
                                        $("#PoQty").val(data.PurchaseOrder.Qty);
                                        $("#QtyAsPerDc").val(data.IndentMaterial.IndentQTY);
                                    }
                                    $("#PendingQty").val(data.poQty);
                                    $("#PendingQty").prop("disabled", true);
                                    $("#PoQty").prop("disabled", true);
                                    $("#CategoryId").val(data.PurchaseOrder.Category);
                                    $("#GroupID").val(data.PurchaseOrder.Groupname);
                                    $("#SupplierNameId").val(data.PurchaseOrder.Supplier);
                                    $("#QtyAsPerDc").val(0);
                                    $("#Rate").val(data.PurchaseOrder.Rate);
                                    $("#Rate").prop("disabled", true);
                                    $("#Value").val(data.PurchaseOrder.ExRate);
                                    $("#MRPMargin").val(data.PurchaseOrder.MRPMargin);
                                    $("#MRPPrice").val(data.PurchaseOrder.MRPPrice);
                                    $("#AccessibleValue").val(data.PurchaseOrder.AccessibleValue);
                                    $("#Weight").val(data.PurchaseOrder.Weight);
                                    $("#Discount_Per").val(data.PurchaseOrder.Dis);
                                    $("#Discount_Val").val(data.PurchaseOrder.DisAmount);
                                    $("#ExciseDuty_Per").val(data.PurchaseOrder.ExciseDuty);
                                    $("#ExciseDuty_Val").val(data.PurchaseOrder.ExciseDutyAmount);
                                    $("#ST_VAT_CST_Per").val(data.PurchaseOrder.VAT);
                                    $("#ST_VAT_CST_Val").val(data.PurchaseOrder.VATAmt);
                                    $("#Ecess_Per").val(data.PurchaseOrder.Exess);
                                    $("#Ecess_Val").val(data.PurchaseOrder.ExessAmount);
                                    $("#SH_Ecess_Per").val(data.PurchaseOrder.SHExess);
                                    $("#SH_Ecess_Val").val(data.PurchaseOrder.SHExessAmount);
                                    $("#Surcharge_Per").val(data.PurchaseOrder.SurCharge);
                                    $("#Surcharge_Val").val(data.PurchaseOrder.SurChargeAmt);
                                    $("#AmountplusTax").val(data.PurchaseOrder.AmountTax);
                                    $("#FreightAmount").val(data.PurchaseOrder.FreightAmt);
                                    $("#InsuranceAmount").val(data.PurchaseOrder.InsuranceAmount);
                                    $("#CustomsDuty").val(data.PurchaseOrder.CustomsDutyType);
                                    $("#Pack_Forward").val(data.PurchaseOrder.PackForward);
                                    $("#SupplierNameId").val(data.PurchaseOrder.Supplier);
                                    if (data.PurchaseOrder.ServiceTax == null) {
                                        $("#ServiceTax").val(0);
                                    }
                                    $("#QtyAsPerSQFT").val(data.Material.Uom);
                                    $("#RejectedSQFT").val(data.Material.Uom);
                                    $("#ReceivedSQFT").val(data.Material.Uom);
                                    $("#ShortageSQFT").val(data.Material.Uom);
                                    $("#AcceptedSQFT").val(data.Material.Uom);
                                }
                                
                                if (data.store != null && data.store.StoreName != null) {
                                    if (data.store.StoreName == "Leather Store" || data.store.StoreName == "Leather Store-Local") {
                                        if (cities.Material.SubstanceMasterId != null) {
                                            $('#Substance').val(cities.Material.SubstanceMasterId);
                                            $('#Substance').prop("disabled", false);
                                        }
                                        else {
                                            $('#Substance').val(0);
                                            $("#Substance").prop("disabled", true);
                                        }
                                        if ((cities != null && (cities.Material.GradeMasterId != null || cities.Material.GradeMasterId != 0))) {
                                            $('#Grade').val(cities.Material.GradeMasterId);
                                            $('#Grade').prop("disabled", false);
                                        }
                                        else {
                                            $('#Grade').val(0);
                                            $("#Grade").prop("disabled", true);
                                        }
                                        $("#QTYType").prop("disabled", false);
                                        $("#QTYType").val(data.Material.UomUnit);
                                        $("#ReceivedType").val(data.Material.UomUnit);
                                        $("#ShortageType").val(data.Material.UomUnit);
                                        $("#RejectedType").val(data.Material.UomUnit);
                                        $("#AcceptedType").val(data.Material.UomUnit);

                                        $("#ReceivedType").prop("disabled", false);
                                        $("#ShortageType").prop("disabled", false);
                                        $("#RejectedType").prop("disabled", false);
                                        $("#AcceptedType").prop("disabled", false);
                                        $("#QtyAsPerPCS").prop("disabled", false);
                                        $("#ReceivedPCS").prop("disabled", false);
                                        $("#ShortagePCS").prop("disabled", false);
                                        $("#RejectedPCS").prop("disabled", false);
                                        $("#AcceptedPCS").prop("disabled", false);

                                    }
                                    else {
                                        $('#Substance').val(0);
                                        $("#Substance").prop("disabled", true);
                                        $('#Grade').val(0);
                                        $("#Grade").prop("disabled", true);
                                        $("#QTYType").val("");
                                        $("#ReceivedType").val("");
                                        $("#ShortageType").val("");
                                        $("#RejectedType").val("");
                                        $("#AcceptedType").val("");
                                        $("#QTYType").prop("disabled", true);
                                        $("#ReceivedType").prop("disabled", true);
                                        $("#ShortageType").prop("disabled", true);
                                        $("#RejectedType").prop("disabled", true);
                                        $("#AcceptedType").prop("disabled", true);
                                        $("#QtyAsPerPCS").prop("disabled", true);
                                        $("#ReceivedPCS").prop("disabled", true);
                                        $("#ShortagePCS").prop("disabled", true);
                                        $("#RejectedPCS").prop("disabled", true);
                                        $("#AcceptedPCS").prop("disabled", true);
                                    }
                                }
                                else {
                                    $('#Substance').val(0);
                                    $("#Substance").prop("disabled", true);
                                    $('#Grade').val(0);
                                    $("#Grade").prop("disabled", true);
                                    $("#QTYType").val("");
                                    $("#ReceivedType").val("");
                                    $("#ShortageType").val("");
                                    $("#RejectedType").val("");
                                    $("#AcceptedType").val("");
                                    $("#QTYType").prop("disabled", true);
                                    $("#ReceivedType").prop("disabled", true);
                                    $("#ShortageType").prop("disabled", true);
                                    $("#RejectedType").prop("disabled", true);
                                    $("#AcceptedType").prop("disabled", true);
                                    $("#QtyAsPerPCS").prop("disabled", true);
                                    $("#ReceivedPCS").prop("disabled", true);
                                    $("#ShortagePCS").prop("disabled", true);
                                    $("#RejectedPCS").prop("disabled", true);
                                    $("#AcceptedPCS").prop("disabled", true);
                                }
                                $('#sizeRangeTable tbody tr').each(function () {
                                    $(this).find("td:not(:first)").remove();
                                });
                                $('#sizeRangeTable tbody tr').each(function () {
                                    $(this).find("td:not(:first)").remove();
                                });
                                $('#sizeRangeTable tbody tr').each(function () {
                                    $(this).find("td:not(:first)").remove();
                                });
                                var count = 1;
                                var totalQty = 0;
                                var isvalue = false;
                                if (data.SizeRange.length == 0) {
                                    $("#isSizeRamge").val(isvalue);
                                }
                                else {
                                    isvalue = 1;
                                    $("#isSizeRamge").val(isvalue);
                                    for (var i = 0; i <= data.SizeRange.length - 1 ; i++) {
                                        var size = data.SizeRange[i].Size.trim();
                                        $('#sizeRangeTable tbody tr:first-child').append('<td class="SizeRangeRefValue SizeRangeRefValue' + i + '" style="background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;"> ' + size + ' </td> ');
                                        $('#sizeRangeTable tbody tr:nth-child(2)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Qty_Value' onchange='CalculateTotal(this)' id='Qty_Value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(3)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Received_value' onchange='receivedcallChange(this)' id='Received_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(4)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Shortage_value'  id='Shortage_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(5)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Rejectd_value' onchange='rejectedcallChange(this)' id='Rejectd_value" + i + "' value='' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:last').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Accepted_value'  id='Accepted_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        count++;
                                        totalQty += parseInt(totalQty);
                                    }
                                }
                                $("#TotalCount").val(totalQty);

                            }

                        }
                    });
                }
                else if ($('#GrnType option:selected').text() == "Direct GRN") {
                    var MaterialId = $('#MaterialId').val();
                    $.ajax({
                        url: '/GRN_Detail/isExistGRNMaterialNameBasedonGRNNO',
                        type: "GET",
                        dataType: "JSON",
                        data: { MaterialNameID: MaterialId, GrnNO: $("#GrnNo").val() },
                        success: function (data) {
                            $("#GrnID").val("0");
                            if (data.Message == "Already Existed") {
                                alert("This Material name already existed this grn no");
                                $("#MaterialType").val("");
                                $("#MaterialId").val("");
                                $("#MaterialId").combobox('destroy');
                                $("#MaterialId").combobox();
                                $("#IONo").val("");
                                $("#IONo").combobox('destroy');
                                $("#IONo").combobox();
                                $("#IndentNo").val("")
                                $("#IndentNo").combobox('destroy');
                                $("#IndentNo").combobox();
                                $("#QtyAsPerDc").val("0");
                                $("#ReceivedQty").val("0");
                                $("#ShortageQty").val("0");
                                $("#RejectedQty").val("");
                                $("#AcceptedQty").val("0");
                                $("#QtyAsPerPCS").val("0");
                                $("#ReceivedPCS").val("0");
                                $("#ShortagePCS").val("0");
                                $("#RejectedPCS").val("0");
                                $("#AcceptedPCS").val("0");
                                $("#QtyAsPerSQFT").val(0);
                                $("#ReceivedSQFT").val(0);
                                $("#ShortageSQFT").val(0);
                                $("#RejectedSQFT").val(0);
                                $("#AcceptedSQFT").val(0);
                                $("#QTYType").val(0);
                                $("#ReceivedType").val(0);
                                $("#ShortageType").val(0);
                                $("#RejectedType").val(0);
                                $("#AcceptedType").val(0);
                                $("#Substance").val(0);
                                $("#Grade").val(0);
                                $("#GroupID").val(0);
                                $("#UOMId").val(0);
                                $("#CategoryId").val(0);
                                $("#PoQty").val(0);
                                $("#QtyExcess").val(0);
                                $("#PendingQty").val(0);
                                $("#ExcessApproval").val(0);
                                $("#Rate").val(0);
                                $("#Value").val(0);
                                $("#ColourId").val("");
                                $("#Stores").val("");
                                $("#MRPMargin").val(0);
                                $("#MRPPrice").val(0);
                                $("#AccessibleValue").val(0);
                                $("#Discount_Per").val(0);
                                $("#Discount_Val").val(0);
                                $("#ExciseDuty_Per").val(0);
                                $("#ExciseDuty_Val").val(0);
                                $("#ST_VAT_CST_Per").val(0);
                                $("#ST_VAT_CST_Val").val(0);
                                $("#Ecess_Per").val(0);
                                $("#Ecess_Val").val(0);
                                $("#SH_Ecess_Per").val(0);
                                $("#SH_Ecess_Val").val(0);
                                $("#TagsPiecesDiscount_Per").val(0);
                                $("#TagsPiecesDiscount_Val").val(0);
                                $("#AmountplusTax").val(0);
                                $("#Surcharge_Per").val(0);
                                $("#Surcharge_Val").val(0);
                                $("#FreightAmount").val(0);
                                $("#InsuranceAmount").val(0);
                                $("#InsuranceAmount").val(0);
                                $("#CustomsDuty").val(0);
                                $("#Pack_Forward").val(0);
                                $("#ServiceTaxPer").val(0);
                                $("#ServiceTax").val(0);
                                $("#TotalCount").text("");
                                $("#OtherCharges").val(0);
                                $("#Transporter").val(0);
                                $('#sizeRangeTable tbody tr').each(function () {
                                    $(this).find("td:not(:first)").remove();
                                });
                                return false;
                            }
                            else if (data.Message != null) {
                                alert(data.Message);
                                return false;
                            }
                            else {
                                if (data.store != null) {
                                    if (data.store.StoreName == "Leather Store" || data.store.StoreName == "Leather Store-Local") {
                                        $("#QTYType").prop("disabled", false);
                                        $("#ReceivedType").prop("disabled", false);
                                        $("#ShortageType").prop("disabled", false);
                                        $("#RejectedType").prop("disabled", false);
                                        $("#AcceptedType").prop("disabled", false);
                                        $("#QtyAsPerPCS").prop("disabled", false);
                                        $("#ReceivedPCS").prop("disabled", false);
                                        $("#ShortagePCS").prop("disabled", false);
                                        $("#RejectedPCS").prop("disabled", false);
                                        $("#AcceptedPCS").prop("disabled", false);

                                    }
                                    else {
                                        $("#QTYType").val("");
                                        $("#ReceivedType").val("");
                                        $("#ShortageType").val("");
                                        $("#RejectedType").val("");
                                        $("#AcceptedType").val("");
                                        $("#QTYType").prop("disabled", true);
                                        $("#ReceivedType").prop("disabled", true);
                                        $("#ShortageType").prop("disabled", true);
                                        $("#RejectedType").prop("disabled", true);
                                        $("#AcceptedType").prop("disabled", true);
                                        $("#QtyAsPerPCS").prop("disabled", true);
                                        $("#ReceivedPCS").prop("disabled", true);
                                        $("#ShortagePCS").prop("disabled", true);
                                        $("#RejectedPCS").prop("disabled", true);
                                        $("#AcceptedPCS").prop("disabled", true);
                                    }
                                }
                                else {
                                    $("#QTYType").val("");
                                    $("#ReceivedType").val("");
                                    $("#ShortageType").val("");
                                    $("#RejectedType").val("");
                                    $("#AcceptedType").val("");
                                    $("#QTYType").prop("disabled", true);
                                    $("#ReceivedType").prop("disabled", true);
                                    $("#ShortageType").prop("disabled", true);
                                    $("#RejectedType").prop("disabled", true);
                                    $("#AcceptedType").prop("disabled", true);
                                    $("#QtyAsPerPCS").prop("disabled", true);
                                    $("#ReceivedPCS").prop("disabled", true);
                                    $("#ShortagePCS").prop("disabled", true);
                                    $("#RejectedPCS").prop("disabled", true);
                                    $("#AcceptedPCS").prop("disabled", true);
                                }
                                $("#SupplierNameId").html("");
                                $("#SupplierNameId").append("<option value='0'>--Please Select--</option>");
                                $.each(data.supplierItems, function (i, approved) {
                                    $("#SupplierNameId").append('<option value=' + approved.SupplierId + '>' + approved.SupplierName + '</option>');
                                });
                                $.each(data.Material, function (i, city) {
                                    $("#Grade").val(city.GradeMasterId);
                                    $("#Stores").val(city.StoreMasterId);
                                    $("#CategoryId").val(city.MaterialCategoryMasterId);
                                    $("#ColourId").val(city.ColorMasterId);
                                    $("#UOMId").val(city.UomMasterId);
                                    $("#GroupID").val(city.MaterialGroupMasterId);
                                    $("#Substance").val(city.SubstanceMasterId);

                                    $("#Rate").val("");
                                    $("#QtyAsPerSQFT").val(city.Uom);
                                    $("#RejectedSQFT").val(city.Uom);
                                    $("#ReceivedSQFT").val(city.Uom);
                                    $("#ShortageSQFT").val(city.Uom);
                                    $("#AcceptedSQFT").val(city.Uom);
                                    if (city.isLocal == true && city.isImport == true) {
                                        var int = 1;
                                        $("#MaterialType").html("");
                                        $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                        for (i = 1; i <= 2; i++) {
                                            var type = "";
                                            if (i == 1) {
                                                type = "Local";
                                            }
                                            else if (i == 2) {
                                                type = "Direct Import";
                                                i = 3;
                                            }

                                            $("#MaterialType").append(
                                                $('<option></option>').val(i).html(type));
                                        }
                                    }
                                    else if (city.isImportCustomer == true && city.isImport == true) {
                                        var int = 1;
                                        $("#MaterialType").html("");
                                        $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                        for (i = 1; i <= 2; i++) {
                                            var type = "";
                                            if (i == 1) {
                                                type = "Customer Import";
                                                i = 2;
                                            }
                                            else if (i == 2) {
                                                type = "Direct Import";
                                                i = 3;
                                            }
                                            $("#MaterialType").append(
                                                $('<option></option>').val(i).html(type));
                                        }
                                    }
                                    else if (city.isImportCustomer == true && city.isLocal == true) {
                                        var int = 1;
                                        $("#MaterialType").html("");
                                        $("#MaterialType").append($('<option></option>').val(0).html("Please select"));
                                        for (i = 1; i <= 2; i++) {
                                            var type = "";
                                            if (i == 1) {
                                                type = "Local";
                                                i = 1;
                                            }
                                            else if (i == 2) {
                                                type = "Customer Import";
                                                i = 2;
                                            }
                                            $("#MaterialType").append(
                                                $('<option></option>').val(i).html(type));
                                        }
                                    }
                                    else if (city.isImportCustomer == true) {
                                        $("#MaterialType").val(2);
                                    }
                                    else if (city.isLocal == true) {
                                        $("#MaterialType").val(1);
                                    }
                                    else if (city.isImport == true) {
                                        $("#MaterialType").val(3);
                                    }
                                    $("#RejectedSQFT").val(city.Uom);
                                    $("#AcceptedSQFT").val(city.Uom);
                                    if (data.store != null && data.store.StoreName != null && (data.store.StoreName == "Leather Store" || data.store.StoreName == "Leather Store-Local")) {
                                        $("#QTYType").val(city.UomUnit);
                                        $("#ReceivedType").val(city.UomUnit);
                                        $("#ShortageType").val(city.UomUnit);
                                        $("#RejectedType").val(city.UomUnit);
                                        $("#AcceptedType").val(city.UomUnit);
                                        $("#QTYType").prop("disabled", false);
                                        $("#ReceivedType").prop("disabled", false);
                                        $("#ShortageType").prop("disabled", false);
                                        $("#RejectedType").prop("disabled", false);
                                        $("#AcceptedType").prop("disabled", false);
                                        $("#QtyAsPerPCS").prop("disabled", false);
                                        $("#ReceivedPCS").prop("disabled", false);
                                        $("#ShortagePCS").prop("disabled", false);
                                        $("#RejectedPCS").prop("disabled", false);
                                        $("#AcceptedPCS").prop("disabled", false);

                                        if (cities.SubstanceMasterId != null) {
                                            $('#Substance').val(city.SubstanceMasterId);
                                            $('#Substance').prop("disabled", false);
                                        }
                                        else {
                                            $('#Substance').val(0);
                                            $("#Substance").prop("disabled", true);
                                        }
                                        if ((city != null && (city.GradeMasterId != null || city.GradeMasterId != 0))) {
                                            $('#Grade').val(city.GradeMasterId);
                                            $('#Grade').prop("disabled", false);
                                        }
                                        else {
                                            $('#Grade').val(0);
                                            $("#Grade").prop("disabled", true);
                                        }
                                    }
                                    else {
                                        $('#Substance').val(0);
                                        $("#Substance").prop("disabled", true);
                                        $('#Grade').val(0);
                                        $("#Grade").prop("disabled", true);
                                        $("#QTYType").val("");
                                        $("#ReceivedType").val("");
                                        $("#ShortageType").val("");
                                        $("#RejectedType").val("");
                                        $("#AcceptedType").val("");
                                        $("#QTYType").prop("disabled", true); ExcessApproval
                                        $("#ReceivedType").prop("disabled", true);
                                        $("#ShortageType").prop("disabled", true);
                                        $("#RejectedType").prop("disabled", true);
                                        $("#AcceptedType").prop("disabled", true);
                                        $("#QtyAsPerPCS").prop("disabled", true);
                                        $("#ReceivedPCS").prop("disabled", true);
                                        $("#ShortagePCS").prop("disabled", true);
                                        $("#RejectedPCS").prop("disabled", true);
                                        $("#AcceptedPCS").prop("disabled", true);
                                    }
                                });
                                $("#ExcessApproval").val("0");
                                $("#GrnID").val("0");
                                $('#sizeRangeTable tbody tr').each(function () {
                                    $(this).find("td:not(:first)").remove();
                                });
                                var count = 1;
                                var totalQty = 0;
                                var isvalue = false;
                                if (data.SizeRange.length == 0) {
                                    $("#isSizeRamge").val(isvalue);
                                }
                                else {
                                    isvalue = 1;
                                    $("#isSizeRamge").val(isvalue);
                                    for (var i = 0; i <= data.SizeRange.length - 1 ; i++) {
                                        var size = data.SizeRange[i].SizeRange.trim();
                                        $('#sizeRangeTable tbody tr:first-child').append('<td class="SizeRangeRefValue SizeRangeRefValue' + i + '" style="background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;"> ' + size + ' </td> ');
                                        $('#sizeRangeTable tbody tr:nth-child(2)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Qty_Value' onchange='CalculateTotal(this)' id='Qty_Value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(3)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Received_value' onchange='receivedcallChange(this)' id='Received_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(4)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Shortage_value'  id='Shortage_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:nth-child(5)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Rejectd_value' onchange='rejectedcallChange(this)' id='Rejectd_value" + i + "' value='' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        $('#sizeRangeTable tbody tr:last').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Accepted_value'  id='Accepted_value" + i + "' value='0' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                                        count++;
                                        totalQty += parseInt(totalQty);
                                    }
                                }
                                $("#TotalCount").val(totalQty);
                            }
                        }
                    });
                }
                $("#GrnNo").prop("disabled", true);
            }
        });
    });

    $(function () {
        $('#SupplierNameId').change(function () {
            if (($('#SupplierNameId').val() == "" || $('#SupplierNameId').val() == 0)) {
                alert("Please select supplier name");
                return false;
            }
            else if ($("#MaterialId").val() == "" || $("#MaterialId").val() == 0) {
                $('#SupplierNameId').val("");
                alert("Please select material name");
                return false;
            }
            else {
                $.ajax({
                    url: '/GRN_Detail/GetApprovedPriceDetails',
                    type: "GET",
                    dataType: "JSON",
                    contentType: "application/json; charset=utf-8",
                    data: { SupplierID: $('#SupplierNameId').val(), MaterialID: $("#MaterialId").val() },
                    success: function (data) {
                        $("#Rate").val(data.approvedPrieList.PriceRs);
                        $("#Rate").prop("disabled", true);
                        var qty = $("#AcceptedQty").val();
                        var amount = 0;
                        ampunt = parseFloat(qty) * parseFloat(data.approvedPrieList.PriceRs);
                        $("#Value").val(Math.round(parseFloat(ampunt)).toFixed(3));
                        $("#AmountplusTax").val((ampunt).toFixed(3));
                        if ($("#Discount_Per").val() != "") {
                            var dis_Per = $("#Discount_Per").val();
                            var amount = $("#AmountplusTax").val();
                            var materialValue = $("#Value").val();
                            var totalAmount = amount
                            var DiscountValue = ((parseFloat(dis_Per) / 100) * parseFloat(materialValue));
                            $("#AmountplusTax").val(parseFloat(amount) - Math.round(parseFloat(DiscountValue)).toFixed(3));
                        }
                        if ($("#ST_VAT_CST_Per").val() != "") {
                            var GST_Per = $("#ST_VAT_CST_Per").val();
                            var amount = $("#AmountplusTax").val();
                            var GSTValue = ((parseFloat(GST_Per) / 100) * parseFloat(amount));
                            $('#ST_VAT_CST_Val').val(GSTValue.toFixed(3));
                            $("#AmountplusTax").val(parseFloat(amount) + Math.round(parseFloat(GSTValue)).toFixed(3));
                        }
                    },
                    error: function () {

                    }
                });
            }

        });
    });
    function CalculateTotal(agr1) {
    }
    function receivedcallChange(arg) {
        var str = arg.id;
        str = str.replace(/[^0-9]+/ig, "");
        var qty_val = $("#Qty_Value" + str + "").val();
        var total = 0;
        total = parseFloat(qty_val) - arg.value;
        $("#Shortage_value" + str + "").val(total);
    }
    function rejectedcallChange(arg1) {

        var str = arg1.id;
        str = str.replace(/[^0-9]+/ig, "");
        var qty_val = $("#Qty_Value" + str + "").val();
        var shortage_val = $("#Shortage_value" + str + "").val();
        var total = 0;
        total = (parseFloat(qty_val) - (parseFloat(arg1.value) + parseFloat(shortage_val)));
        $("#Accepted_value" + str + "").val(total);
        var add = 0;
        $('#sizeRangeTable tbody tr').find('.Accepted_value').each(function () {
            add += Number($(this).val());
        });
        $("#TotalCount").text(add);
        $("#TotalCount").prop("disabled", true);
    }
    $(function () {
        $("#ReceivedQty").keyup(function () {
            $('#AcceptedQty').val($('#ReceivedQty').val());
            var ReceivedQTy = $('#ReceivedQty').val();
            var PoQty = $('#PoQty').val();
            var QtyAsPerDc = $('#QtyAsPerDc').val();
            var shortageamount = 0;
            shortageamount = (parseFloat(QtyAsPerDc) - parseFloat(ReceivedQTy));
            $('#ShortageQty').val(shortageamount);
            var UOM = parseInt($('#ReceivedSQFT').val());
            var uomPrimary = parseInt($('#ReceivedType').val());
            var pendingQty = $('#PendingQty').val();
            $('#ShortageSQFT').val(UOM);
            $('#ShortageType').val(uomPrimary);
            var poqty = $("#PoQty").val();
            var qtyAsPerDC = 0;
            var pendingQty = 0;
            var received = 0;
            var dbpendingQty = 0;
            var MaterialId = $('#MaterialId').val();
            var PoOrderID = $("#PoNO").val();
            var PONumber = "";
            if (PoOrderID == "") {
                PONumber = $("#AutomaticPONumber").val();
                PoOrderID = 0;
            }
            $.ajax({
                url: '/GRN_Detail/FillWithOutIndentMaterialIDBasedPopulateDetails',
                type: "GET",
                dataType: "JSON",
                data: { MaterialID: MaterialId, PoOrderID: PoOrderID, AutoMaticPoNumber: PONumber },
                success: function (data) {

           
                    if ((data != null || data != undefined || data != "undefined") && parseFloat(data.poQty) != 0) {
                        received = $("#ReceivedQty").val();
                        poqty = 0;
                        poqty = $("#PoQty").val();
                        dbpendingQty = 0;
                        dbpendingQty = data.poQty;
                        qtyAsPerDC = $("#QtyAsPerDc").val();
                        pendingQty = data.poQty;
                        if (parseFloat(qtyAsPerDC) < parseFloat(received)) {
                            alert("Exceeding PO Qty");
                            $("#AutoDisplay").hide();
                            $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                            return false;
                        }
                        else if (parseFloat(qtyAsPerDC) - parseFloat(received) < 0) {
                            alert("Exceeding PO Qty");
                            $("#AutoDisplay").hide();
                            $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                            return false;
                        }
                        else if (parseFloat(qtyAsPerDC) - parseFloat(received) < 0) {
                            alert("Exceeding PO Qty");
                            $("#AutoDisplay").hide();
                            $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                            return false;
                        }
                        else if (parseFloat(qtyAsPerDC) > parseFloat(poqty)) {
                            alert("Exceeding PO Qty");
                            var answer = confirm('Are you sure you want to continue this?');
                            if (answer) {
                                $('#QtyAsPerDc').css('border-color', '');
                                $("#PendingQty").val(parseFloat(data.poQty) - parseFloat(received));
                                $("#AutoDisplay").show();
                            }
                            else {
                                $("#AutoDisplay").hide();
                                $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                                return false;
                            }

                        }
                        else {
                            $('#QtyAsPerDc').css('border-color', '');
                            $("#PendingQty").val(parseFloat(data.poQty) - parseFloat(received));
                            $("#AutoDisplay").show();
                        }
                    }
                    else {

                        received = $("#ReceivedQty").val();
                        poqty = 0;
                        poqty = $("#PoQty").val();
                        dbpendingQty = 0;
                        qtyAsPerDC = $("#QtyAsPerDc").val();
                        if (parseFloat(qtyAsPerDC) < parseFloat(received)) {
                            alert("Exceeding PO Qty");
                            $("#AutoDisplay").hide();
                            $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                            return false;
                        }
                        else if (parseFloat(qtyAsPerDC) - parseFloat(received) < 0) {
                            alert("Exceeding PO Qty");
                            $("#AutoDisplay").hide();
                            $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                            return false;
                        }
                        else if (parseFloat(qtyAsPerDC) > parseFloat(poqty) && parseFloat(received) > parseFloat(poqty)) {
                            alert("Exceeding PO Qty");
                            var answer = confirm('Press OK to continue or else Cancel?');
                            if (answer) {
                                $('#QtyAsPerDc').css('border-color', '');
                                $("#PendingQty").val(parseFloat(data.poQty) - parseFloat(received));
                                $("#AutoDisplay").show();
                            }
                            else {
                                $("#AutoDisplay").hide();
                                $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                                return false;
                            }

                        }
                        else {
                            $('#QtyAsPerDc').css('border-color', '');
                            $("#PendingQty").val(parseFloat(data.poQty) - parseFloat(received));
                            $("#AutoDisplay").show();
                        }
                        received = $("#ReceivedQty").val();
                        var qtyAsPerDC = $("#QtyAsPerDc").val();
                        var pending = 0;
                        if (data.poQty == 0) {
                            pending = parseFloat(qtyAsPerDC) - parseFloat(received);
                            $("#PendingQty").val(pending);
                        }
                        else {
                            $("#PendingQty").val(parseFloat(data.poQty) - parseFloat(pending));
                        }
                    }
                }
            });

        });
    });
    $(function () {
        $("#ReceivedPCS").keyup(function () {
            $('#AcceptedPCS').val($('#ReceivedPCS').val());
            $('#AcceptedQty').val($('#ReceivedQty').val());
        });
    });
    $(function () {
        $("#RejectedQty").keyup(function () {

            var ReceivedAMt = $('#ReceivedQty').val();
            var RejectedAMt = $('#RejectedQty').val();
            var dcqty = $('#QtyAsPerDc').val();
            var Total = parseFloat(ReceivedAMt) - parseFloat(RejectedAMt);
            $('#PendingQty').val(Total);
            $('#AcceptedQty').val(Total);
            var shortageamount = 0;
            shortageamount = (parseFloat(dcqty) - parseFloat(ReceivedAMt));
            $('#ShortageQty').val(shortageamount);
            var rate = $("#Rate").val();
            var value_total = parseFloat(dcqty) * parseFloat(rate);
            $('#AcceptedQty').val(Total);
            $("#AmountplusTax").val((value_total).toFixed(3));
            $("#Value").val(value_total);
            var poqty = $("#PoQty").val();
            var qtyAsPerDC = $("#QtyAsPerDc").val();
            var pendingQty = 0;
            var MaterialId = $('#MaterialId').val();
            var PoOrderID = $("#PoNO").val();

            $.ajax({
                url: '/GRN_Detail/FillWithOutIndentMaterialIDBasedPopulateDetails',
                type: "GET",
                dataType: "JSON",
                data: { MaterialID: MaterialId, PoOrderID: PoOrderID },
                success: function (data) {
                    var iserror = 0;
                    if (parseFloat(data.poQty) != 0) {
                        var received = $("#AcceptedQty").val();
                        var poqty = $("#PoQty").val();
                        var rejectedqty = $("#RejectedQty").val();
                        var qtyAsPerDC = $('#QtyAsPerDc').val();
                        pendingQty = data.poQty;
                        if (parseFloat(qtyAsPerDC) < parseFloat(rejectedqty) && iserror == 0) {
                            alert("Exceeding PO Qty");
                            $("#AutoDisplay").hide();
                            $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                            iserror = 1;
                            return false;
                        }
                        else if (parseFloat(qtyAsPerDC) - parseFloat(rejectedqty) < 0 && iserror == 0) {
                            alert("Exceeding PO Qty");
                            $("#AutoDisplay").hide();
                            iserror = 1
                            $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                            return false;
                        }

                        else {
                            $("#AutoDisplay").show();
                            $('#QtyAsPerDc').css('border-color', '');
                            if (parseFloat(data.poQty) < parseFloat(rejectedqty)) {
                                $("#QtyExcess").val(parseFloat(data.poQty) - parseFloat(received));
                            }
                            else {
                                $("#PendingQty").val(parseFloat(data.poQty) - parseFloat(received));
                            }
                        }

                    }
                    if (parseFloat(qtyAsPerDC) > parseFloat(poqty) && parseFloat(received) > parseFloat(poqty) && iserror == 0) {
                        alert("Exceeding PO Qty");
                        iserror = 1;
                        var answer = confirm('Press OK to continue or else Cancel?');
                        if (answer) {
                            $('#QtyAsPerDc').css('border-color', '');
                            if (parseFloat(data.poQty) < parseFloat(received)) {
                                $("#QtyExcess").val(parseFloat(received) - parseFloat(data.poQty));
                                $("#AutoDisplay").show();
                            }
                            else {
                                $("#PendingQty").val(parseFloat(data.poQty) - parseFloat(received));
                                $("#AutoDisplay").show();
                            }
                        }
                        else {
                            $("#AutoDisplay").hide();
                            $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                            return false;
                        }
                    }
                }
            });
            if (parseFloat(ReceivedAMt) <= parseFloat(dcqty)) {
                if (parseFloat(poqty) < parseFloat(ReceivedAMt)) {
                    $('#QtyExcess').val((parseFloat(pendingQty) + parseFloat(ReceivedAMt) - parseFloat(poqty)));
                    $('#ShortageQty').val(parseFloat(shortageamount).toFixed(2));
                    $('#PendingQty').val(0);
                    $("#AutoDisplay").show();
                }
                else {
                    $('#PendingQty').val(parseFloat(poqty) - (parseFloat(pendingQty) + parseFloat(ReceivedAMt)));
                    $('#ShortageQty').val(parseFloat(shortageamount).toFixed(2));
                    $('#QtyExcess').val(0);
                    $("#AutoDisplay").show();
                }

            }
            else if (parseFloat(ReceivedAMt) >= parseFloat(dcqty)) {
                $('#QtyExcess').val(parseFloat(ReceivedAMt) - parseFloat(dcqty));
                $('#PendingQty').val(0);
                $("#AutoDisplay").show();
            }
            else {
                if (parseFloat(pendingQty) < 0) {
                    $('#PendingQty').val(parseFloat(pendingQty));
                }
                else {
                    $('#PendingQty').val(parseFloat(pendingQty) - parseFloat(ReceivedAMt));
                }

                alert("Exceeding PO Qty");
                $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                $("#AutoDisplay").hide();
                return false;
            }
            if (parseFloat($('#PendingQty').val()) < 0) {
                alert("Exceeding PO Qty");
                $("#AutoDisplay").hide();
                $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus();
                return false;
            }
        });
    });
    $(function () {
        $("#RejectedPCS").keyup(function () {
            var ReceivedPCSAMt = $('#ReceivedPCS').val();
            var RejectedPCSAMt = $('#RejectedPCS').val();
            var Total = parseFloat(ReceivedPCSAMt) - parseFloat(RejectedPCSAMt);
            $('#AcceptedPCS').val(Total);
        });
    });
    $("#IndentNo").combobox();
    $("#toggle").click(function () {
        $("#IndentNo").toggle();
    });
    $("#IONo").combobox();
    $("#toggle").click(function () {
        $("#IONo").toggle();
    });
    function CalculateTotal(agr1) {

        var buyerTotalcnt = 0;
        var add = 0;
        $("#sizeRangeTable .qty_Total").each(function () {
            add += Number($(this).val());
        });
        if ($('#TotalCount').val() == "") {
            buyerTotalcnt = 0;
        }
        else {
            buyerTotalcnt = $('#TotalCount').val();
        }
        $('#TotalCount').text(add);
    }
    function Calculate() {

        var buyerTotalcnt = 0;
        var add = 0;
        $("#sizeRangeTable .qty_Total").each(function () {
            add += Number($(this).val());
        });
        if ($('#TotalCount').val() == "") {
            buyerTotalcnt = 0;
        }
        else {
            buyerTotalcnt = $('#TotalCount').val();
        }
        $('#TotalCount').text(add);
    }
    $(function () {
        
        $("#Discount_Per").blur(function () {
            var discountPer = $("#Discount_Per").val();
            if (discountPer != "") {
                var materialValue = $("#Value").val();
                var Value = ((parseFloat(discountPer) / 100) * parseFloat(materialValue));
                var Value_ = (Value);
                $('#Discount_Val').val(Value_.toFixed(3));
                var ExciseDutyAmount = $('#ExciseDuty_Val').val();
                var STVATAmount = 0;
                STVATAmount = $('#ST_VAT_CST_Val').val();
                var ExessAmount = $('#Ecess_Val').val();
                var SHAmt = $('#SH_Ecess_Val').val();
                var tagsPiecesDiscount = 0;
                if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                    tagsPiecesDiscount = 0;
                }
                if (ExciseDutyAmount == "") {
                    ExciseDutyAmount = 0;
                }
                if (STVATAmount == "") {
                    STVATAmount = 0;
                }
                if (ExessAmount == "") {
                    ExessAmount = 0;
                }
                if (SHAmt == "") {
                    SHAmt = 0;
                }
                var amount = ((parseFloat(materialValue) + parseFloat(ExciseDutyAmount) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt)) - (parseFloat(Value_)));

                //Freight cost calculation
                var serviceTax = 0;
                var FreightAmount = $("#FreightAmount").val();
                var InsuranceAmount = $("#InsuranceAmount").val();
                var CustomsDuty = $("#CustomsDuty").val();
                var Pack_Forward = $("#Pack_Forward").val();
                serviceTax = $("#ServiceTax").val();
                var OtherCharges = $("#OtherCharges").val();
                var Transporter = $("#Transporter").val();
                var amountTax = 0;
                amountTax = $("#AmountplusTax").val();

                if (FreightAmount == "") {
                    FreightAmount = 0;
                }
                if (InsuranceAmount == "") {
                    InsuranceAmount = 0;
                }
                if (CustomsDuty == "") {
                    CustomsDuty = 0;
                }
                if (Pack_Forward == "") {
                    Pack_Forward = 0;
                }
                if (serviceTax == "") {
                    serviceTax = 0;
                }
                if (OtherCharges == "") {
                    OtherCharges = 0;
                }
                if (Transporter == "") {
                    Transporter = 0;
                }
                if (amountTax == "") {
                    amountTax = 0;
                }
                var totalAmountTaxDiscount = parseFloat(amount) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(serviceTax) + parseFloat(OtherCharges) + parseFloat(Transporter);
                $('#AmountplusTax').val((totalAmountTaxDiscount).toFixed(3));

            }
        });
    });
    $(function () {
        $("#ExciseDuty_Per").blur(function () {
            var discountPer = $("#ExciseDuty_Per").val();
            if (discountPer != "") {
                var materialValue = $("#Value").val();
                var Value = ((parseFloat(discountPer) / 100) * parseFloat(materialValue));
                var Value_ = (Value);
                $('#ExciseDuty_Val').val(Value_.toFixed(3));
                var discount_Val = $('#Discount_Val').val();
                var STVATAmount = $('#ST_VAT_CST_Val').val();
                var ExessAmount = $('#Ecess_Val').val();
                var SHAmt = $('#SH_Ecess_Val').val();
                var tagsPiecesDiscount = 0;
                if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                    tagsPiecesDiscount = 0;
                }
                if (discount_Val == "") {
                    discount_Val = 0;
                }
                if (STVATAmount == "") {
                    STVATAmount = 0;
                }
                if (ExessAmount == "") {
                    ExessAmount = 0;
                }
                if (SHAmt == "") {
                    SHAmt = 0;
                }
                var amount = ((parseFloat(Value_) + parseFloat(materialValue) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discount_Val)));
                //Freight cost calculation
                var serviceTax = 0;
                var FreightAmount = $("#FreightAmount").val();
                var InsuranceAmount = $("#InsuranceAmount").val();
                var CustomsDuty = $("#CustomsDuty").val();
                var Pack_Forward = $("#Pack_Forward").val();
                serviceTax = $("#ServiceTax").val();
                var OtherCharges = $("#OtherCharges").val();
                var Transporter = $("#Transporter").val();
                var amountTax = 0;
                amountTax = $("#AmountplusTax").val();

                if (FreightAmount == "") {
                    FreightAmount = 0;
                }
                if (InsuranceAmount == "") {
                    InsuranceAmount = 0;
                }
                if (CustomsDuty == "") {
                    CustomsDuty = 0;
                }
                if (Pack_Forward == "") {
                    Pack_Forward = 0;
                }
                if (serviceTax == "") {
                    serviceTax = 0;
                }
                if (OtherCharges == "") {
                    OtherCharges = 0;
                }
                if (Transporter == "") {
                    Transporter = 0;
                }
                if (amountTax == "") {
                    amountTax = 0;
                }
                var totalAmountTaxDiscount = parseFloat(amount) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(serviceTax) + parseFloat(OtherCharges) + parseFloat(Transporter);
                $('#AmountplusTax').val((totalAmountTaxDiscount).toFixed(3));

            }
        });
    });
    $(".Received_value").blur(function () {
    });
    $(function () {
        $("#Ecess_Per").blur(function () {
            var discountPer = $("#Ecess_Per").val();
            if (discountPer != "") {
                var materialValue = $("#Value").val();
                var Value = ((parseFloat(discountPer) / 100) * parseFloat(materialValue));
                var Value_ = (Value);
                $('#Ecess_Val').val(Value_.toFixed(3));
                var discount_Val = $('#Discount_Val').val();
                var STVATAmount = $('#ST_VAT_CST_Val').val();
                var ExessAmount = $('#ExciseDuty_Val').val();
                var SHAmt = $('#SH_Ecess_Val').val();
                var tagsPiecesDiscount = 0;
                if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                    tagsPiecesDiscount = 0;
                }
                if (discount_Val == "") {
                    discount_Val = 0;
                }
                if (STVATAmount == "") {
                    STVATAmount = 0;
                }
                if (ExessAmount == "") {
                    ExessAmount = 0;
                }
                if (SHAmt == "") {
                    SHAmt = 0;
                }
                var amount = ((parseFloat(Value_) + parseFloat(materialValue) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discount_Val)));
                //Freight cost calculation
                var serviceTax = 0;
                var FreightAmount = $("#FreightAmount").val();
                var InsuranceAmount = $("#InsuranceAmount").val();
                var CustomsDuty = $("#CustomsDuty").val();
                var Pack_Forward = $("#Pack_Forward").val();
                serviceTax = $("#ServiceTax").val();
                var OtherCharges = $("#OtherCharges").val();
                var Transporter = $("#Transporter").val();
                var amountTax = 0;
                amountTax = $("#AmountplusTax").val();

                if (FreightAmount == "") {
                    FreightAmount = 0;
                }
                if (InsuranceAmount == "") {
                    InsuranceAmount = 0;
                }
                if (CustomsDuty == "") {
                    CustomsDuty = 0;
                }
                if (Pack_Forward == "") {
                    Pack_Forward = 0;
                }
                if (serviceTax == "") {
                    serviceTax = 0;
                }
                if (OtherCharges == "") {
                    OtherCharges = 0;
                }
                if (Transporter == "") {
                    Transporter = 0;
                }
                if (amountTax == "") {
                    amountTax = 0;
                }
                var totalAmountTaxDiscount = parseFloat(amount) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(serviceTax) + parseFloat(OtherCharges) + parseFloat(Transporter);
                $('#AmountplusTax').val((totalAmountTaxDiscount).toFixed(3));
            }
        });
    });
    $(function () {
        $("#SH_Ecess_Per").blur(function () {
            var discountPer = $("#SH_Ecess_Per").val();
            if (discountPer != "") {
                var materialValue = $("#Value").val();
                var Value = ((parseFloat(discountPer) / 100) * parseFloat(materialValue));
                var Value_ = (Value);
                $('#SH_Ecess_Val').val(Value_.toFixed(3));
                var discount_Val = $('#Discount_Val').val();
                var STVATAmount = $('#ST_VAT_CST_Val').val();
                var ExessAmount = $('#ExciseDuty_Val').val();
                var SHAmt = $('#Ecess_Val').val();
                var tagsPiecesDiscount = 0;
                if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                    tagsPiecesDiscount = 0;
                }
                if (discount_Val == "") {
                    discount_Val = 0;
                }
                if (STVATAmount == "") {
                    STVATAmount = 0;
                }
                if (ExessAmount == "") {
                    ExessAmount = 0;
                }
                if (SHAmt == "") {
                    SHAmt = 0;
                }
                var amount = ((parseFloat(Value_) + parseFloat(materialValue) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discount_Val)));
                //Freight cost calculation
                var serviceTax = 0;
                var FreightAmount = $("#FreightAmount").val();
                var InsuranceAmount = $("#InsuranceAmount").val();
                var CustomsDuty = $("#CustomsDuty").val();
                var Pack_Forward = $("#Pack_Forward").val();
                serviceTax = $("#ServiceTax").val();
                var OtherCharges = $("#OtherCharges").val();
                var Transporter = $("#Transporter").val();
                var amountTax = 0;
                amountTax = $("#AmountplusTax").val();

                if (FreightAmount == "") {
                    FreightAmount = 0;
                }
                if (InsuranceAmount == "") {
                    InsuranceAmount = 0;
                }
                if (CustomsDuty == "") {
                    CustomsDuty = 0;
                }
                if (Pack_Forward == "") {
                    Pack_Forward = 0;
                }
                if (serviceTax == "") {
                    serviceTax = 0;
                }
                if (OtherCharges == "") {
                    OtherCharges = 0;
                }
                if (Transporter == "") {
                    Transporter = 0;
                }
                if (amountTax == "") {
                    amountTax = 0;
                }
                var totalAmountTaxDiscount = parseFloat(amount) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(serviceTax) + parseFloat(OtherCharges) + parseFloat(Transporter);
                $('#AmountplusTax').val((totalAmountTaxDiscount).toFixed(3));
            }
        });
    });
    $(function () {
        $("#ST_VAT_CST_Per").blur(function () {
            var discountPer = $("#ST_VAT_CST_Per").val();
            if (discountPer != "") {
                var materialValue = $("#Value").val();
                var exciseDuty = $("#ExciseDuty_Val").val();
                var discount_Val = $('#Discount_Val').val();
                var caltotal = parseFloat(exciseDuty) + parseFloat(materialValue) - parseFloat(discount_Val);
                var Value = ((parseFloat(discountPer) / 100) * caltotal);
                var Value_ = (Value);
                $('#ST_VAT_CST_Val').val(Value_.toFixed(3));
                var ExciseDutyAmount = $('#ExciseDuty_Val').val();
                var STVATAmount = $('#ST_VAT_CST_Val').val();
                var ExessAmount = $('#Ecess_Val').val();
                var SHAmt = $('#SH_Ecess_Val').val();
                var tagsPiecesDiscount = 0;
                var Surcharge_Val = $("#Surcharge_Val").val();
                if (Surcharge_Val == "") {
                    Surcharge_Val = 0;
                }
                if (tagsPiecesDiscount == "" || tagsPiecesDiscount == undefined) {
                    tagsPiecesDiscount = 0;
                }
                if (ExciseDutyAmount == "") {
                    ExciseDutyAmount = 0;
                }
                if (discount_Val == "") {
                    discount_Val = 0;
                }
                if (STVATAmount == "") {
                    STVATAmount = 0;
                }
                if (ExessAmount == "") {
                    ExessAmount = 0;
                }
                if (SHAmt == "") {
                    SHAmt = 0;
                }
                var amount = ((parseFloat(Surcharge_Val) + parseFloat(STVATAmount) + parseFloat(materialValue) + parseFloat(ExessAmount) + parseFloat(SHAmt)) - (parseFloat(tagsPiecesDiscount) + parseFloat(discount_Val)));
                //Freight cost calculation
                var serviceTax = 0;
                var FreightAmount = $("#FreightAmount").val();
                var InsuranceAmount = $("#InsuranceAmount").val();
                var CustomsDuty = $("#CustomsDuty").val();
                var Pack_Forward = $("#Pack_Forward").val();
                serviceTax = $("#ServiceTax").val();
                var OtherCharges = $("#OtherCharges").val();
                var Transporter = $("#Transporter").val();
                var amountTax = 0;
                amountTax = $("#AmountplusTax").val();

                if (FreightAmount == "") {
                    FreightAmount = 0;
                }
                if (InsuranceAmount == "") {
                    InsuranceAmount = 0;
                }
                if (CustomsDuty == "") {
                    CustomsDuty = 0;
                }
                if (Pack_Forward == "") {
                    Pack_Forward = 0;
                }
                if (serviceTax == "") {
                    serviceTax = 0;
                }
                if (OtherCharges == "") {
                    OtherCharges = 0;
                }
                if (Transporter == "") {
                    Transporter = 0;
                }
                if (amountTax == "") {
                    amountTax = 0;
                }
                var totalAmountTaxDiscount = parseFloat(amount) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(serviceTax) + parseFloat(OtherCharges) + parseFloat(Transporter);
                $('#AmountplusTax').val((totalAmountTaxDiscount).toFixed(3));
            }
        });
    });


    $('.allow_decimal').keypress(function (event) {
        var $this = $(this);
        if ((event.which != 46 || $this.val().indexOf('.') != -1) &&
           ((event.which < 48 || event.which > 57) &&
           (event.which != 0 && event.which != 8))) {
            event.preventDefault();
        }

        var text = $(this).val();
        if ((event.which == 46) && (text.indexOf('.') == -1)) {
            setTimeout(function () {
                if ($this.val().substring($this.val().indexOf('.')).length > 3) {
                    $this.val($this.val().substring(0, $this.val().indexOf('.') + 3));
                }
            }, 1);
        }

        if ((text.indexOf('.') != -1) &&
            (text.substring(text.indexOf('.')).length > 2) &&
            (event.which != 0 && event.which != 8) &&
            ($(this)[0].selectionStart >= text.length - 2)) {
            event.preventDefault();
        }
    });

    $('.allow_decimal').bind("paste", function (e) {
        var text = e.originalEvent.clipboardData.getData('Text');
        if ($.isNumeric(text)) {
            if ((text.substring(text.indexOf('.')).length > 3) && (text.indexOf('.') > -1)) {
                e.preventDefault();
                $(this).val(text.substring(0, text.indexOf('.') + 3));
            }
        }
        else {
            e.preventDefault();
        }
    });

    $(function () {
        $("#TagsPiecesDiscount_Val").blur(function () {
            var discountPer = $("#TagsPiecesDiscount_Val").val();
            var materialValue = $("#Value").val();
            materialValue = materialValue - discountPer;
            $("#Value").val(materialValue.toFixed(3));
            var ST_VAT_CST_Per = $("#ST_VAT_CST_Per").val();
            var Value = ((parseFloat(ST_VAT_CST_Per) / 100) * materialValue);
            var Value_ = (Value);
            $('#ST_VAT_CST_Val').val(Value_.toFixed(3));
            var discount_Val = $('#Discount_Val').val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = 0;
            STVATAmount = $("#ST_VAT_CST_Val").val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var Surcharge_Val = 0;
            Surcharge_Val = $("#Surcharge_Val").val();
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "") {
                STVATAmount = 0;
            }
            if (ExessAmount == "") {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (discount_Val == "") {
                discount_Val = 0;
            }
            var amount = ((parseFloat(materialValue) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(ExciseDutyAmount) - (parseFloat(Surcharge_Val))));
            //Freight cost calculation
            var serviceTax = 0;
            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (serviceTax == "") {
                serviceTax = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            var totalAmountTaxDiscount = parseFloat(amount) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(serviceTax) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $('#AmountplusTax').val((totalAmountTaxDiscount.toFixed(3)));


        });
    });
    $(function () {
        $("#QtyAsPerDc").blur(function () {
            var poQtyValue = 0;
            var Excess_Val = 0;
            var grnqty = 0;
            var QtyAsPerDc = 0; var total = 0;
            poQtyValue = $("#PoQty").val();
            Excess_Val = $('#ExcessApproval').val();
            total = (parseFloat(poQtyValue) / 100) * parseFloat(Excess_Val);
            grnqty = parseFloat(total) + parseFloat(poQtyValue);
            QtyAsPerDc = $("#QtyAsPerDc").val();
            if (QtyAsPerDc > grnqty) {
                alert("Exceeding PO Excess %");
                $("#AutoDisplay").hide();
                return false;
            }
            else {
                $("#AutoDisplay").show();
            }
        });
    })
    $(function () {
        $("#Surcharge_Val").blur(function () {
            var materialValue = $("#Value").val();
            var discount_Val = $('#Discount_Val').val();
            var ExciseDutyAmount = $('#ExciseDuty_Val').val();
            var STVATAmount = $('#ST_VAT_CST_Val').val();
            var ExessAmount = $('#Ecess_Val').val();
            var SHAmt = $('#SH_Ecess_Val').val();
            var Surcharge_Val = 0;
            Surcharge_Val = $("#Surcharge_Val").val();
            if (ExciseDutyAmount == "") {
                ExciseDutyAmount = 0;
            }
            if (STVATAmount == "") {
                STVATAmount = 0;
            }
            if (ExessAmount == "") {
                ExessAmount = 0;
            }
            if (SHAmt == "") {
                SHAmt = 0;
            }
            if (discount_Val == "") {
                discount_Val = 0;
            }
            var amount = ((parseFloat(materialValue) + parseFloat(STVATAmount) + parseFloat(ExessAmount) + parseFloat(SHAmt) + parseFloat(ExciseDutyAmount) + parseFloat(Surcharge_Val)) - parseFloat(discount_Val));

            //Freight cost calculation
            var serviceTax = 0;

            var FreightAmount = $("#FreightAmount").val();
            var InsuranceAmount = $("#InsuranceAmount").val();
            var CustomsDuty = $("#CustomsDuty").val();
            var Pack_Forward = $("#Pack_Forward").val();
            serviceTax = $("#ServiceTax").val();
            var OtherCharges = $("#OtherCharges").val();
            var Transporter = $("#Transporter").val();
            if (FreightAmount == "") {
                FreightAmount = 0;
            }
            if (InsuranceAmount == "") {
                InsuranceAmount = 0;
            }
            if (CustomsDuty == "") {
                CustomsDuty = 0;
            }
            if (Pack_Forward == "") {
                Pack_Forward = 0;
            }
            if (serviceTax == "") {
                serviceTax = 0;
            }
            if (OtherCharges == "") {
                OtherCharges = 0;
            }
            if (Transporter == "") {
                Transporter = 0;
            }
            if (Surcharge_Val == "") {
                Surcharge_Val = 0;
            }
            var totalAmountTaxDiscount = parseFloat(amount) + parseFloat(FreightAmount) + parseFloat(InsuranceAmount) + parseFloat(CustomsDuty) + parseFloat(Pack_Forward) + parseFloat(serviceTax) + parseFloat(OtherCharges) + parseFloat(Transporter);
            $('#AmountplusTax').val((totalAmountTaxDiscount.toFixed(3)));
        });
    });
    $(function () {
        $("#GrnType").change(function () {
            if ($('#GrnType option:selected').text() == "General") {
                $("#LOTNo").val(""); $("#IndentNo").val("0"); $("#IONo").val(""); $("#Stores").val("");
                $("#MaterialName").val(""); $("#QtyAsPerDc").val("0"); $("#ReceivedQty").val("0");
                $("#ShortageQty").val("0"); $("#RejectedQty").show(); $("#AcceptedQty").val("0"); $("#QtyAsPerSQFT").val("");
                $("#ReceivedSQFT").val(""); $("#ShortageSQFT").val(""); $("#RejectedSQFT").val(""); $("#AcceptedSQFT").val("");
                $("#QtyAsPerPCS").val("0"); $("#ReceivedPCS").val("0"); $("#ShortagePCS").show(); $("#RejectedPCS").val("0");
                $("#AcceptedPCS").show(); $("#QTYType").val(""); $("#ReceivedType").val(""); $("#ShortageType").val("");
                $("#RejectedType").val(); $("#AcceptedType").val(""); $("#PendingQty").val("0"); $("#Weight").val("0");
                $("#PoQty").val("0"); $("#QtyExcess").val(""); $("#ExcessApproval").val("0"); $("#GeneralRemarks").val("");
                $("#Rate").val(); $("#Value").val(""); $("#MRPMargin").val(""); $("#MRPPrice").val("0"); $("#AccessibleValue").val("0");
                $("#Discount_Per").val("0"); $("#Discount_Val").val("0"); $("#ExciseDuty_Per").val("0"); $("#ExciseDuty_Val").val("");
                $("#ST_VAT_CST_Per").val("0"); $("#ST_VAT_CST_Val").val("0"); $("#Ecess_Per").val("0"); $("#Ecess_Val").val();
                $("#SH_Ecess_Per").val("0"); $("#SH_Ecess_Val").val("0"); $("#TagsPiecesDiscount_Per").val("0"); $("#TagsPiecesDiscount_Val").val("0");
                $("#AmountplusTax").val("0"); $("#Surcharge_Per").val("0"); $("#Surcharge_Val").val("0"); $("#CategoryId").val();
                $("#IfGroupIsMaintenance").val(""); $("#ColourId").val(); $("#UOMId").val(); $("#StoreLocation").val(""); $("#GeneralRemarks").val();
                $("#Substance").val(""); $("#Grade").val(""); $("#GroupID").val("");

                $("#AutomaticPONumber").hide();
                $("#PoNumber").show();
            }
            else if ($('#GrnType option:selected').text() == "Direct GRN") {
                $("#PoNumber").hide();
                $("#AutomaticPONumber").show();
                $("#IONo").val("");
                $("#Stores").val("");
                $("#MaterialName").val(""); $("#QtyAsPerDc").val("0"); $("#ReceivedQty").val("0");
                $("#ShortageQty").val("0"); $("#RejectedQty").show(); $("#AcceptedQty").val("0"); $("#QtyAsPerSQFT").val("");
                $("#ReceivedSQFT").val("0"); $("#ShortageSQFT").val(""); $("#RejectedSQFT").val(""); $("#AcceptedSQFT").val("");
                $("#QtyAsPerPCS").val("0"); $("#ReceivedPCS").val("0"); $("#ShortagePCS").show(); $("#RejectedPCS").val("0");
                $("#AcceptedPCS").show("0"); $("#QTYType").val(""); $("#ReceivedType").val(""); $("#ShortageType").val("");
                $("#RejectedType").val(); $("#AcceptedType").val(""); $("#PendingQty").val("0"); $("#Weight").val("0");
                $("#PoQty").val("0"); $("#QtyExcess").val("0"); $("#ExcessApproval").val("0"); $("#GeneralRemarks").val("");
                $("#Rate").val(); $("#Value").val("0"); $("#MRPMargin").val("0"); $("#MRPPrice").val("0"); $("#AccessibleValue").val("0");
                $("#Discount_Per").val("0"); $("#Discount_Val").val(); $("#ExciseDuty_Per").val("0"); $("#ExciseDuty_Val").val("0");
                $("#ST_VAT_CST_Per").val("0"); $("#ST_VAT_CST_Val").val("0"); $("#Ecess_Per").val("0"); $("#Ecess_Val").val();
                $("#SH_Ecess_Per").val("0"); $("#SH_Ecess_Val").val("0"); $("#TagsPiecesDiscount_Per").val("0"); $("#TagsPiecesDiscount_Val").val("0");
                $("#AmountplusTax").val("0"); $("#Surcharge_Per").val("0"); $("#Surcharge_Val").val("0"); $("#CategoryId").val();
                $("#IfGroupIsMaintenance").val(""); $("#ColourId").val(); $("#UOMId").val();

                $("#GeneralRemarks").val();
                $("#Substance").val(""); $("#Grade").val(""); $("#GroupID").val("");
            }
            else {
                $("#PoNumber").show();
                $("#AutomaticPONumber").hide();
                $("#LOTNo").val(""); $("#IndentNo").val(""); $("#IONo").val(""); $("#Stores").val("");
                $("#MaterialName").val(""); $("#QtyAsPerDc").val(""); $("#ReceivedQty").val("");
                $("#ShortageQty").val(""); $("#RejectedQty").show(); $("#AcceptedQty").val(""); $("#QtyAsPerSQFT").val("");
                $("#ReceivedSQFT").val(""); $("#ShortageSQFT").val(""); $("#RejectedSQFT").val(""); $("#AcceptedSQFT").val("");
                $("#QtyAsPerPCS").val(""); $("#ReceivedPCS").val(""); $("#ShortagePCS").show(); $("#RejectedPCS").val("");
                $("#AcceptedPCS").show(); $("#QTYType").val(""); $("#ReceivedType").val(""); $("#ShortageType").val("");
                $("#RejectedType").val(); $("#AcceptedType").val(""); $("#PendingQty").val(); $("#Weight").val("");
                $("#PoQty").val(""); $("#QtyExcess").val(""); $("#ExcessApproval").val(); $("#GeneralRemarks").val("");
                $("#Rate").val(); $("#Value").val(""); $("#MRPMargin").val(""); $("#MRPPrice").val(""); $("#AccessibleValue").val();
                $("#Discount_Per").val(""); $("#Discount_Val").val(); $("#ExciseDuty_Per").val(""); $("#ExciseDuty_Val").val("");
                $("#ST_VAT_CST_Per").val(""); $("#ST_VAT_CST_Val").val(); $("#Ecess_Per").val(""); $("#Ecess_Val").val();
                $("#SH_Ecess_Per").val(""); $("#SH_Ecess_Val").val(); $("#TagsPiecesDiscount_Per").val(""); $("#TagsPiecesDiscount_Val").val("");
                $("#AmountplusTax").val(""); $("#Surcharge_Per").val(); $("#Surcharge_Val").val(""); $("#CategoryId").val();
                $("#IfGroupIsMaintenance").val(""); $("#ColourId").val(); $("#UOMId").val(); $("#StoreLocation").val(""); $("#GeneralRemarks").val();
                $("#Substance").val(""); $("#Grade").val(""); $("#GroupID").val("");
            }
        });
    });

    //start
    function RowClick(arg) {
        $('#list-amended-material tr#' + arg + '').remove();
        $.ajax({
            url: '/GRN_Detail/GetGrnID',
            type: "GET",
            dataType: "JSON",
            data: { GrnID: arg },
            success: function (cities) {
                $('#BarCodeNo').val(cities.GrnDetailS.BarCodeNo);
                $('#GrnNo').val(cities.GrnDetailS.GrnNo);
                if (cities.grnType.IssueType.trim() == "Direct GRN") {
                    $("#PoNumber").hide();
                    $("#PoNO").hide();
                    $("#AutomaticPonumber").show();
                    $("#AutomaticPONumber").show();
                    $('#AutomaticPONumber').val(cities.GrnDetailS.AutomaticPONumber);
                    $('#AutomaticPONumber').prop("disabled", true);
                }
                else {
                    $("#PoNumber").show();
                    $("#AutomaticPonumber").hide();
                    $("#AutomaticPONumber").hide();
                    $('#PoNO').show();
                    $('#PoNO').val(cities.GrnDetailS.PoNO);
                    $("#PoNO").combobox('destroy');
                    $("#PoNO").combobox();
                    $('#PoNO').prop("disabled", true);
                }
                if (cities.GrnDetailS.Substance != null) {
                    $('#Substance').val(cities.GrnDetailS.Substance);
                    $('#Substance').prop("disabled", true);
                }
                else {
                    $('#Substance').val(0);
                    $("#Substance").prop("disabled", true);
                }
                if ((cities.Material != null && (cities.Material.GradeMasterId != null || cities.Material.GradeMasterId != 0))) {
                    $('#Grade').val(cities.Material.GradeMasterId);
                    $('#Grade').prop("disabled", true);
                }
                else {
                    $('#Grade').val(0);
                    $("#Grade").prop("disabled", true);
                }
                $('#GrnID').val(cities.GrnDetailS.GrnID);
                $('#PoQty').val(cities.GrnDetailS.PoQty);
                $('#PoQty').prop("disabled", true);
                $('#TotalCount').val(cities.GrnDetailS.TotalCount);
                $('#MaterialType').val(cities.GrnDetailS.MaterialType);
                $('#GrnDate').val(cities.GrnDetailS.GrnDate);
                $('#GrnRefNo').val(cities.GrnDetailS.GrnRefNo);
                $('#SupplierNameId').val(cities.GrnDetailS.SupplierNameId);
                $('#DC_No').val(cities.GrnDetailS.DC_No);
                $('#DCDate').val(cities.GrnDetailS.DCDate);
                $('#INVoiceNo').val(cities.GrnDetailS.INVoiceNo);
                $('#INVoiceDate').val(cities.GrnDetailS.INVoiceDate);
                $('#GateEntryNo').val(cities.GrnDetailS.GateEntryNo);
                $('#GEDate').val(cities.GrnDetailS.GEDate);
                $('#GETime').val(cities.GrnDetailS.GETime);
                $('#GateRefNo').val(cities.GrnDetailS.GateRefNo);
                $('#GrnType').val(cities.GrnDetailS.GrnType);
                $('#ST_VATcredit').val(cities.GrnDetailS.ST_VATcredit);
                $('#ImportClearance').val(cities.GrnDetailS.ImportClearance);
                $('#BENo').val(cities.GrnDetailS.BENo);
                $('#ExchangeRate').val(cities.GrnDetailS.ExchangeRate);
                $('#ShipmentMode').val(cities.GrnDetailS.ShipmentMode);
                $('#FreightAmount').val(cities.GrnDetailS.FreightAmount);
                $('#InsuranceAmount').val(cities.GrnDetailS.InsuranceAmount);
                $('#CustomsDuty').val(cities.GrnDetailS.CustomsDuty);
                $('#Pack_Forward').val(cities.GrnDetailS.Pack_Forward);
                $('#ServiceTax').val(cities.GrnDetailS.ServiceTax);
                $('#ServiceTaxPer').val(cities.GrnDetailS.ServiceTaxPer);
                $('#OtherCharges').val(cities.GrnDetailS.OtherCharges);
                $('#Transporter').val(cities.GrnDetailS.Transporter);
                $('#GeneralRemarks1').val(cities.GrnDetailS.GeneralRemarks1);

                $('#LOTNo').val(cities.GrnDetailS.LOTNo);
                $('#IndentNo').val(cities.GrnDetailS.IndentNo);
                $('#IONo').val(cities.GrnDetailS.IONo);
                $('#Stores').val(cities.GrnDetailS.Stores);
                if (cities.purchaseOrder != null && cities.purchaseOrder.PoOrderId != 0) {
                    $('#MaterialId').val(cities.purchaseOrder.PoOrderId);
                }
                else {
                    $('#MaterialId').val(cities.GrnDetailS.MaterialId);
                }
                $("#MaterialId").combobox('destroy');
                $("#MaterialId").combobox();
                $('#GroupID').val(cities.GrnDetailS.GroupID);
                $('#CategoryId').val(cities.GrnDetailS.CategoryId);
                $('#IfGroupIsMaintenance').val(cities.GrnDetailS.IfGroupIsMaintenance);
                $('#ColourId').val(cities.GrnDetailS.ColourId);
                $('#UOMId').val(cities.GrnDetailS.UOMId);
                $('#DOM').val(cities.GrnDetailS.DOM);
                $('#StoreLocation').val(cities.GrnDetailS.StoreLocation);
                $('#GeneralRemarks').val(cities.GrnDetailS.GeneralRemarks);

                $('#IndentMaterialId_').val(cities.GrnDetailS.IndentMaterialId);
                $('#Weight').val(cities.GrnDetailS.Weight);
                $('#ShortageQty').val(cities.GrnDetailS.ShortageQty);
                $('#QtyAsPerDc').val(cities.GrnDetailS.QtyAsPerDc);
                $('#QtyAsPerSQFT').val(cities.GrnDetailS.QtyAsPerSQFT);
                $("#ShortageSQFT").val(cities.GrnDetailS.ShortageSQFT);
                $('#QtyAsPerPCS').val(cities.GrnDetailS.QtyAsPerPCS);
                $('#QTYType').val(cities.GrnDetailS.QTYType);
                $('#ReceivedQty').val(cities.GrnDetailS.ReceivedQty);
                $('#ReceivedSQFT').val(cities.GrnDetailS.ReceivedSQFT);
                $('#ReceivedPCS').val(cities.GrnDetailS.ReceivedPCS);
                $('#ReceivedType').val(cities.GrnDetailS.ReceivedType);
                $('#RejectedQty').val(cities.GrnDetailS.RejectedQty);
                $('#RejectedSQFT').val(cities.GrnDetailS.RejectedSQFT);
                $('#RejectedPCS').val(cities.GrnDetailS.RejectedPCS);
                $('#RejectedType').val(cities.GrnDetailS.RejectedType);
                $('#AcceptedQty').val(cities.GrnDetailS.AcceptedQty);
                $('#AcceptedSQFT').val(cities.GrnDetailS.AcceptedSQFT);
                $('#AcceptedPCS').val(cities.GrnDetailS.AcceptedPCS);
                $('#AcceptedType').val(cities.GrnDetailS.AcceptedType);
                $('#QtyExcess').val(cities.GrnDetailS.QtyExcess);
                $('#PendingQty').val(cities.GrnDetailS.PendingQty);
                $('#ExcessApproval').val(cities.GrnDetailS.ExcessApproval);
                $('#GeneralRemarks').val(cities.GrnDetailS.GeneralRemarks);
                $('#Rate').val(cities.GrnDetailS.Rate);
                $('#Rate').prop("disabled", true);
                $('#Value').val(cities.GrnDetailS.Value);
                $('#MRPMargin').val(cities.GrnDetailS.MRPMargin);
                $('#MRPPrice').val(cities.GrnDetailS.MRPPrice);
                $('#AccessibleValue').val(cities.GrnDetailS.AccessibleValue);
                $('#Discount_Per').val(cities.GrnDetailS.Discount_Per);
                $('#Discount_Val').val(cities.GrnDetailS.Discount_Val);
                $('#ExciseDuty_Per').val(cities.GrnDetailS.ExciseDuty_Per);
                $('#ExciseDuty_Val').val(cities.GrnDetailS.ExciseDuty_Val);
                $('#ST_VAT_CST_Per').val(cities.GrnDetailS.ST_VAT_CST_Per);
                $('#ST_VAT_CST_Val').val(cities.GrnDetailS.ST_VAT_CST_Val);
                $('#Ecess_Per').val(cities.GrnDetailS.Ecess_Per);
                $('#Ecess_Val').val(cities.GrnDetailS.Ecess_Val);
                $('#SH_Ecess_Per').val(cities.GrnDetailS.SH_Ecess_Per);
                $('#SH_Ecess_Val').val(cities.GrnDetailS.SH_Ecess_Val);
                $('#Surcharge_Per').val(cities.GrnDetailS.Surcharge_Per);
                $('#Surcharge_Val').val(cities.GrnDetailS.Surcharge_Val);
                $('#TagsPiecesDiscount_Per').val(cities.GrnDetailS.TagsPiecesDiscount_Per);
                $('#TagsPiecesDiscount_Val').val(cities.GrnDetailS.TagsPiecesDiscount_Val);
                $('#AmountplusTax').val(cities.GrnDetailS.AmountplusTax);
                $("#TotalAmountVlaue").text(parseFloat($("#AmountplusTax").val()) - parseFloat(cities.GrnDetailS.AmountplusTax));
                //disabled and enabled
                if (cities.store != null) {
                    if (cities.store.StoreName == "Leather Store" || cities.store.StoreName == "Leather Store-Local" || cities.store.StoreName == "Leather Stores-Import") {
                        $("#QTYType").prop("disabled", false);
                        $("#ReceivedType").prop("disabled", false);
                        $("#ShortageType").prop("disabled", false);
                        $("#RejectedType").prop("disabled", false);
                        $("#AcceptedType").prop("disabled", false);
                        $("#QtyAsPerPCS").prop("disabled", false);
                        $("#ReceivedPCS").prop("disabled", false);
                        $("#ShortagePCS").prop("disabled", false);
                        $("#RejectedPCS").prop("disabled", false);
                        $("#AcceptedPCS").prop("disabled", false);
                    }
                    else {
                        $("#QTYType").val("");
                        $("#ReceivedType").val("");
                        $("#ShortageType").val("");
                        $("#RejectedType").val("");
                        $("#AcceptedType").val("");
                        $("#QTYType").prop("disabled", true);
                        $("#ReceivedType").prop("disabled", true);
                        $("#ShortageType").prop("disabled", true);
                        $("#RejectedType").prop("disabled", true);
                        $("#AcceptedType").prop("disabled", true);
                        $("#QtyAsPerPCS").prop("disabled", true);
                        $("#ReceivedPCS").prop("disabled", true);
                        $("#ShortagePCS").prop("disabled", true);
                        $("#RejectedPCS").prop("disabled", true);
                        $("#AcceptedPCS").prop("disabled", true);
                    }
                }
                else {
                    $("#QTYType").val("");
                    $("#ReceivedType").val("");
                    $("#ShortageType").val("");
                    $("#RejectedType").val("");
                    $("#AcceptedType").val("");
                    $("#QTYType").prop("disabled", true);
                    $("#ReceivedType").prop("disabled", true);
                    $("#ShortageType").prop("disabled", true);
                    $("#RejectedType").prop("disabled", true);
                    $("#AcceptedType").prop("disabled", true);
                    $("#QtyAsPerPCS").prop("disabled", true);
                    $("#ReceivedPCS").prop("disabled", true);
                    $("#ShortagePCS").prop("disabled", true);
                    $("#RejectedPCS").prop("disabled", true);
                    $("#AcceptedPCS").prop("disabled", true);
                    $("#ShortageSQFT").prop("disabled", true);
                }
                $('#sizeRangeTable tbody tr').each(function () {
                    $(this).find("td:not(:first)").remove();
                });
                var count = 1;
                var totalQty = 0;
                var isvalue = false;
                if (cities.ListOfSizeRange.length == 0) {
                    $("#isSizeRamge").val(isvalue);
                }
                else {
                    isvalue = 1;
                    $("#isSizeRamge").val(isvalue);
                    for (var i = 0; i <= cities.ListOfSizeRange.length - 1 ; i++) {
                        var size = cities.ListOfSizeRange[i].Size;
                        $('#sizeRangeTable tbody tr:first-child').append('<td class="SizeRangeRefValue" style="background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;"> ' + size + ' </td> ');
                        $('#sizeRangeTable tbody tr:nth-child(2)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Qty_Value' id='Qty_Value' value='" + cities.ListOfSizeRange[i].Qty_Value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        $('#sizeRangeTable tbody tr:nth-child(3)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Received_value' id='Received_value' value='" + cities.ListOfSizeRange[i].Received_value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        $('#sizeRangeTable tbody tr:nth-child(4)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Shortage_value' id='Shortage_value' value='" + cities.ListOfSizeRange[i].Shortage_value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        $('#sizeRangeTable tbody tr:nth-child(5)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Rejectd_value' id='Rejectd_value' value='" + cities.ListOfSizeRange[i].Rejectd_value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        $('#sizeRangeTable tbody tr:last').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Accepted_value' id='Accepted_value' value='" + cities.ListOfSizeRange[i].Accepted_value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        count++;
                        totalQty += parseInt(totalQty);
                    }
                }
                $("#TotalCount").val(totalQty);
            }
        });

    }
    function MainRowClick(arg) {
        $('#list-amended-material tr#' + arg + '').remove();
        $.ajax({
            url: '/GRN_Detail/GetGrnID',
            type: "GET",
            dataType: "JSON",
            data: { GrnID: arg },
            success: function (cities) {
                
                $('#BarCodeNo').val(cities.GrnDetailS.BarCodeNo);
                $('#GrnNo').val(cities.GrnDetailS.GrnNo);
                if (cities.grnType.IssueType.trim() == "Direct GRN") {
                    $("#PoNumber").hide();
                    $("#PoNO").hide();
                    $("#AutomaticPonumber").show();
                    $("#AutomaticPONumber").show();
                    $('#AutomaticPONumber').val(cities.GrnDetailS.AutomaticPONumber);
                    $('#AutomaticPONumber').prop("disabled", true);
                }
                else {
                    $("#PoNumber").show();
                    $("#AutomaticPonumber").hide();
                    $("#AutomaticPONumber").hide();
                    $('#PoNO').show();
                    $('#PoNO').val(cities.GrnDetailS.PoNO);
                    $("#PoNO").combobox('destroy');
                    $("#PoNO").combobox();
                    $('#PoNO').prop("disabled", true);
                }
                if (cities.GrnDetailS.Substance != null) {
                    $('#Substance').val(cities.GrnDetailS.Substance);
                    $('#Substance').prop("disabled", true);
                }
                else {
                    $('#Substance').val(0);
                    $("#Substance").prop("disabled", true);
                }
                if ((cities.Material != null && (cities.Material.GradeMasterId != null || cities.Material.GradeMasterId != 0))) {
                    $('#Grade').val(cities.Material.GradeMasterId);
                    $('#Grade').prop("disabled", true);
                }
                else {
                    $('#Grade').val(0);
                    $("#Grade").prop("disabled", true);
                }
                $('#GrnID').val(cities.GrnDetailS.GrnID);
                $('#PoQty').val(cities.GrnDetailS.PoQty);
                $('#PoQty').prop("disabled", true);
                $('#TotalCount').val(cities.GrnDetailS.TotalCount);
                $('#MaterialType').val(cities.GrnDetailS.MaterialType);
                $('#GrnDate').val(cities.GrnDetailS.GrnDate);
                $('#GrnRefNo').val(cities.GrnDetailS.GrnRefNo);
                $('#SupplierNameId').val(cities.GrnDetailS.SupplierNameId);
                $('#DC_No').val(cities.GrnDetailS.DC_No);
                $('#DCDate').val(cities.GrnDetailS.DCDate);
                $('#INVoiceNo').val(cities.GrnDetailS.INVoiceNo);
                $('#INVoiceDate').val(cities.GrnDetailS.INVoiceDate);
                $('#GateEntryNo').val(cities.GrnDetailS.GateEntryNo);
                $('#GEDate').val(cities.GrnDetailS.GEDate);
                $('#GETime').val(cities.GrnDetailS.GETime);
                $('#GateRefNo').val(cities.GrnDetailS.GateRefNo);
                $('#GrnType').val(cities.GrnDetailS.GrnType);
                $('#ST_VATcredit').val(cities.GrnDetailS.ST_VATcredit);
                $('#ImportClearance').val(cities.GrnDetailS.ImportClearance);
                $('#BENo').val(cities.GrnDetailS.BENo);
                $('#ExchangeRate').val(cities.GrnDetailS.ExchangeRate);
                $('#ShipmentMode').val(cities.GrnDetailS.ShipmentMode);
                $('#FreightAmount').val(cities.GrnDetailS.FreightAmount);
                $('#InsuranceAmount').val(cities.GrnDetailS.InsuranceAmount);
                $('#CustomsDuty').val(cities.GrnDetailS.CustomsDuty);
                $('#Pack_Forward').val(cities.GrnDetailS.Pack_Forward);
                $('#ServiceTax').val(cities.GrnDetailS.ServiceTax);
                $('#ServiceTaxPer').val(cities.GrnDetailS.ServiceTaxPer);
                $('#OtherCharges').val(cities.GrnDetailS.OtherCharges);
                $('#Transporter').val(cities.GrnDetailS.Transporter);
                $('#GeneralRemarks1').val(cities.GrnDetailS.GeneralRemarks1);

                $('#LOTNo').val(cities.GrnDetailS.LOTNo);
                $('#IndentNo').val(cities.GrnDetailS.IndentNo);
                $('#IONo').val(cities.GrnDetailS.IONo);
                $('#Stores').val(cities.GrnDetailS.Stores);

                if (cities.distinctList_ != null && cities.distinctList_.length > 0) {
                    $("#MaterialId").html("");
                    $("#MaterialId").append("<option value='0'>--Select--</option>");
                    $.each(cities.distinctList_, function (i, city) {
                        $("#MaterialId").append('<option value=' + city.IndentMaterialID + '>' + city.MaterialDescription + '</option>');
                    });
                }
                if (cities.purchaseOrder != null && cities.purchaseOrder.PoOrderId != 0) {

                    $('#MaterialId').val(cities.purchaseOrder.PoOrderId);
                }
                else {
                    $('#MaterialId').val(cities.GrnDetailS.Grn_MaterialID);
                }
       
                $("#MaterialId").combobox('destroy');
                $("#MaterialId").combobox();
                $('#GroupID').val(cities.GrnDetailS.GroupID);
                $('#CategoryId').val(cities.GrnDetailS.CategoryId);
                $('#IfGroupIsMaintenance').val(cities.GrnDetailS.IfGroupIsMaintenance);
                $('#ColourId').val(cities.GrnDetailS.ColourId);
                $('#UOMId').val(cities.GrnDetailS.UOMId);
                $('#DOM').val(cities.GrnDetailS.DOM);
                $('#StoreLocation').val(cities.GrnDetailS.StoreLocation);
                $('#GeneralRemarks').val(cities.GrnDetailS.GeneralRemarks);
                $('#ExcessApproval').val(cities.GrnDetailS.ExcessApproval);
                $('#ExcessApproval').prop("disabled", true);
                $('#IndentMaterialId_').val(cities.GrnDetailS.IndentMaterialId);
                $('#Weight').val(cities.GrnDetailS.Weight);
                $('#ShortageQty').val(cities.GrnDetailS.ShortageQty);
                $('#QtyAsPerDc').val(cities.GrnDetailS.QtyAsPerDc);
                $('#QtyAsPerSQFT').val(cities.GrnDetailS.QtyAsPerSQFT);
                $("#ShortageSQFT").val(cities.GrnDetailS.ShortageSQFT);
                $('#QtyAsPerPCS').val(cities.GrnDetailS.QtyAsPerPCS);
                $('#QTYType').val(cities.GrnDetailS.QTYType);
                $('#ReceivedQty').val(cities.GrnDetailS.ReceivedQty);
                $('#ReceivedSQFT').val(cities.GrnDetailS.ReceivedSQFT);
                $('#ReceivedPCS').val(cities.GrnDetailS.ReceivedPCS);
                $('#ReceivedType').val(cities.GrnDetailS.ReceivedType);
                $('#RejectedQty').val(cities.GrnDetailS.RejectedQty);
                $('#RejectedSQFT').val(cities.GrnDetailS.RejectedSQFT);
                $('#RejectedPCS').val(cities.GrnDetailS.RejectedPCS);
                $('#RejectedType').val(cities.GrnDetailS.RejectedType);
                $('#AcceptedQty').val(cities.GrnDetailS.AcceptedQty);
                $('#AcceptedSQFT').val(cities.GrnDetailS.AcceptedSQFT);
                $('#AcceptedPCS').val(cities.GrnDetailS.AcceptedPCS);
                $('#AcceptedType').val(cities.GrnDetailS.AcceptedType);
                $('#QtyExcess').val(cities.GrnDetailS.QtyExcess);
                $('#PendingQty').val(cities.GrnDetailS.PendingQty);

                $('#GeneralRemarks').val(cities.GrnDetailS.GeneralRemarks);
                $('#Rate').val(cities.GrnDetailS.Rate);
                $('#Rate').prop("disabled", true);
                $('#Value').val(cities.GrnDetailS.Value);
                $('#MRPMargin').val(cities.GrnDetailS.MRPMargin);
                $('#MRPPrice').val(cities.GrnDetailS.MRPPrice);
                $('#AccessibleValue').val(cities.GrnDetailS.AccessibleValue);
                $('#Discount_Per').val(cities.GrnDetailS.Discount_Per);
                $('#Discount_Val').val(cities.GrnDetailS.Discount_Val);
                $('#ExciseDuty_Per').val(cities.GrnDetailS.ExciseDuty_Per);
                $('#ExciseDuty_Val').val(cities.GrnDetailS.ExciseDuty_Val);
                $('#ST_VAT_CST_Per').val(cities.GrnDetailS.ST_VAT_CST_Per);
                $('#ST_VAT_CST_Val').val(cities.GrnDetailS.ST_VAT_CST_Val);
                $('#Ecess_Per').val(cities.GrnDetailS.Ecess_Per);
                $('#Ecess_Val').val(cities.GrnDetailS.Ecess_Val);
                $('#SH_Ecess_Per').val(cities.GrnDetailS.SH_Ecess_Per);
                $('#SH_Ecess_Val').val(cities.GrnDetailS.SH_Ecess_Val);
                $('#Surcharge_Per').val(cities.GrnDetailS.Surcharge_Per);
                $('#Surcharge_Val').val(cities.GrnDetailS.Surcharge_Val);
                $('#TagsPiecesDiscount_Per').val(cities.GrnDetailS.TagsPiecesDiscount_Per);
                $('#TagsPiecesDiscount_Val').val(cities.GrnDetailS.TagsPiecesDiscount_Val);
                $('#AmountplusTax').val(cities.GrnDetailS.AmountplusTax);
                $("#TotalAmountVlaue").text(parseFloat($("#AmountplusTax").val()) - parseFloat(cities.GrnDetailS.AmountplusTax));
                //disabled and enabled
                if (cities.store != null) {
                    if (cities.store.StoreName == "Leather Store" || cities.store.StoreName == "Leather Store-Local" || cities.store.StoreName == "Leather Stores-Import") {
                        $("#QTYType").prop("disabled", false);
                        $("#ReceivedType").prop("disabled", false);
                        $("#ShortageType").prop("disabled", false);
                        $("#RejectedType").prop("disabled", false);
                        $("#AcceptedType").prop("disabled", false);
                        $("#QtyAsPerPCS").prop("disabled", false);
                        $("#ReceivedPCS").prop("disabled", false);
                        $("#ShortagePCS").prop("disabled", false);
                        $("#RejectedPCS").prop("disabled", false);
                        $("#AcceptedPCS").prop("disabled", false);
                    }
                    else {
                        $("#QTYType").val("");
                        $("#ReceivedType").val("");
                        $("#ShortageType").val("");
                        $("#RejectedType").val("");
                        $("#AcceptedType").val("");
                        $("#QTYType").prop("disabled", true);
                        $("#ReceivedType").prop("disabled", true);
                        $("#ShortageType").prop("disabled", true);
                        $("#RejectedType").prop("disabled", true);
                        $("#AcceptedType").prop("disabled", true);
                        $("#QtyAsPerPCS").prop("disabled", true);
                        $("#ReceivedPCS").prop("disabled", true);
                        $("#ShortagePCS").prop("disabled", true);
                        $("#RejectedPCS").prop("disabled", true);
                        $("#AcceptedPCS").prop("disabled", true);
                    }
                }
                else {
                    $("#QTYType").val("");
                    $("#ReceivedType").val("");
                    $("#ShortageType").val("");
                    $("#RejectedType").val("");
                    $("#AcceptedType").val("");
                    $("#QTYType").prop("disabled", true);
                    $("#ReceivedType").prop("disabled", true);
                    $("#ShortageType").prop("disabled", true);
                    $("#RejectedType").prop("disabled", true);
                    $("#AcceptedType").prop("disabled", true);
                    $("#QtyAsPerPCS").prop("disabled", true);
                    $("#ReceivedPCS").prop("disabled", true);
                    $("#ShortagePCS").prop("disabled", true);
                    $("#RejectedPCS").prop("disabled", true);
                    $("#AcceptedPCS").prop("disabled", true);
                    $("#ShortageSQFT").prop("disabled", true);
                }
                $('#sizeRangeTable tbody tr').each(function () {
                    $(this).find("td:not(:first)").remove();
                });
                var count = 1;
                var totalQty = 0;
                var isvalue = false;
                if (cities.ListOfSizeRange.length == 0) {
                    $("#isSizeRamge").val(isvalue);
                }
                else {

                    isvalue = 1;
                    $("#isSizeRamge").val(isvalue);
                    for (var i = 0; i <= cities.ListOfSizeRange.length - 1 ; i++) {
                        var size = cities.ListOfSizeRange[i].Size;
                        $('#sizeRangeTable tbody tr:first-child').append('<td class="SizeRangeRefValue" style="background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;"> ' + size + ' </td> ');
                        $('#sizeRangeTable tbody tr:nth-child(2)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Qty_Value' id='Qty_Value' value='" + cities.ListOfSizeRange[i].Qty_Value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        $('#sizeRangeTable tbody tr:nth-child(3)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Received_value' id='Received_value' value='" + cities.ListOfSizeRange[i].Received_value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        $('#sizeRangeTable tbody tr:nth-child(4)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Shortage_value' id='Shortage_value' value='" + cities.ListOfSizeRange[i].Shortage_value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        $('#sizeRangeTable tbody tr:nth-child(5)').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Rejectd_value' id='Rejectd_value' value='" + cities.ListOfSizeRange[i].Rejectd_value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        $('#sizeRangeTable tbody tr:last').append("<td class='' style='background-color: #ddd;padding-bottom: 3px;padding-left: 0;padding-top: 1px;width: 39px !important;'><input type='text' class='Accepted_value' id='Accepted_value' value='" + cities.ListOfSizeRange[i].Accepted_value + "' style='padding-bottom: 0;padding-top: 0;width: 34px;' /></td>");
                        count++;
                        totalQty += parseFloat(cities.ListOfSizeRange[i].Accepted_value);
                    }
                }

                $("#TotalCount").text(totalQty);
            }
        });

    }

    $(function () {
        $('.loader-overlay').ajaxStart(function () {
            $(this).fadeIn('slow');
        }).ajaxStop(function () {
            $(this).stop().fadeOut('fast');
        });
    });
    var CurrentRowID = "";
    //Click Autodiplay button
    $("#AutoDisplay").unbind().click(function () {
        validation();
        if (validation() != false) {
            var grnid = "";
            var sizeRangeArr = [];
            $('#sizeRangeTable tbody tr').each(function () {
                sizeRangeArr.push(
                        {
                            Size: $(this).find('td:first').html(),
                            quantity: $(this).find('input[type=text]').val(),
                            Rate: $(this).find(':last-child').text()
                        });
            });

            var SizeRangeRefValue = "";
            $('#sizeRangeTable tbody tr').find('.SizeRangeRefValue').each(function () {
                SizeRangeRefValue += $(this).text().trim() + ",";
            });
            SizeRangeRefValue = SizeRangeRefValue.slice(0, -1);
            var Qty_Value = "";
            $('#sizeRangeTable tbody tr').find('.Qty_Value').each(function () {

                Qty_Value += $(this).val() + ",";
            });
            Qty_Value = Qty_Value.slice(0, -1);
            var Received_value = "";
            $('#sizeRangeTable tbody tr').find('.Received_value').each(function () {
                Received_value += $(this).val() + ",";
            });
            Received_value = Received_value.slice(0, -1);
            var Shortage_value = "";
            $('#sizeRangeTable tbody tr').find('.Shortage_value').each(function () {
                Shortage_value += $(this).val() + ",";
            });
            Shortage_value = Shortage_value.slice(0, -1);
            var Rejectd_value = "";
            $('#sizeRangeTable tbody tr').find('.Rejectd_value').each(function () {
                if ($(this).val() == "") {
                    Rejectd_value += 0 + ",";
                }
                else {
                    Rejectd_value += $(this).val() + ",";
                }
            });
            Rejectd_value = Rejectd_value.slice(0, -1);
            var Accepted_value = "";
            $('#sizeRangeTable tbody tr').find('.Accepted_value').each(function () {
                Accepted_value += $(this).val() + ",";
            });
            Accepted_value = Accepted_value.slice(0, -1);
            CurrentRowID = $('#list-amended-material tr').length;
            $('#SizeRangeDetails').val(JSON.stringify(sizeRangeArr));
            if (CurrentRowID != "") {
                $.ajax({
                    type: 'POST',
                    dataType: 'json',
                    url: '/GRN_Detail/SaveDetails',
                    data: {
                        BarCodeNo: $('#BarCodeNo').val(),
                        GrnID: $('#GrnID').val(),
                        GrnNo: $('#GrnNo').val(),
                        GrnDate: $('#GrnDate').val(),
                        GrnRefNo: $('#GrnRefNo').val(),
                        SupplierNameId: $('#SupplierNameId').val(),
                        DC_No: $('#DC_No').val(),
                        DCDate: $('#DCDate').val(),
                        INVoiceNo: $('#INVoiceNo').val(),
                        INVoiceDate: $('#INVoiceDate').val(),
                        GateEntryNo: $('#GateEntryNo').val(),
                        GEDate: $('#GEDate').val(),
                        GETime: $('#GETime').val(),
                        GateRefNo: $('#GateRefNo').val(),
                        GrnType: $('#GrnType').val(),
                        ST_VATcredit: $('#ST_VATcredit').val(),
                        ImportClearance: $('#ImportClearance').val(),
                        BENo: $('#BENo').val(),
                        ExchangeRate: $('#ExchangeRate').val(),
                        ShipmentMode: $('#ShipmentMode').val(),
                        FreightAmount: $('#FreightAmount').val(),
                        InsuranceAmount: $('#InsuranceAmount').val(),
                        CustomsDuty: $('#CustomsDuty').val(),
                        Pack_Forward: $('#Pack_Forward').val(),
                        ServiceTax: $('#ServiceTax').val(),
                        OtherCharges: $('#OtherCharges').val(),
                        Transporter: $('#Transporter').val(),
                        GeneralRemarks1: $('#GeneralRemarks1').val(),
                        PoNO: $('#PoNO').val(),
                        LOTNo: $('#LOTNo').val(),
                        IndentNo: $('#IndentNo').val(),
                        IONo: $('#IONo').val(),
                        Stores: $('#Stores').val(),
                        MaterialId: $('#MaterialId').val(),
                        Grade: $('#Grade').val(),
                        GroupID: $('#GroupID').val(),
                        CategoryId: $('#CategoryId').val(),
                        IfGroupIsMaintenance: $('#IfGroupIsMaintenance').val(),
                        ColourId: $('#ColourId').val(),
                        UOMId: $('#UOMId').val(),
                        DOM: $('#DOM').val(),
                        StoreLocation: $('#StoreLocation').val(),
                        GeneralRemarks: $('#GeneralRemarks').val(),
                        Substance: $('#Substance').val(),
                        Weight: $('#Weight').val(),
                        QtyAsPerDc: $('#QtyAsPerDc').val(),
                        QtyAsPerSQFT: $('#QtyAsPerSQFT').val(),
                        QtyAsPerPCS: $('#QtyAsPerPCS').val(),
                        QTYType: $('#QTYType').val(),
                        ReceivedQty: $('#ReceivedQty').val(),
                        ReceivedSQFT: $('#ReceivedSQFT').val(),
                        ReceivedPCS: $('#ReceivedPCS').val(),
                        ReceivedType: $('#ReceivedType').val(),
                        RejectedQty: $('#RejectedQty').val(),
                        RejectedSQFT: $('#RejectedSQFT').val(),
                        RejectedPCS: $('#RejectedPCS').val(),
                        RejectedType: $('#RejectedType').val(),
                        AcceptedQty: $('#AcceptedQty').val(),
                        AcceptedSQFT: $('#AcceptedSQFT').val(),
                        AcceptedPCS: $('#AcceptedPCS').val(),
                        AcceptedType: $('#AcceptedType').val(),
                        QtyExcess: $('#QtyExcess').val(),
                        PendingQty: $('#PendingQty').val(),
                        ExcessApproval: $('#ExcessApproval').val(),
                        GeneralRemarks: $('#GeneralRemarks').val(),
                        Rate: $('#Rate').val(),
                        Value: $('#Value').val(),
                        MRPMargin: $('#MRPMargin').val(),
                        MRPPrice: $('#MRPPrice').val(),
                        AccessibleValue: $('#AccessibleValue').val(),
                        Discount_Per: $('#Discount_Per').val(),
                        AmountplusTax: $('#AmountplusTax').val(),
                        Discount_Val: $('#Discount_Val').val(),
                        ExciseDuty_Per: $('#ExciseDuty_Per').val(),
                        ExciseDuty_Val: $('#ExciseDuty_Val').val(),
                        ST_VAT_CST_Per: $('#ST_VAT_CST_Per').val(),
                        ST_VAT_CST_Val: $('#ST_VAT_CST_Val').val(),
                        Ecess_Per: $('#Ecess_Per').val(),
                        Ecess_Val: $('#Ecess_Val').val(),
                        SH_Ecess_Per: $('#SH_Ecess_Per').val(),
                        SH_Ecess_Val: $('#SH_Ecess_Val').val(),
                        Surcharge_Per: $('#Surcharge_Per').val(),
                        BuyerSeasonID: $("#BuyerSeasonID").val(),
                        BuyerMasterId: $("#BuyerMasterId").val(),
                        Surcharge_Val: $('#Surcharge_Val').val(),
                        ST_VAT_CST_Val: $('#ST_VAT_CST_Val').val(),
                        TagsPiecesDiscount_Per: $('#TagsPiecesDiscount_Per').val(),
                        TagsPiecesDiscount_Val: $('#TagsPiecesDiscount_Val').val(),
                        ShortageQty: $("#ShortageQty").val(),
                        ShortageSQFT: $("#ShortageSQFT").val(),
                        ShortagePCS: $("#ShortagePCS").val(),
                        ShortageType: $("#ShortageType").val(),
                        BuyerSeasonID_: $("#BuyerSeasonID").val(),
                        BuyerMasterId_: $("#BuyerMasterId").val(),
                        IndentMaterialId_: $("#IndentMaterialId_").val(),
                        AutomaticPONumber: $("#AutomaticPONumber").val(),
                        PoQty: $("#PoQty").val(),
                        SizeRangeDetails: $('#SizeRangeDetails').val(),
                        ServiceTaxPer: $("#ServiceTaxPer").val(),
                        MaterialType: $("#MaterialType").val(),
                        SizeRangeRefValue: SizeRangeRefValue,
                        Qty_Value: Qty_Value,
                        Received_value: Received_value,
                        Shortage_value: Shortage_value,
                        Rejectd_value: Rejectd_value,
                        Accepted_value: Accepted_value,
                    },
                    success: function (data) {
                        alert(data.Message);
                        if (data.Message != 'Already Existed') {
                            window.location.href = "GoodReceipeDetails?GrnID_=" + data.result.Model.GrnNo;
                            return false;
                        }
                        return false;
                    }
                });
            }
            else {
                $('#BarCodeNo' + CurrentRowID + '').html($('#BarCodeNo').val());
                $('#GrnID' + CurrentRowID + '').html($('#GrnID').val());
                $('#BuyerSeasonID' + CurrentRowID + '').html($('#BuyerSeasonID').val());
                $('#BuyerMasterId' + CurrentRowID + '').html($('#BuyerMasterId').val());
                $('#GrnNo' + CurrentRowID + '').html($('#GrnNo').val());
                $('#GrnDate' + CurrentRowID + '').html($('#GrnDate').val());
                $('#GrnRefNo' + CurrentRowID + '').html($('#GrnRefNo').val());
                $('#SupplierNameId' + CurrentRowID + '').html($('#SupplierNameId').val());
                $('#DC_No' + CurrentRowID + '').html($('#DC_No').val());
                $('#DCDate' + CurrentRowID + '').html($('#DCDate').val());
                $('#INVoiceNo' + CurrentRowID + '').html($('#INVoiceNo').val());
                $('#INVoiceDate' + CurrentRowID + '').html($('#INVoiceDate').val());
                $('#GateEntryNo' + CurrentRowID + '').html($('#GateEntryNo').val());
                $('#GEDate' + CurrentRowID + '').html($('#GEDate').val());
                $('#GETime' + CurrentRowID + '').html($('#GETime').val());
                $('#GateRefNo' + CurrentRowID + '').html($('#GateRefNo').val());
                $('#GrnType' + CurrentRowID + '').html($('#GrnType').val());
                $('#ST_VATcredit' + CurrentRowID + '').html($('#ST_VATcredit').val());
                $('#ImportClearance' + CurrentRowID + '').html($('#ImportClearance').val());
                $('#BENo' + CurrentRowID + '').html($('#BENo').val());
                $('#ExchangeRate' + CurrentRowID + '').html($('#ExchangeRate').val());
                $('#ShipmentMode' + CurrentRowID + '').html($('#ShipmentMode').val());
                $('#FreightAmount' + CurrentRowID + '').html($('#FreightAmount').val());
                $('#InsuranceAmount' + CurrentRowID + '').html($('#InsuranceAmount').val());
                $('#CustomsDuty' + CurrentRowID + '').html($('#CustomsDuty').val());
                $('#Pack_Forward' + CurrentRowID + '').html($('#Pack_Forward').val());
                $('#ServiceTax' + CurrentRowID + '').html($('#ServiceTax').val());
                $('#OtherCharges' + CurrentRowID + '').html($('#OtherCharges').val());
                $('#Transporter' + CurrentRowID + '').html($('#Transporter').val());
                $('#GeneralRemarks1' + CurrentRowID + '').html($('#GeneralRemarks1').val());
                $('#PoNO' + CurrentRowID + '').html($('#PoNO').val());
                $('#LOTNo' + CurrentRowID + '').html($('#LOTNo').val());
                $('#IndentNo' + CurrentRowID + '').html($('#IndentNo').val());
                $('#IONo' + CurrentRowID + '').html($('#IONo').val());
                $('#Stores' + CurrentRowID + '').html($('#Stores').val());
                $('#MaterialId' + CurrentRowID + '').html($('#MaterialId').val());
                $('#Grade' + CurrentRowID + '').html($('#Grade').val());
                $('#GroupID' + CurrentRowID + '').html($('#GroupID').val());
                $('#CategoryId' + CurrentRowID + '').html($('#CategoryId').val());
                $('#IfGroupIsMaintenance' + CurrentRowID + '').html($('#IfGroupIsMaintenance').val());
                $('#ColourId' + CurrentRowID + '').html($('#ColourId').val());
                $('#UOMId' + CurrentRowID + '').html($('#UOMId').val());
                $('#DOM' + CurrentRowID + '').html($('#DOM').val());
                $('#StoreLocation' + CurrentRowID + '').html($('#StoreLocation').val());
                $('#GeneralRemarks' + CurrentRowID + '').html($('#GeneralRemarks').val());
                $('#Substance' + CurrentRowID + '').html($('#Substance').val());
                $('#Weight' + CurrentRowID + '').html($('#Weight').val());
                $('#QtyAsPerDc' + CurrentRowID + '').html($('#QtyAsPerDc').val());
                $('#QtyAsPerSQFT' + CurrentRowID + '').html($('#QtyAsPerSQFT').val());
                $('#QtyAsPerPCS' + CurrentRowID + '').html($('#QtyAsPerPCS').val());
                $('#QTYType' + CurrentRowID + '').html($('#QTYType').val());
                $('#ReceivedQty' + CurrentRowID + '').html($('#ReceivedQty').val());
                $('#ReceivedSQFT' + CurrentRowID + '').html($('#ReceivedSQFT').val());
                $('#ReceivedPCS' + CurrentRowID + '').html($('#ReceivedPCS').val());
                $('#ReceivedType' + CurrentRowID + '').html($('#ReceivedType').val());
                $('#RejectedQty' + CurrentRowID + '').html($('#RejectedQty').val());
                $('#RejectedSQFT' + CurrentRowID + '').html($('#RejectedSQFT').val());
                $('#RejectedPCS' + CurrentRowID + '').html($('#RejectedPCS').val());
                $('#RejectedType' + CurrentRowID + '').html($('#RejectedType').val());
                $('#AcceptedQty' + CurrentRowID + '').html($('#AcceptedQty').val());
                $('#AcceptedSQFT' + CurrentRowID + '').html($('#AcceptedSQFT').val());
                $('#AcceptedPCS' + CurrentRowID + '').html($('#AcceptedPCS').val());
                $('#AcceptedType' + CurrentRowID + '').html($('#AcceptedType').val());
                $('#QtyExcess' + CurrentRowID + '').html($('#QtyExcess').val());
                $('#PendingQty' + CurrentRowID + '').html($('#PendingQty').val());
                $('#ExcessApproval' + CurrentRowID + '').html($('#ExcessApproval').val());
                $('#GeneralRemarks' + CurrentRowID + '').html($('#GeneralRemarks').val());
                $('#PoQty' + CurrentRowID + '').html($('#PoQty').val());
                $('#Rate' + CurrentRowID + '').html($('#Rate').val());
                $('#Value' + CurrentRowID + '').html($('#Value').val());
                $('#MRPMargin' + CurrentRowID + '').html($('#MRPMargin').val());
                $('#MRPPrice' + CurrentRowID + '').html($('#MRPPrice').val());
                $('#AccessibleValue' + CurrentRowID + '').html($('#AccessibleValue').val());
                $('#Discount_Per' + CurrentRowID + '').html($('#Discount_Per').val());
                $('#Discount_Val' + CurrentRowID + '').html($('#Discount_Val').val());
                $('#ExciseDuty_Per' + CurrentRowID + '').html($('#ExciseDuty_Per').val());
                $('#ExciseDuty_Val' + CurrentRowID + '').html($('#ExciseDuty_Val').val());
                $('#ST_VAT_CST_Per' + CurrentRowID + '').html($('#ST_VAT_CST_Per').val());
                $('#ST_VAT_CST_Val' + CurrentRowID + '').html($('#ST_VAT_CST_Val').val());
                $('#Ecess_Per' + CurrentRowID + '').html($('#Ecess_Per').val());
                $('#Ecess_Val' + CurrentRowID + '').html($('#Ecess_Val').val());
                $('#SH_Ecess_Per' + CurrentRowID + '').html($('#SH_Ecess_Per').val());
                $('#SH_Ecess_Val' + CurrentRowID + '').html($('#SH_Ecess_Val').val());
                $('#Surcharge_Per' + CurrentRowID + '').html($('#Surcharge_Per').val());
                $('#Surcharge_Val' + CurrentRowID + '').html($('#Surcharge_Val').val());
                $('#ST_VAT_CST_Val' + CurrentRowID + '').html($('#ST_VAT_CST_Val').val());
                $('#TagsPiecesDiscount_Per' + CurrentRowID + '').html($('#TagsPiecesDiscount_Per').val());
                $('#TagsPiecesDiscount_Val' + CurrentRowID + '').html($('#TagsPiecesDiscount_Val').val());
                $('#ShortageQty' + CurrentRowID + '').html($('#ShortageQty').val());
                $('#ShortageSQFT' + CurrentRowID + '').html($('#ShortageSQFT').val());
                $('#ShortagePCS' + CurrentRowID + '').html($('#ShortagePCS').val());
                $('#ShortageType' + CurrentRowID + '').html($('#ST_VAT_CST_Val').val());
                $('#AutomaticPONumber' + CurrentRowID + '').html($('#AutomaticPONumber').val());
                $('#SizeRangeDetails' + CurrentRowID + '').html($('#SizeRangeDetails').val());
                $('#TotalCount' + CurrentRowID + '').html($('#TotalCount').val());
                $("input[type='text'],textarea").val("");
                $("select option:first-child").prop("selected", "selected");

                HideShowEditDelete();
            }
        }
    });
    //Save Process
    function HideShowEditDelete() {

        if ('@Update' == 'False' || '@Edit' == 'False') {
            $('#list-amended-material tbody tr').each(function () {
                $(this).find(".Edit").addClass('not-allowed').removeAttr('onclick');
            });
        }
        else {
            $('#list-amended-material  tbody tr').each(function () {
            });
        }
        if ('@Delete' == 'False') {
            $('#list-amended-material  tbody tr').each(function () {
                $(this).find(".Delete").addClass('not-allowed').removeAttr('onclick');
            });
        }
        else {
            $('#list-amended-material  tbody tr').each(function () {
            });
        }
    }

    function validation() {
        if ($("#isSizeRamge").val() == 1) {
            var Qty_Value_ = 0;
            $('#sizeRangeTable tbody tr').find('.Qty_Value').each(function () {
                Qty_Value_ += parseFloat($(this).val());
            });
            var Received_value_ = 0;
            $('#sizeRangeTable tbody tr').find('.Received_value').each(function () {
                Received_value_ += parseFloat($(this).val());
            });
            var Shortage_value_ = 0;
            $('#sizeRangeTable tbody tr').find('.Shortage_value').each(function () {
                Shortage_value_ += parseFloat($(this).val());
            });
            var Rejectd_value_ = 0;
            $('#sizeRangeTable tbody tr').find('.Rejectd_value').each(function () {
                if ($(this).val() != "") {
                    Rejectd_value_ += parseFloat($(this).val());
                }
            });
            var add = 0;
            $('#sizeRangeTable tbody tr').find('.Accepted_value').each(function () {
                add += Number($(this).val());
            });
            $("#TotalCount").text(add);
            $("#TotalCount").prop("disabled", true);
            var Accepted_value_ = 0;
            $('#sizeRangeTable tbody tr').find('.Accepted_value').each(function () {
                if ($(this).val() != "") {
                    Accepted_value_ += parseFloat($(this).val());
                }
            });
            var AcceptedQty_ = $("#AcceptedQty").val();
            if ($("#isSizeRamge").val() == 1) {
                if (Number(AcceptedQty_) != Accepted_value_) {
                    alert("Accepted qty and SizeRanges Qty are differed");
                    $('#AcceptedQty').css('border-color', 'red');
                    $('#AcceptedQty').focus();
                    return false;
                }
            }
            var qty = $("#QtyAsPerDc").val();
            var receivedQty = $("#ReceivedQty").val();
            var shortageQty = $("#ShortageQty").val();
            var rejectedQty = $("#RejectedQty").val();
            var acceptedQty = $("#AcceptedQty").val();
            if (parseFloat(qty) > Qty_Value_) {
                alert("Qty As Per Dc and size range qty is differed.Please checck");
                $('#QtyAsPerDc').css('border-color', 'red');
                $('#QtyAsPerDc').focus();
                return false;
            }
            else {
                $('#QtyAsPerDc').css('border-color', '');
            }
            if (parseFloat(receivedQty) > Received_value_) {
                alert("ReceivedQty and size range receivedQty is differed.Please checck");
                $('#ReceivedQty').css('border-color', 'red');
                $('#ReceivedQty').focus();
                return false;
            }
            else {
                $('#ReceivedQty').css('border-color', '');
            }
            if (parseFloat(shortageQty) > Shortage_value_) {
                alert("ShortageQty and size range shortage Qty is differed.Please checck");
                $('#ShortageQty').css('border-color', 'red');
                $('#ShortageQty').focus();
                return false;
            }
            else {
                $('#ShortageQty').css('border-color', '');
            }
            if (parseFloat(rejectedQty) > Rejectd_value_) {
                alert("RejectedQty and size range rejected Qty is differed.Please checck");
                $('#RejectedQty').css('border-color', 'red');
                $('#RejectedQty').focus();
                return false;
            }
            else {
                $('#RejectedQty').css('border-color', '');
            }
            if (parseFloat(acceptedQty) > Accepted_value_) {
                alert("AcceptedQty and size range accepted Qty is differed.Please checck");
                $('#AcceptedQty').css('border-color', 'red');
                $('#AcceptedQty').focus();
                return false;
            }
            else {
                $('#AcceptedQty').css('border-color', '');
            }
        }
        if ($('#GrnNo').val() == "") {
            alert("Please Enter Grn No."); $('#GrnNo').css('border-color', 'red'); $('#GrnNo').focus(); return false;
        }
        else {
            $('#GrnNo').css('border-color', '');
        }
        if ($('#GrnDate').val() == "") {
            alert("Please Enter Grn Date."); $('#GrnDate').css('border-color', 'red'); $('#GrnDate').focus(); return false;
        }
        else {
            $('#GrnDate').css('border-color', '');
        }

        if ($('#GrnRefNo').val() == "") {
            alert("Please Enter Grn Ref No."); $('#GrnRefNo').css('border-color', 'red'); $('#GrnRefNo').focus(); return false;
        }
        else {
            $('#GrnRefNo').css('border-color', '');
        }

        if ($('#SupplierNameId').val() == "" || $('#SupplierNameId').val() == "0" || $('#SupplierNameId ').val() == 0) {
            alert("Please Select Supplier Name.");
            $('#SupplierNameId').css('border-color', 'red');
            $('#SupplierNameId').focus(); return false;
        }
        else {
            $('#SupplierNameId').css('border-color', '');
        }

        if ($('#DC_No').val() == "") {
            alert("Please Enter DC No."); $('#DC_No').css('border-color', 'red'); $('#DC_No').focus(); return false;
        }
        else {
            $('#DC_No').css('border-color', '');
        }

        if ($('#DCDate').val() == "") {
            alert("Please Enter DC Date."); $('#DC_No').css('border-color', 'red'); $('#DCDate').focus(); return false;
        }
        else {
            $('#DCDate').css('border-color', '');
        }

        if ($('#GateEntryNo').val() == "") {
            alert("Please Enter Gate Entry No."); $('#GateEntryNo').css('border-color', 'red'); $('#GateEntryNo').focus(); return false;
        }
        else {
            $('#GateEntryNo').css('border-color', '');
        }
        if ($('#GEDate').val() == "") {
            alert("Please Enter GE Date."); $('#GEDate').css('border-color', 'red'); $('#GEDate').focus(); return false;
        }
        else {
            $('#GEDate').css('border-color', '');
        }

        if ($('#GateRefNo').val() == "") {
            alert("Please Enter Gate Ref No."); $('#GateRefNo').css('border-color', 'red'); $('#GateRefNo').focus(); return false;
        }
        else {
            $('#GateRefNo').css('border-color', '');
        }
        if ($('#GrnType').val() == "") {
            alert("Please Enter Grn Type."); $('#GrnType').css('border-color', 'red'); $('#GrnType').focus(); return false;
        }
        else {
            $('#GrnType').css('border-color', '');
        }
        if ($('#ST_VATcredit').val() == "") {
            alert("Please Enter ST-VATcredit."); $('#ST_VATcredit').css('border-color', 'red'); $('#ST_VATcredit').focus(); return false;
        }
        else {
            $('#ST_VATcredit').css('border-color', '');
        }

        if ($('#ImportClearance').val() == "") {
            alert("Please Enter Import Clearance."); $('#ImportClearance').css('border-color', 'red'); $('#ImportClearance').focus(); return false;
        }
        else {
            $('#ImportClearance').css('border-color', '');
        }

        if ($('#BENo').val() == "") {
            alert("Please Enter BE No."); $('#BENo').css('border-color', 'red'); $('#BENo').focus(); return false;
        }
        else {
            $('#BENo').css('border-color', '');
        }

        if ($('#ExchangeRate').val() == "") {
            alert("Please Enter ExchangeRate."); $('#ExchangeRate').css('border-color', 'red'); $('#ExchangeRate').focus(); return false;
        }
        else {
            $('#ExchangeRate').css('border-color', '');
        }
        if ($('#ShipmentMode').val() == "") {
            alert("Please Enter Shipment Mode."); $('#ShipmentMode').css('border-color', 'red'); $('#ShipmentMode').focus(); return false;
        }
        else {
            $('#ShipmentMode').css('border-color', '');
        }
        if ($('#FreightAmount').val() == "") {
            alert("Please Enter Freight Amount."); $('#FreightAmount').css('border-color', 'red'); $('#FreightAmount').focus(); return false;
        }
        else {
            $('#FreightAmount').css('border-color', '');
        }


        if ($('#Pack_Forward').val() == "") {
            alert("Please Enter Pack & Forward."); $('#Pack_Forward').css('border-color', 'red'); $('#Pack_Forward').focus(); return false;
        }
        else {
            $('#Pack_Forward').css('border-color', '');
        }
        if ($('#ServiceTaxPer').val() == "") {
            alert("Please Enter Service Tax Per."); $('#ServiceTaxPer').css('border-color', 'red'); $('#ServiceTaxPer').focus(); return false;
        }
        else {
            $('#ServiceTaxPer').css('border-color', '');
        }
        if ($('#ServiceTax').val() == "") {
            alert("Please Enter Service Tax."); $('#ServiceTax').css('border-color', 'red'); $('#ServiceTax').focus(); return false;
        }
        else {
            $('#ServiceTax').css('border-color', '');
        }
        if ($('#Transporter').val() == "") {
            alert("Please Enter Transporter."); $('#Transporter').css('border-color', 'red'); $('#Transporter').focus(); return false;
        }
        else {
            $('#Transporter').css('border-color', '');
        }


        if ($('#GrnType option:selected').text() == "Direct GRN") {
            if ($('#AutomaticPONumber').val() == "") {
                alert("Please Enter PoNO."); $('#AutomaticPONumber').css('border-color', 'red'); $('#AutomaticPONumber').focus(); return false;
            }
            else {
                $('#AutomaticPONumber').css('border-color', '');
            }
        }
        if ($('#GrnType option:selected').text() == "General") {
            if ($('#PoNO').val() == "") {
                alert("Please Enter PoNO."); $('#PoNO').css('border-color', 'red'); $('#PoNO').focus(); return false;
            }
            else {
                $('#PoNO').css('border-color', '');
            }
        }
        if ($('#LOTNo').val() == "") {
            alert("Please Enter LOT No."); $('#LOTNo').css('border-color', 'red'); $('#LOTNo').focus(); return false;
        }
        else {
            $('#LOTNo').css('border-color', '');
        }

        if ($('#Stores').val() == "") {
            alert("Please Enter Stores."); $('#Stores').css('border-color', 'red'); $('#Stores').focus(); return false;
        }
        else {
            $('#Stores').css('border-color', '');
        }
        if ($('#MaterialId').val() == "") {
            alert("Please Enter MaterialId."); $('#MaterialId').css('border-color', 'red'); $('#MaterialId').focus(); return false;
        }
        else {
            $('#MaterialId').css('border-color', '');
        }
        if ($('#MaterialType').val() == "" || $('#MaterialType').val() == "0") {
            alert("Please select material type."); $('#MaterialType').css('border-color', 'red'); $('#MaterialType').focus(); return false;
        }
        else {
            $('#MaterialType').css('border-color', '');
        }

        if ($('#Grade').is(':disabled') != true) {
            if ($('#Grade').val() == "") {
                alert("Please Enter Grade."); $('#Grade').css('border-color', 'red'); $('#Grade').focus(); return false;
            }
            else {
                $('#Grade').css('border-color', '');
            }
        }
        if ($('#GroupID').val() == "") {
            alert("Please Enter Group ID."); $('#GroupID').css('border-color', 'red'); $('#GroupID').focus(); return false;
        }
        else {
            $('#GroupID').css('border-color', '');
        }
        if ($('#CategoryId').val() == "") {
            alert("Please Enter CategoryId."); $('#CategoryId').css('border-color', 'red'); $('#CategoryId').focus(); return false;
        }
        else {
            $('#CategoryId').css('border-color', '');
        }

        if ($('#ColourId').val() == "") {
            alert("Please select Colour."); $('#ColourId').css('border-color', 'red'); $('#ColourId').focus(); return false;
        }
        else {
            $('#ColourId').css('border-color', '');
        }
        if ($('#Substance').is(':disabled') != true) {
            if ($('#Substance').val() == "") {
                alert("Please Enter Substance."); $('#Substance').css('border-color', 'red'); $('#Substance').focus(); return false;
            }
            else {
                $('#Substance').css('border-color', '');
            }
        }
        if ($('#Weight').val() == "") {
            alert("Please Enter Weight."); $('#Weight').css('border-color', 'red'); $('#Weight').focus(); return false;
        }
        else {
            $('#Weight').css('border-color', '');
        }

        if ($('#QtyAsPerDc').val() == "") {
            alert("Please Enter QtyAsPerDc."); $('#QtyAsPerDc').css('border-color', 'red'); $('#QtyAsPerDc').focus(); return false;
        }
        else {
            $('#QtyAsPerDc').css('border-color', '');
        }


        if ($('#QtyAsPerSQFT').val() == "") {
            alert("Please select  Qty type."); $('#QtyAsPerSQFT').css('border-color', 'red'); $('#QtyAsPerSQFT').focus(); return false;
        }
        else {
            $('#QtyAsPerSQFT').css('border-color', '');
        }
        if ($("#QtyAsPerPCS").is(':disabled') != true) {
            if ($('#QtyAsPerPCS').val() == "") {
                alert("Please enter  PCS."); $('#QtyAsPerPCS').css('border-color', 'red'); $('#QtyAsPerPCS').focus(); return false;
            }
            else {
                $('#QtyAsPerPCS').css('border-color', '');
            }
        }
        if ($("#QTYType").is(':disabled') != true) {
            if ($('#QTYType').val() == "") {
                alert("Please enter  QTY Type."); $('#QTYType').css('border-color', 'red'); $('#QTYType').focus(); return false;
            }
            else {
                $('#QTYType').css('border-color', '');
            }
        }
        if ($('#ReceivedQty').val() == "") {
            alert("Please Enter Received Qty."); $('#ReceivedQty').css('border-color', 'red'); $('#ReceivedQty').focus(); return false;
        }
        else {
            $('#ReceivedQty').css('border-color', '');
        }
        if ($('#ReceivedSQFT').val() == "") {
            alert("Please select  type."); $('#ReceivedSQFT').css('border-color', 'red'); $('#ReceivedSQFT').focus(); return false;
        }
        else {
            $('#ReceivedSQFT').css('border-color', '');
        }
        if ($("#ReceivedPCS").is(':disabled') != true) {
            if ($('#ReceivedPCS').val() == "") {
                alert("Please enter  PCS."); $('#ReceivedPCS').css('border-color', 'red'); $('#ReceivedPCS').focus(); return false;
            }
            else {
                $('#ReceivedPCS').css('border-color', '');
            }
        }
        if ($("#ReceivedType").is(':disabled') != true) {
            if ($('#ReceivedType').val() == "") {
                alert("Please enter Type."); $('#ReceivedType').css('border-color', 'red'); $('#ReceivedType').focus(); return false;
            }
            else {
                $('#ReceivedType').css('border-color', '');
            }
        }
        if ($("#ShortagePCS").is(':disabled') != true) {
            if ($('#ShortagePCS').val() == "") {
                alert("Please enter ShortagePCS."); $('#ShortagePCS').css('border-color', 'red'); $('#ShortagePCS').focus(); return false;
            }
            else {
                $('#ShortagePCS').css('border-color', '');
            }
        }
        if ($("#ShortageType").is(':disabled') != true) {
            if ($('#ShortageType').val() == "") {
                alert("Please enter ShortageType."); $('#ShortageType').css('border-color', 'red'); $('#ShortageType').focus(); return false;
            }
            else {
                $('#ShortageType').css('border-color', '');
            }
        }
        if ($("#RejectedPCS").is(':disabled') != true) {
            if ($('#RejectedPCS').val() == "") {
                alert("Please enter Rejected PCS."); $('#RejectedPCS').css('border-color', 'red'); $('#RejectedPCS').focus(); return false;
            }
            else {
                $('#RejectedPCS').css('border-color', '');
            }
        }
        if ($("#RejectedType").is(':disabled') != true) {
            if ($('#RejectedType').val() == "") {
                alert("Please enter RejectedType."); $('#RejectedType').css('border-color', 'red'); $('#RejectedType').focus(); return false;
            }
            else {
                $('#RejectedType').css('border-color', '');
            }
        }
        if ($("#AcceptedPCS").is(':disabled') != true) {
            if ($('#AcceptedPCS').val() == "") {
                alert("Please enter Accepted PCS."); $('#AcceptedPCS').css('border-color', 'red'); $('#AcceptedPCS').focus(); return false;
            }
            else {
                $('#AcceptedPCS').css('border-color', '');
            }
        }
        if ($("#AcceptedType").is(':disabled') != true) {
            if ($('#AcceptedType').val() == "") {
                alert("Please enter AcceptedType."); $('#AcceptedType').css('border-color', 'red'); $('#AcceptedType').focus(); return false;
            }
            else {
                $('#AcceptedType').css('border-color', '');
            }
        }
        if ($('#QtyExcess').val() == "") {
            alert("Please Enter Qty Excess."); $('#QtyExcess').css('border-color', 'red'); $('#QtyExcess').focus(); return false;
        }
        else {
            $('#QtyExcess').css('border-color', '');
        }
        if ($('#PendingQty').val() == "") {
            alert("Please Enter Pending Qty."); $('#PendingQty').css('border-color', 'red'); $('#PendingQty').focus(); return false;
        }
        else {
            $('#PendingQty').css('border-color', '');
        }
        if ($('#Rate').val() == "") {
            alert("Please Enter Rate."); $('#Rate').css('border-color', 'red'); $('#Rate').focus(); return false;
        }
        else {
            $('#Rate').css('border-color', '');
        }
        if ($('#Value').val() == "") {
            alert("Please Enter Value."); $('#Value').css('border-color', 'red'); $('#Value').focus(); return false;
        }
        else {
            $('#Value').css('border-color', '');
        }
        if ($('#MRPMargin').val() == "") {
            alert("Please Enter MRPMargin."); $('#MRPMargin').css('border-color', 'red'); $('#MRPMargin').focus(); return false;
        }
        else {
            $('#MRPMargin').css('border-color', '');
        }
        if ($('#MRPPrice').val() == "") {
            alert("Please Enter MRPPrice."); $('#MRPPrice').css('border-color', 'red'); $('#MRPPrice').focus(); return false;
        }
        else {
            $('#MRPPrice').css('border-color', '');
        }
        if ($('#AccessibleValue').val() == "") {
            alert("Please Enter AccessibleValue."); $('#AccessibleValue').css('border-color', 'red'); $('#AccessibleValue').focus(); return false;
        }
        else {
            $('#AccessibleValue').css('border-color', '');
        }


        if ($('#Discount_Per').val() == "") {
            alert("Please Enter Discount_Per."); $('#Discount_Per').css('border-color', 'red'); $('#Discount_Per').focus(); return false;
        }
        else {
            $('#Discount_Per').css('border-color', '');
        }
        if ($('#Discount_Val').val() == "") {
            alert("Please Enter Discount_Val."); $('#Discount_Val').css('border-color', 'red'); $('#Discount_Val').focus(); return false;
        }
        else {
            $('#Discount_Val').css('border-color', '');
        }

        if ($('#ExciseDuty_Per').val() == "") {
            alert("Please Enter Excise Duty_Per."); $('#ExciseDuty_Per').css('border-color', 'red'); $('#ExciseDuty_Per').focus(); return false;
        }
        else {
            $('#ExciseDuty_Per').css('border-color', '');
        }
        if ($('#ExciseDuty_Val').val() == "") {
            alert("Please Enter ExciseDuty_Val."); $('#ExciseDuty_Val').css('border-color', 'red'); $('#ExciseDuty_Val').focus(); return false;
        }
        else {
            $('#ExciseDuty_Val').css('border-color', '');
        }
        if ($('#ST_VAT_CST_Per').val() == "") {
            alert("Please Enter ST_VAT_CST_Per."); $('#ST_VAT_CST_Per').css('border-color', 'red'); $('#ST_VAT_CST_Per').focus(); return false;
        }
        else {
            $('#ST_VAT_CST_Per').css('border-color', '');
        }
        if ($('#ST_VAT_CST_Val').val() == "") {
            alert("Please Enter ST/VAT/CST/Val ."); $('#ST_VAT_CST_Val').css('border-color', 'red'); $('#ST_VAT_CST_Val').focus(); return false;
        }
        else {
            $('#ST_VAT_CST_Val').css('border-color', '');
        }
        if ($('#Ecess_Per').val() == "") {
            alert("Please Enter Ecess_Per."); $('#Ecess_Per').css('border-color', 'red'); $('#Ecess_Per').focus(); return false;
        }
        else {
            $('#Ecess_Per').css('border-color', '');
        }
        if ($('#Ecess_Val').val() == "") {
            alert("Please Enter Ecess_Val."); $('#Ecess_Val').css('border-color', 'red'); $('#Ecess_Val').focus(); return false;
        }
        else {
            $('#Ecess_Val').css('border-color', '');
        }
        if ($('#SH_Ecess_Per').val() == "") {
            alert("Please Enter SH_Ecess_Per."); $('#SH_Ecess_Per').css('border-color', 'red'); $('#SH_Ecess_Per').focus(); return false;
        }
        else {
            $('#SH_Ecess_Per').css('border-color', '');
        }
        if ($('#SH_Ecess_Val').val() == "") {
            alert("Please Enter SH_Ecess_Val."); $('#SH_Ecess_Val').css('border-color', 'red'); $('#SH_Ecess_Val').focus(); return false;
        }
        else {
            $('#SH_Ecess_Val').css('border-color', '');
        }

        if ($('#Surcharge_Val').val() == "") {
            alert("Please Enter Surcharge_Val."); $('#Surcharge_Val').css('border-color', 'red'); $('#Surcharge_Val').focus(); return false;
        }
        else {
            $('#Surcharge_Val').css('border-color', '');
        }

        if ($('#TagsPiecesDiscount_Val').val() == "") {
            alert("Please Enter TagsPiecesDiscount_Val."); $('#TagsPiecesDiscount_Val').css('border-color', 'red'); $('#TagsPiecesDiscount_Val').focus(); return false;
        }
        else {
            $('#TagsPiecesDiscount_Val').css('border-color', '');
        }
        if ($('#TagsPiecesDiscount_Per').val() == "") {
            alert("Please Enter TagsPiecesDiscount_Per."); $('#TagsPiecesDiscount_Per').css('border-color', 'red'); $('#TagsPiecesDiscount_Per').focus(); return false;
        }
        else {
            $('#TagsPiecesDiscount_Per').css('border-color', '');
        }
    }


</script>
