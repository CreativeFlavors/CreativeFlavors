@model MMS.Web.Models.GateEntryModel.GateEntryOutwardDocument

<div class="right-form-section clearfix">
    <form class="form-inline" role="form">
        <div class="tab-content">
            <div id="step1" class="tab-pane fade in active">
                <div class="container-fluid">
                    <div class="row" style="padding-left:40%;margin-top:5%">
                        <div class="col-md-6 col-sm-6 col-lg-6 col-xs-12">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.OutwardDocTypeId, MMS.Web.ExtensionMethod.HtmlHelper.GateEntryInwardDocType(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                 
                    <div class="row" style="margin-top: 40px;">
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Gate Entry No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.HiddenFor(x => x.GateEntryOutwardDocumentId)
                                        @Html.TextBoxFor(m => m.GateEntryNo, new { @class = "form-control text-field", @readonly = "true" })
                                    </div>
                                </div>
                            </div>

                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">MODE</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.DropDownListFor(m => m.Mode, MMS.Web.ExtensionMethod.HtmlHelper.ModeGEDoc(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                @if (Model.Mode == "3")
                                {
                                    <div class="form-group">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                            <div id="lblCourierNo">
                                                <label for="text" class="form-label">Courier No</label>
                                            </div>
                                        </div>
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                            <div id="txtCourierNo">
                                                @Html.TextBoxFor(m => m.CourierNo, new { @class = "form-control text-field" })
                                            </div>
                                        </div>
                                    </div>
                                }
                                else if (Model.Mode == "2" || Model.Mode == "1")
                                {
                                   
                                }
                                else
                                {
                                    <div class="form-group">
                                        <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                            <div id="lblCourierNo">
                                                <label for="text" class="form-label">Courier No</label>
                                            </div>
                                        </div>
                                        <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                            <div id="txtCourierNo">
                                                @Html.TextBoxFor(m => m.CourierNo, new { @class = "form-control text-field" })
                                            </div>
                                        </div>
                                    </div>
                                }

                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Person Name</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                       @Html.TextBoxFor(m => m.PersonName, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Mode of Transport</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.DropDownListFor(m => m.ModeofTransport, MMS.Web.ExtensionMethod.HtmlHelper.ModeofTransportGEDoc(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Vehicle No</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                @if (Model.ModeofTransport == "3")
                                {
                                    @Html.TextBoxFor(m => m.VehicleNo, new { @class = "form-control text-field", @Disabled = "true" })
                                }
                                else if ((Model.ModeofTransport == "1") || (Model.ModeofTransport == "2"))
                                {
                                    @Html.TextBoxFor(m => m.VehicleNo, new { @class = "form-control text-field" })
                                }
                                else
                                {
                                    @Html.TextBoxFor(m => m.VehicleNo, new { @class = "form-control text-field" })
                                }
                                       
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Remarks</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.TextAreaFor(m => m.Remarks, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                          
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Entry Date and Time</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @if (Model != null && Model.GateEntryOutwardDocumentId != 0 && Model.EntryDateTime != null)
                                        {
                                            var from = Model.EntryDateTime;
                                            @Html.TextBoxFor(m => from, new { @class = "form-control text-field", @id = "EntryDateTime", @readonly = "true", @value = from })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.EntryDate, new { @Value = System.DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss"), @class = "form-control text-field ", @readonly = "true" })
                                        }
                                     
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Company</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(m => m.Company, new { @class = "form-control text-field" })   
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Unit / Division</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">

                                        @Html.DropDownListFor(m => m.Unit, MMS.Web.ExtensionMethod.HtmlHelper.UnitDivision(), new { @class = "select-style text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Sent To Whom</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @Html.TextBoxFor(m => m.AddressToWhom, new { @class = "form-control text-field" })
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Doc.Handed Over To</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @if (Model != null && Model.GateEntryOutwardDocumentId != 0)
                                        {  
                                            @Html.TextBoxFor(m => m.HandOverTo, new { @class = "form-control text-field" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.HandOverTo, new { @class = "form-control text-field", @readonly = "true" })
                                        }
                                    </div>
                                </div>
                            </div>
                            <div class="field-section">
                                <div class="form-group">
                                    <div class="col-md-5 col-sm-5 col-lg-5 col-xs-12">
                                        <label for="text" class="form-label">Doc.Received By</label>
                                    </div>
                                    <div class="col-md-7 col-sm-7 col-lg-7 col-xs-12">
                                        @if (Model != null && Model.GateEntryOutwardDocumentId != 0)
                                        {
                                            @Html.TextBoxFor(m => m.ReceivedBy, new { @class = "form-control text-field" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.ReceivedBy, new { @class = "form-control text-field", @readonly = "true" })
                                        }
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="col-md-4 col-sm-4 col-lg-4 col-xs-12 no-padding">
                        </div>
                    </div>
                    
                    <hr>
                </div>
            </div>


        </div>
        <div class="form-footer">
            <div class="row">
                <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 text-center">



                    <input type="button" onclick="Cancel()" class="btn btn-default btn-style" title="Back" value="Back">
                    @if (Model != null && Model.GateEntryOutwardDocumentId != 0)
                    {

                        <input type="button" onclick="Update()" class="btn btn-default btn-style" id="GateEntryDocumentId" title="Update" value="Update">
                    }
                    else
                    {
                        <input type="button" onclick="Save()" class="btn btn-default btn-style" title="Save" value="Save">
                    }
                    <button type="submit" class="btn btn-default btn-style">Clear</button>


                </div>
            </div>
        </div>
    </form>
   
</div>

<script>
    $(document).ajaxStart(function () {
        $(".loader-overlay").css("display", "block");
    });

    $(document).ajaxComplete(function () {
        $(".loader-overlay").css("display", "none");
    });
    $(window).load(function () {
        $('.loader-overlay').fadeOut('fast');
    });

    if ($('#Mode').text()) {
        var a = ($(this).text == "Please Select");
        {
            $('#lblCourierNo').hide();
            $('#txtCourierNo').hide();
        }
    }

    $('#Mode').click(function () {
        var s = $('#Mode :selected').text();
        if (s == "Courier") {
            $('#txtCourierNo').show();
            $('#lblCourierNo').show();
        }
        else {
            $('#txtCourierNo').hide();
            $('#lblCourierNo').hide();
        }
    });
    $('#ModeofTransport').on("change", function () {
        var v = $("#ModeofTransport option:selected").text();

        if (v == "In person") {
            $('#VehicleNo').prop('disabled', true);
        }
        else {
            $('#VehicleNo').prop('disabled', false);
        }
    });
    </script>