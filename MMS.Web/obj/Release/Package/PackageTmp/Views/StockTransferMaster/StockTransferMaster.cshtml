@{
    ViewBag.Title = "StockTransferMaster";
    Layout = "~/Views/Shared/_Layout.cshtml";
    
    
}

<link href="~/Content/css/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/css/FormStyle.css" rel="stylesheet" />


<script>
     
    $(document).ready(function () {
        $("#EditColorPartial").hide();

    });
    function Save() {
        if ($('#GrnTypeMasterId').val() == "") {
            alert("Please Select GRN Type.")
            $('#GrnTypeMasterId').css('border-color', 'red');
            $('#GrnTypeMasterId').focus();
            return false;
        }
        else {
            $('#GrnTypeMasterId').css('border-color', '');
        }
        if ($('#GRNNo').val() == "") {
            alert("Please Enter DC/GRN No.")
            $('#GRNNo').css('border-color', 'red');
            $('#GRNNo').focus();
            return false;
        }
        else {
            $('#GRNNo').css('border-color', '');
        }
        if ($('#IssuedTo').val() == "") {
            alert("Please Enter Issued To/From.")
            $('#IssuedTo').css('border-color', 'red');
            $('#IssuedTo').focus();
            return false;
        }
        else {
            $('#IssuedTo').css('border-color', '');
        }
       
        if ($('#StoreMasterId').val() == "") {
            alert("Please Select Stores.")
            $('#StoreMasterId').css('border-color', 'red');
            $('#StoreMasterId').focus();
            return false;
        }
        else {
            $('#StoreMasterId').css('border-color', '');
        }
        
        if ($('#TransportDetails').val() == "") {
            alert("Please Enter  Transport Details.")
            $('#TransportDetails').css('border-color', 'red');
            $('#TransportDetails').focus();
            return false;
        }
        else {
            $('#TransportDetails').css('border-color', '');
        }
        if ($('#Remarks').val() == "") {
            alert("Please Enter Ref.Dc No  Remarks.")
            $('#Remarks').css('border-color', 'red');
            $('#Remarks').focus();
            return false;
        }
        else {
            $('#Remarks').css('border-color', '');
        }
        if ($('#Rate').val() == "") {
            alert("Please Select  Rate.")
            $('#Rate').css('border-color', 'red');
            $('#Rate').focus();
            return false;
        }
        else {
            $('#Rate').css('border-color', '');
        }
        if ($('#Value').val() == "") {
            alert("Please Select Value Mode.")
            $('#Value').css('border-color', 'red');
            $('#Value').focus();
            return false;
        }
        else {
            $('#Value').css('border-color', '');
        }
        if ($('#PartyDCNo').val() == "") {
            alert("Please Enter Party DC No.")
            $('#PartyDCNo').css('border-color', 'red');
            $('#PartyDCNo').focus();
            return false;
        }
        else {
            $('#PartyDCNo').css('border-color', '');
        }
        if ($('#MatCategoryId').val() == "") {
            alert("Please Select Material Category.")
            $('#MatCategoryId').css('border-color', 'red');
            $('#MatCategoryId').focus();
            return false;
        }
        else {
            $('#MatCategoryId').css('border-color', '');
        }
        if ($('#MatGroupId').val() == "") {
            alert("Please Select Material Group.")
            $('#MatGroupId').css('border-color', 'red');
            $('#MatGroupId').focus();
            return false;
        }
        else {
            $('#MatGroupId').css('border-color', '');
        }
        if ($('#ColourId').val() == "") {
            alert("Please Select Colour.")
            $('#ColourId').css('border-color', 'red');
            $('#ColourId').focus();
            return false;
        }
        else {
            $('#ColourId').css('border-color', '');
        }
        if ($('#Quantity').val() == "") {
            alert("Please Enter Quantity  ")
            $('#Quantity').css('border-color', 'red');
            $('#Quantity').focus();
            return false;
        }
        else {
            $('#Quantity').css('border-color', '');
        }
        if ($('#ClosingStockInAllStores').val() == "") {
            alert("Please Enter Closing Stock In All Stores.")
            $('#ClosingStockInAllStores').css('border-color', 'red');
            $('#ClosingStockInAllStores').focus();
            return false;
        }
        else {
            $('#ClosingStockInAllStores').css('border-color', '');
        }
        if ($('#ClosingStockingInCurrentStores').val() == "") {
            alert("Please Enter Closing Stocking In Current Stores.")
            $('#ClosingStockingInCurrentStores').css('border-color', 'red');
            $('#ClosingStockingInCurrentStores').focus();
            return false;
        }
        else {
            $('#ClosingStockingInCurrentStores').css('border-color', '');
        }
        if ($('#ReservedStock').val() == "") {
            alert("Please Enter Reserved Stock.")
            $('#ReservedStock').css('border-color', 'red');
            $('#ReservedStock').focus();
            return false;
        }
        else {
            $('#ReservedStock').css('border-color', '');
        }
        if ($('#FreeStock').val() == "") {
            alert("Please Enter Free Stock.")
            $('#FreeStock').css('border-color', 'red');
            $('#FreeStock').focus();
            return false;
        }
        else {
            $('#FreeStock').css('border-color', '');
        }
        if ($('#InvoiceRef').val() == "") {
            alert("Please Select Value Mode.")
            $('#InvoiceRef').css('border-color', 'red');
            $('#InvoiceRef').focus();
            return false;
        }
        else {
            $('#InvoiceRef').css('border-color', '');
        }
        if ($('#InvoiceDate').val() == "") {
            alert("Please Select Value Mode.")
            $('#InvoiceDate').css('border-color', 'red');
            $('#InvoiceDate').focus();
            return false;
        }
        else {
            $('#InvoiceDate').css('border-color', '');
        }
        $.ajax({
            type: 'POST',
            url: '/StockTransferMaster/StockTransferMaster',
            data: {
                GrnTypeMasterId: $('#GrnTypeMasterId').val(),
                GRNNo: $('#GRNNo').val(),
                IssuedTo: $('#IssuedTo').val(),
                StoreMasterId: $('#StoreMasterId').val(),
                TransportDetails: $('#TransportDetails').val(),
                Remarks: $('#Remarks').val(),
                Rate: $('#Rate').val(),
                Value: $('#Value').val(),
                PartyDCNo: $('#PartyDCNo').val(),
                MatCategoryId: $('#MatCategoryId').val(),
                MatGroupId: $('#MatGroupId').val(),
                ColourId: $('#ColourId').val(),
                Quantity: $('#Quantity').val(),
                ClosingStockInAllStores: $('#ClosingStockInAllStores').val(),
                ClosingStockingInCurrentStores: $('#ClosingStockingInCurrentStores').val(),
                ReservedStock: $('#ReservedStock').val(),
                FreeStock: $('#FreeStock').val(),
                InvoiceRef: $('#InvoiceRef').val(),
                InvoiceDate: $('#InvoiceDate').val(),
                 
                
            },
            success: function (data) {
                if (data.StockTransferID != "" || data.StockTransferID != 0) {
                    alert('Saved Successfully.');
                    location.href = "/StockTransferMaster/StockTransferMaster";
                    return false;
                }
                else {
                    alert('Save process Failed.');
                    location.href = "/StockTransferMaster/StockTransferMaster";
                    return false;
                }

            },
            error: function (ex) {
                alert('Already Exist in the database.');
            }
        });
    }
    function Update(arg) {
        if ($('#GrnTypeMasterId').val() == "") {
            alert("Please Select GRN Type.")
            $('#GrnTypeMasterId').css('border-color', 'red');
            $('#GrnTypeMasterId').focus();
            return false;
        }
        else {
            $('#GrnTypeMasterId').css('border-color', '');
        }
        if ($('#GRNNo').val() == "") {
            alert("Please Enter DC/GRN No.")
            $('#GRNNo').css('border-color', 'red');
            $('#GRNNo').focus();
            return false;
        }
        else {
            $('#GRNNo').css('border-color', '');
        }
        if ($('#IssuedTo').val() == "") {
            alert("Please Enter Issued To/From.")
            $('#IssuedTo').css('border-color', 'red');
            $('#IssuedTo').focus();
            return false;
        }
        else {
            $('#IssuedTo').css('border-color', '');
        }

        if ($('#StoreMasterId').val() == "") {
            alert("Please Select Stores.")
            $('#StoreMasterId').css('border-color', 'red');
            $('#StoreMasterId').focus();
            return false;
        }
        else {
            $('#StoreMasterId').css('border-color', '');
        }

        if ($('#TransportDetails').val() == "") {
            alert("Please Enter  Transport Details.")
            $('#TransportDetails').css('border-color', 'red');
            $('#TransportDetails').focus();
            return false;
        }
        else {
            $('#TransportDetails').css('border-color', '');
        }
        if ($('#Remarks').val() == "") {
            alert("Please Enter Ref.Dc No  Remarks.")
            $('#Remarks').css('border-color', 'red');
            $('#Remarks').focus();
            return false;
        }
        else {
            $('#Remarks').css('border-color', '');
        }
        if ($('#Rate').val() == "") {
            alert("Please Select  Rate.")
            $('#Rate').css('border-color', 'red');
            $('#Rate').focus();
            return false;
        }
        else {
            $('#Rate').css('border-color', '');
        }
        if ($('#Value').val() == "") {
            alert("Please Select Value Mode.")
            $('#Value').css('border-color', 'red');
            $('#Value').focus();
            return false;
        }
        else {
            $('#Value').css('border-color', '');
        }
        if ($('#PartyDCNo').val() == "") {
            alert("Please Enter Party DC No.")
            $('#PartyDCNo').css('border-color', 'red');
            $('#PartyDCNo').focus();
            return false;
        }
        else {
            $('#PartyDCNo').css('border-color', '');
        }
        if ($('#MatCategoryId').val() == "") {
            alert("Please Select Material Category.")
            $('#MatCategoryId').css('border-color', 'red');
            $('#MatCategoryId').focus();
            return false;
        }
        else {
            $('#MatCategoryId').css('border-color', '');
        }
        if ($('#MatGroupId').val() == "") {
            alert("Please Select Material Group.")
            $('#MatGroupId').css('border-color', 'red');
            $('#MatGroupId').focus();
            return false;
        }
        else {
            $('#MatGroupId').css('border-color', '');
        }
        if ($('#ColourId').val() == "") {
            alert("Please Select Colour.")
            $('#ColourId').css('border-color', 'red');
            $('#ColourId').focus();
            return false;
        }
        else {
            $('#ColourId').css('border-color', '');
        }
        if ($('#Quantity').val() == "") {
            alert("Please Enter Quantity  ")
            $('#Quantity').css('border-color', 'red');
            $('#Quantity').focus();
            return false;
        }
        else {
            $('#Quantity').css('border-color', '');
        }
        if ($('#ClosingStockInAllStores').val() == "") {
            alert("Please Enter Closing Stock In All Stores.")
            $('#ClosingStockInAllStores').css('border-color', 'red');
            $('#ClosingStockInAllStores').focus();
            return false;
        }
        else {
            $('#ClosingStockInAllStores').css('border-color', '');
        }
        if ($('#ClosingStockingInCurrentStores').val() == "") {
            alert("Please Enter Closing Stocking In Current Stores.")
            $('#ClosingStockingInCurrentStores').css('border-color', 'red');
            $('#ClosingStockingInCurrentStores').focus();
            return false;
        }
        else {
            $('#ClosingStockingInCurrentStores').css('border-color', '');
        }
        if ($('#ReservedStock').val() == "") {
            alert("Please Enter Reserved Stock.")
            $('#ReservedStock').css('border-color', 'red');
            $('#ReservedStock').focus();
            return false;
        }
        else {
            $('#ReservedStock').css('border-color', '');
        }
        if ($('#FreeStock').val() == "") {
            alert("Please Enter Free Stock.")
            $('#FreeStock').css('border-color', 'red');
            $('#FreeStock').focus();
            return false;
        }
        else {
            $('#FreeStock').css('border-color', '');
        }
        if ($('#InvoiceRef').val() == "") {
            alert("Please Select Value Mode.")
            $('#InvoiceRef').css('border-color', 'red');
            $('#InvoiceRef').focus();
            return false;
        }
        else {
            $('#InvoiceRef').css('border-color', '');
        }
        if ($('#InvoiceDate').val() == "") {
            alert("Please Select Value Mode.")
            $('#InvoiceDate').css('border-color', 'red');
            $('#InvoiceDate').focus();
            return false;
        }
        else {
            $('#InvoiceDate').css('border-color', '');
        }
        $.ajax({
            type: 'POST',
            url: '/StockTransferMaster/Update',
            data: {
                GrnTypeMasterId: $('#GrnTypeMasterId').val(),
                GRNNo: $('#GRNNo').val(),
                IssuedTo: $('#IssuedTo').val(),
                StoreMasterId: $('#StoreMasterId').val(),
                TransportDetails: $('#TransportDetails').val(),
                Remarks: $('#Remarks').val(),
                Rate: $('#Rate').val(),
                Value: $('#Value').val(),
                PartyDCNo: $('#PartyDCNo').val(),
                MatCategoryId: $('#MatCategoryId').val(),
                MatGroupId: $('#MatGroupId').val(),
                ColourId: $('#ColourId').val(),
                Quantity: $('#Quantity').val(),
                ClosingStockInAllStores: $('#ClosingStockInAllStores').val(),
                ClosingStockingInCurrentStores: $('#ClosingStockingInCurrentStores').val(),
                ReservedStock: $('#ReservedStock').val(),
                FreeStock: $('#FreeStock').val(),
                InvoiceRef: $('#InvoiceRef').val(),
                InvoiceDate: $('#InvoiceDate').val(),
                StockTransferID: $('#StockTransferID').val(),
            },
            success: function (data) {
                if (data.StockTransferID != "" || data.StockTransferID != 0) {
                    alert('Updated Successfully.');
                    location.href = "/StockTransferMaster/StockTransferMaster";
                    return false;
                }
                else {
                    alert('Updation failed.');
                    location.href = "/StockTransferMaster/StockTransferMaster";
                    return false;
                }

            },
            error: function (ex) {
                alert('Already Exist in the database.');
            }
        });
    }
</script>
<h2 class="content-title">Stock Transfer Master</h2>
<div style="width: 100%; float: left;">

    <div id="tabVehicleWatchList">
        @Html.Action("StockTransferMasterGrid", "StockTransferMaster")
    </div>
</div>
